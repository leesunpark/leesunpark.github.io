__nvl_error=function(a,c,b){if(typeof a=="object"&&typeof a.description=="string"){a=a+" : "+a.description}if(!c){c=document.location}if(!b){b=0}};window.onerror=__nvl_error;if(typeof nhn==="undefined"){window.nhn={}}if(typeof news=="undefined"){news={}}if(typeof news.common=="undefined"){news.common={}}news.common.Flicking=jindo.$Class({$init:function(a){this.itemList=null;this.startIndex=0;this.currentIndexes=[];this.nextIndexes=[];this.step=1;this.container="container";this.random=false;this.auto=false;this.interval=3000;this.intervalId=null;this.afterMove=null;this.suffle=false;this.initIndex=0;this.isFirst=false;if(a.itemList){this.itemList=jindo.$A();for(var b=0;b<a.itemList.length;b++){this.itemList.push(jindo.$Element(a.itemList[b]))}}this.step=a.step||this.step;if(this.step>this.itemList.length){this.step=this.itemList.length}this.container=jindo.$Element(a.container||this.container);if(a.startIndex!=undefined&&a.startIndex!=""){this.suffle=true;this.currentIndexes[0]=parseInt(a.startIndex);var c=parseInt(a.startIndex)+1;if(c>=this.itemList.length()){c=0}this._RANDINDEX=[];for(var b=0;b<this.itemList.length();b++){if(c!=b){this._RANDINDEX.push(b)}}this.sufflePos=this.itemList.length()-1;for(var b=0;b<this.itemList.length()*3;b++){this._ShuffleIndexes()}this.sufflePos=this.itemList.length()-2;this._RANDINDEX.push(c)}else{if(a.random==true){this._setRandomStartIndex()}else{if(a.startIndex==undefined||a.startIndex==""){this.startIndex=1}}}if(a.initIndex!=undefined){this.startIndex=parseInt(a.initIndex);this.nextIndexes.push(this.startIndex)}this.auto=a.auto||this.auto;if(a.interval){this.interval=a.interval}if(a.afterMove){this.afterMove=jindo.$Fn(a.afterMove,this).bind()}this.isFirst=a.isFirst||this.isFirst;this.next()},_setRandomStartIndex:function(){var a=Math.floor(Math.random()*this.itemList.length());this.currentIndexes[0]=a},start:function(a){if(a&&a.stopDefault){a.stopDefault()}this.stop();if(this.auto){this.intervalId=window.setInterval(jindo.$Fn(this.next,this).bind(),this.interval)}},stop:function(a){if(a&&a.stopDefault){a.stopDefault()}if(this.intervalId!=null){window.clearInterval(this.intervalId);this.intervalId=null}},_getNextIndexes:function(e){var b=[];var d=this.itemList.length();if(this.suffle){this.sufflePos=this.sufflePos+e;if(d==this.sufflePos){this.sufflePos=0}if(this.sufflePos<0){this.sufflePos=d-1}b.push(this._RANDINDEX[this.sufflePos]);return b}var f=(this.currentIndexes&&this.currentIndexes.length>0)?(this.currentIndexes[0]+this.step*e)%this.itemList.length():0;if(f<0){f+=d}var c=f+this.step;if(c>=d){c=c-d}if(f<c){for(var a=f;a<c;a++){b.push(a)}}else{var g=0;for(var a=f;a<d;a++,g++){b.push(a)}for(var a=0;a<f-1&&g<this.step;a++,g++){b.push(a)}}return b},_ShuffleIndexes:function(){if(this.sufflePos<1){this.sufflePos=this.itemList.length()-1}var c=Math.round(Math.random()*100);var a=c%this.sufflePos;var b=this._RANDINDEX[a];this._RANDINDEX[a]=this._RANDINDEX[this.sufflePos-1];this._RANDINDEX[this.sufflePos-1]=b;this.sufflePos--},move:function(e){if(this.itemList!=null){var a=this.itemList;if(this.isFirst){a.get(0).hide();this.isFirst=false}else{this.nextIndexes=this._getNextIndexes(e)}if(this.currentIndexes!=null&&this.currentIndexes.length>0){for(var c=0;c<this.currentIndexes.length;c++){var b=this.currentIndexes[c];var d=a.get(b);d.hide()}}for(var c=this.nextIndexes.length-1;c>=0;c--){var b=this.nextIndexes[c];var d=a.get(b);if(d!=null&&d.parent()!=null){d.parent().prepend(d);d.show()}}this.currentIndexes=this.nextIndexes;if(this.currentIndexes.length==1){sessionStorage.newsHomeTodayMainGroupIndex=this.currentIndexes}if(this.afterMove!=null){this.afterMove()}}},next:function(a){if(a&&a.stopDefault){a.stopDefault()}this.move(1)},prev:function(a){if(a&&a.stopDefault){a.stopDefault()}this.move(-1)}});news.common.GroupFlicking=jindo.$Class({list:null,$init:function(){this.list=jindo.$A()},push:function(a){this.list.push(a)},start:function(a){if(a&&a.stopDefault){a.stopDefault()}this.list.forEach(function(c,b,d){c.start()})},stop:function(a){if(a&&a.stopDefault){a.stopDefault()}this.list.forEach(function(c,b,d){c.stop()})},prev:function(a){if(a&&a.stopDefault){a.stopDefault()}this.list.forEach(function(c,b,d){c.prev()})},next:function(a){if(a&&a.stopDefault){a.stopDefault()}this.list.forEach(function(c,b,d){c.next()})}});news.common.RollingItem=jindo.$Class({componentId:null,id:null,titleSrc:null,imgSrc:null,textSrc:null,textSrc1:null,textSrc2:null,func:null,arg:null,summarySrc:"",$init:function(a){if(a.componentId){this.componentId=a.componentId}if(a.id){this.id=a.id}if(a.titleSrc){this.titleSrc=a.titleSrc}if(a.imgSrc){this.imgSrc=a.imgSrc}if(a.textSrc){this.textSrc=a.textSrc}if(a.textSrc1){this.textSrc1=a.textSrc1}if(a.textSrc2){this.textSrc2=a.textSrc2}if(a.func){this.func=a.func}if(a.arg){this.arg=a.arg}if(a.summarySrc){this.summarySrc=a.summarySrc}}});news.common.Rolling=jindo.$Class({id:null,items:new Array(),interval:10,isStop:false,rollingCount:2,executor:null,startIndex:1,showId:"ROLLING",isEffectAppear:false,isPagingBold:false,$init:function(a){rollingObj=this;if(a.rollingItems){this.items=a.rollingItems}if(a.id){this.id=a.id}if(a.interval){this.interval=a.interval}if(a.isStop){this.isStop=a.isStop}if(a.rollingCount){this.rollingCount=a.rollingCount}if(a.showId){this.showId=a.showId}if(a.isEffectAppear){this.isEffectAppear=a.isEffectAppear}if(a.isPagingBold){this.isPagingBold=a.isPagingBold}},setRandomStartIndex:function(){this.startIndex=Math.floor(Math.random()*10)%this.items.length+1;for(var b=1;b<this.startIndex;b++){this.items.push(this.items.shift())}for(var b=0;b<this.rollingCount;b++){var g=[rollingObj.showId,"",this.items[b].componentId,"_",b.toString()];var e=this.items[b].titleSrc;if(e!=null){g[1]="_TITLE_";jindo.$(g.join("")).innerHTML=e}var d=this.items[b].imgSrc;if(d!=null){g[1]="_IMG_";jindo.$(g.join("")).innerHTML=d}var a=this.items[b].textSrc;if(a!=null){g[1]="_TEXT_";jindo.$(g.join("")).innerHTML=a}var h=this.items[b].textSrc1;if(h!=null){g[1]="_TEXT1_";jindo.$(g.join("")).innerHTML=h}var f=this.items[b].textSrc2;if(f!=null){g[1]="_TEXT2_";jindo.$(g.join("")).innerHTML=f}var c=this.items[b].summarySrc;if(c){g[1]="_SUMMARY_";jindo.$(g.join("")).innerHTML=c}}},addItem:function(b){this.isStop=true;for(var a=0;a<b.length;a++){this.items.push(b[a])}this.items.sort();this.isStop=false},removeItem:function(a){},start:function(){this.isStop=false;var a=this;this.executor=jindo.$Fn(a.rolling).setInterval(this.interval,[a,true])},stop:function(){this.isStop=true},reStart:function(){this.isStop=false},removeRolling:function(){this.isStop=true;this.executor=null},backRolling:function(b,m){if(m&&b.isStop){return}var p=b.items.length;for(var h=0;h<b.rollingCount;h++){b.items.unshift(b.items.pop())}for(var h=b.rollingCount-1;h>=0;h--){var g=b.items[h];if(!g){continue}if(g.func!=null&&typeof(g.func)=="function"){g.func.call(g.func,g.arg,true);continue}var k=jindo.$(b.showId+"_TITLE_"+g.componentId+"_"+h);if(k){k.innerHTML=g.titleSrc}var d=jindo.$(b.showId+"_IMG_"+g.componentId+"_"+h);if(d){d.innerHTML=g.imgSrc}if(b.isEffectAppear){var l=d.getElementsByTagName("IMG");for(var f=0;f<l.length;f++){if(f>0){break}setTimeout('changeOpacity("'+l[f].id+'")',50)}}var e=jindo.$(b.showId+"_TEXT_"+g.componentId+"_"+h);if(e){e.innerHTML=g.textSrc}var o=jindo.$(b.showId+"_TEXT1_"+g.componentId+"_"+h);if(o){o.innerHTML=g.textSrc1}var a=jindo.$(b.showId+"_SUMMARY_"+g.componentId+"_"+h);if(a){a.innerHTML=g.summarySrc}var n=jindo.$(b.showId+"_TEXT2_"+g.componentId+"_"+h);if(n){n.innerHTML=g.textSrc2}if(h==0){if(b.startIndex<=1){b.startIndex=p/b.rollingCount+1}b.startIndex--;var c=jindo.$(b.showId+"_PAGING_"+g.componentId);if(c){if(b.isPagingBold){c.innerHTML="<strong>"+b.startIndex+"</strong> / "+(p/b.rollingCount)}else{c.innerHTML=b.startIndex+" / "+(p/b.rollingCount)}}}}},rolling:function(b,m){if(m&&b.isStop){return}var p=b.items.length;for(var h=0;h<b.rollingCount;h++){b.items.push(b.items.shift())}for(var h=0;h<b.rollingCount;h++){var g=b.items[h];if(!g){continue}if(g.func!=null&&typeof(g.func)=="function"){g.func.call(g.func,g.arg,true);continue}var k=jindo.$(b.showId+"_TITLE_"+g.componentId+"_"+h);if(k){k.innerHTML=g.titleSrc}var d=jindo.$(b.showId+"_IMG_"+g.componentId+"_"+h);if(d){d.innerHTML=g.imgSrc}if(b.isEffectAppear){var l=d.getElementsByTagName("IMG");for(var f=0;f<l.length;f++){if(f>0){break}setTimeout('changeOpacity("'+l[f].id+'")',50)}}var e=jindo.$(b.showId+"_TEXT_"+g.componentId+"_"+h);if(e){e.innerHTML=g.textSrc}var o=jindo.$(b.showId+"_TEXT1_"+g.componentId+"_"+h);if(o){o.innerHTML=g.textSrc1}var a=jindo.$(b.showId+"_SUMMARY_"+g.componentId+"_"+h);if(a){a.innerHTML=g.summarySrc}var n=jindo.$(b.showId+"_TEXT2_"+g.componentId+"_"+h);if(n){n.innerHTML=g.textSrc2}if((h+1)==b.rollingCount){if(b.startIndex>=(p/b.rollingCount)){b.startIndex=0}b.startIndex++;var c=jindo.$(b.showId+"_PAGING_"+g.componentId);if(c){if(b.isPagingBold){c.innerHTML="<strong>"+b.startIndex+"</strong> / "+(p/b.rollingCount)}else{c.innerHTML=b.startIndex+" / "+(p/b.rollingCount)}}}}}});function changeOpacity(h){try{var g=jindo.$(h);if(g&&g.style.filter){var b="alpha(opacity=";var a=")";var d=g.style.filter;var c=Number(d.substring(d.indexOf(b)+14,d.indexOf(a)));if(c<100){g.style.filter=b+(c+5)+a;setTimeout('changeOpacity("'+h+'")',50)}}}catch(f){}}news.common.PhotoGallery={_pComponentId:/cid=(\d*)&?/,_sBasePath:"/main/photogallery/index.nhn?cid=",_getUrl:function(a,d,f){var e=(a.indexOf("news.naver.com")>=0)?a.split("/main/")[0]:"";if(a.indexOf("/election/region2014")>=0){return e+"/main/election/region2014/news/graphicList.nhn#"+d+"_"+f}else{if(a.indexOf("/photogallery/")>=0||!this._pComponentId.test(a)){return a}else{if(a.indexOf("entertain.naver.com/photo")>=0){return a}}}var c=a.match(this._pComponentId)[1];var b=e+this._sBasePath+c;if(!!d&&!!f){b+="#"+d+"_"+f}return b},openByUrlOidAid:function(a,b,c){if(!a){return}window.open(this._getUrl(a,b,c))},loadByUrlOidAid:function(a,b,c){if(!a){return}document.location=this._getUrl(a,b,c)},openByCidSid1:function(c,a){if(!c){return}var b=this._sBasePath+c;if(typeof a!="undefined"&&a){b+="&sid1="+a}window.open(b)},loadByCidSid1:function(c,a){if(!c){return}var b=this._sBasePath+c;if(typeof a!="undefined"&&a){b+="&sid1="+a}document.location=b}};news.common.PhotoSlide={popupName:"photoslide",popupFeatures:"top=30,left=230,width=735,height=660,toolbar=no,location=no,directories=no,status=yes,menubar=no,resizable=no,scrollbars=no",_getUrl:function(a,g,f,d){a=(!!a)?a:"";var c;if(a.indexOf("/photoslide/")>=0){c=a}else{if(a.indexOf("entertain.naver.com/photo")>=0){c=a}else{var e=(a.indexOf("news.naver.com")>=0)?a.split("/main/")[0]:"";var b=(!!g)?g:a.split("cid=")[1].split("&")[0];if(!!f&&!!d){c=e+"/main/photoslide/listByItemInfo.nhn?sparam.componentId="+b+"&articleId="+f+"&officeId="+d}else{c=e+"/main/photoslide/list.nhn?sparam.componentId="+b}}}return c},open:function(a,e,d,c){var b=this._getUrl(a,e,d,c);window.open(b,this.popupName,this.popupFeatures)}};function openPhotoSlide(b,a){news.common.PhotoGallery.loadByCidSid1(b,a)}function openPhotoSlideOpen(b,a){news.common.PhotoGallery.openByCidSid1(b,a)}function openPhotoSlideByLinkUrl(a,c,b){news.common.PhotoGallery.loadByUrlOidAid(a,b,c)}function openPhotoSlideOpenByLinkUrl(a,c,b){news.common.PhotoGallery.openByUrlOidAid(a,b,c)}function VodOpen(a){if(a){window.open(a,"VOD","toolbar=no,location=no,directories=no,status=yes,menubar=no,resizable=yes,scrollbars=yes,width=310,height=230,top=30,left=230")}}function setCookie(b,c,a){document.cookie=b+"="+escape(c)+((a==null)?"":(" ; expires="+a.toGMTString()))+"; path=/; domain=news.naver.com"}function getCookie(e){var b=e+"=";var g=b.length;var a=document.cookie.length;var f=0;while(f<a){var d=f+g;if(document.cookie.substring(f,d)==b){var c=document.cookie.indexOf(";",d);if(c==-1){c=document.cookie.length}return unescape(document.cookie.substring(d,c))}f=document.cookie.indexOf(" ",f)+1;if(f==0){break}}return null}function isNumeric(a){var b=0;for(i=0;i<a.length;i++){if(a.charAt(i)<"0"||a.charAt(i)>"9"){b++}}if(b>0){return 0}else{return 1}}function Length(a){return(a.length+(escape(a)+"%u").match(/%u/g).length-1)}function people_search(){var k=document.people_frm;var d="";k.query.value="";var c=k.name.value.replace(/[ ]/g,"");var h=k.birth_year.value.replace(/[ ]/g,"");var n=k.birth_month.value.replace(/[ ]/g,"");var a=k.birth_day.value.replace(/[ ]/g,"");var l=k.birthyearfrom.value.replace(/[ ]/g,"");var o=k.birthyearto.value.replace(/[ ]/g,"");var j=k.blood.value.replace(/[ ]/g,"");var g=k.birthplace.value.replace(/[ ]/g,"");var m=k.school.value.replace(/[ ]/g,"");var e=k.job.value.replace(/[ ]/g,"");var b=k.office.value.replace(/[ ]/g,"");sblood=j.toUpperCase();if(h&&(!isNumeric(h)||Length(h)<2)){alert("생년월일의 년도는 2자리 이상의 숫자로만 입력해주세요.");k.birth_year.focus();return false}else{if(n&&(!isNumeric(n))){alert("생년월일의 월은 숫자로만 입력해주세요.");k.birth_month.focus();return false}else{if(a&&(!isNumeric(a))){alert("생년월일의 일은 숫자로만 입력해주세요.");k.birth_day.focus();return false}else{if((h||n||a)&&(l||o)){alert("생년월일과 출생년도 중 하나만 입력해주세요.");return false}else{if(l&&(!isNumeric(l)||Length(l)<2)){alert("출생년도는 2자리 이상의 숫자로만 입력해주세요.");k.birthyearfrom.focus();return false}else{if(o&&(!isNumeric(o)||Length(o)<2)){alert("출생년도는 2자리 이상의 숫자로만 입력해주세요.");k.birthyearto.focus();return false}else{if(l&&!o){alert("출생년도는 시작과 종료년도 값이 모두 입력되어야 합니다.");k.birthyearto.focus();return false}else{if(o&&!l){alert("출생년도는 시작과 종료년도 값이 모두 입력되어야 합니다.");k.birthyearfrom.focus();return false}else{if(sblood){if(sblood!="A"&&sblood!="B"&&sblood!="O"&&sblood!="AB"){alert("혈액형은 A, O, B, AB 중 하나를 입력해주세요.");k.blood.focus();return false}}}}}}}}}}if(c){d=c}if(h){if(d){d+=" "}d+=h+"년"}if(n){if(d){d+=" "}d+=n+"월"}if(a){if(d){d+=" "}d+=a+"일"}if(sblood){if(d){d+=" "}d+=sblood+"형"}if(g){if(g.indexOf("예)")==-1){if(d){d+=" "}d+=g}else{k.birthplace.value=""}}if(m){if(m.indexOf("예)")==-1){if(d){d+=" "}d+=m}else{k.school.value=""}}if(e){if(e.indexOf("예)")==-1){if(d){d+=" "}d+=e}else{k.job.value=""}}if(b){if(b.indexOf("예)")==-1){if(d){d+=" "}d+=b}else{k.office.value=""}}if(d||(l&&o)){k.query.value=d}else{alert("검색 조건이 없습니다.");return false}}function election2008LocalDistrict(b,a){obj1=jindo.$(b);obj2=jindo.$(a);if(b=="districtlist"){if(jindo.$("districtlist").innerHTML==""){alert("지역을 먼저 선택해주세요");return}}if(obj1.style.display=="block"){obj1.style.display="none"}else{obj1.style.display="block";obj2.style.display="none"}}function election2008LocalList(a,d){jindo.$("localname").innerHTML=d;jindo.$("districtname").innerHTML="선거구";var e=new Array();e[0]=new Array("종로구","중구","용산구","성동구갑","성동구을","광진구갑","광진구을","동대문구갑","동대문구을","중랑구갑","중랑구을","성북구갑","성북구을","강북구갑","강북구을","도봉구갑","도봉구을","노원구갑","노원구을","노원구병","은평구갑","은평구을","서대문구갑","서대문구을","마포구갑","마포구을","양천구갑","양천구을","강서구갑","강서구을","구로구갑","구로구을","금천구","영등포구갑","영등포구을","동작구갑","동작구을","관악구갑","관악구을","서초구갑","서초구을","강남구갑","강남구을","송파구갑","송파구을","송파구병","강동구갑","강동구을");e[1]=new Array("중구동구","서구","영도구","부산진구갑","부산진구을","동래구","남구갑","남구을","북구강서구갑","북구강서구을","해운대구기장군갑","해운대구기장군을","사하구갑","사하구을","금정구","연제구","수영구","사상구");e[2]=new Array("중구남구","동구갑","동구을","서구","북구갑","북구을","수성구갑","수성구을","달서구갑","달서구을","달서구병","달성군");e[3]=new Array("중구동구옹진군","남구갑","남구을","연수구","남동구갑","남동구을","부평구갑","부평구을","계양구갑","계양구을","서구강화군갑","서구강화군을");e[4]=new Array("동구","서구갑","서구을","남구","북구갑","북구을","광산구갑","광산구을");e[5]=new Array("동구","중구","서구갑","서구을","유성구","대덕구");e[6]=new Array("중구","남구갑","남구을","동구","북구","울주군");e[7]=new Array("수원시장안구","수원시권선구","수원시팔달구","수원시영통구","성남시수정구","성남시중원구","성남시분당구갑","성남시분당구을","의정부시갑","의정부시을","안양시만안구","안양시동안구갑","안양시동안구을","부천시원미구갑","부천시원미구을","부천시소사구","부천시오정구","광명시갑","광명시을","평택시갑","평택시을","양주시동두천시","안산시상록구갑","안산시상록구을","안산시단원구갑","안산시단원구을","고양시덕양구갑","고양시덕양구을","고양시일산동구","고양시일산서구","의왕시과천시","구리시","남양주시갑","남양주시을","오산시","화성시갑","화성시을","시흥시갑","시흥시을","군포시","하남시","파주시","용인시처인구","용인시기흥구","용인시수지구","안성시","김포시","광주시","포천시연천군","이천시여주군","양평군가평군");e[8]=new Array("춘천시","원주시","강릉시","동해시삼척시","속초시고성군양양군","홍천군횡성군","태백시영월군평창군정선군","철원군화천군양구군인제군");e[9]=new Array("청주시상당구","청주시흥덕구갑","청주시흥덕구을","충주시","제천시단양군","청원군","보은군옥천군영동군","증평군진천군괴산군음성군");e[10]=new Array("천안시갑","천안시을","공주시연기군","보령시서천군","아산시","서산시태안군","논산시계룡시금산군","부여군청양군","홍성군예산군","당진군");e[11]=new Array("전주시완산구갑","전주시완산구을","전주시덕진구","군산시","익산시갑","익산시을","정읍시","남원시순창군","김제시완주군","진안군무주군장수군임실군","고창군부안군");e[12]=new Array("목포시","여수시갑","여수시을","순천시","나주시화순군","광양시","담양군곡성군구례군","고흥군보성군","장흥군강진군영암군","해남군완도군진도군","무안군신안군","함평군영광군장성군");e[13]=new Array("포항시북구","포항시남구울릉군","경주시","김천시","안동시","구미시갑","구미시을","영주시","영천시","상주시","문경시예천군","경산시청도군","고령군성주군칠곡군","군위군의성군청송군","영양군영덕군봉화군울진군");e[14]=new Array("창원시갑","창원시을","마산시갑","마산시을","진주시갑","진주시을","진해시","통영시고성군","사천시","김해시갑","김해시을","밀양시창녕군","거제시","양산시","의령군함안군합천군","남해군하동군","산청군함양군거창군");e[15]=new Array("제주시갑","제주시을","서귀포시");var b=e[a];var f="";for(var c=0;c<b.length;c++){f+="<li><a onclick=\"election2008DistrictList('"+b[c]+'\');" href="http://search.naver.com/search.naver?sm=nws_etc&where=nexearch&query='+encodeURI(d+" "+b[c]+" 총선당선자")+'" target="_blank">'+b[c]+"</a></li>"}jindo.$("districtlist").innerHTML=f}function election2008DistrictList(a){if(a.length>9){a=a.substring(0,9)+"<br>"+a.substring(9,a.length)}jindo.$("districtname").innerHTML=a}function election2008SearchDefaultText(a){var b=a.value.replace(/^\s+|\s+$/g,"");if(b==""){a.value="이름을 입력하세요"}}function election2008SearchClearText(a){var b=a.value.replace(/^\s+|\s+$/g,"");if(b=="이름을 입력하세요"){a.value=""}}function election2008SearchGoSearch(a){var b="이름을 입력하세요";if(document.election2008search.query.value==b){document.election2008search.query.value=""}if(document.election2008search.query.value==""){document.election2008search.query.value="18대국회의원당선자"}}var Calendar=jindo.$Class({year:null,month:null,week:null,day:null,now:null,html:null,$init:function(g,f){this.cal=jindo.$(g);this._CalBody=jindo.$$.getSingle(".calendarbox",this.cal);this._welPrevBtn=jindo.$Element(jindo.$$.getSingle(".prev",this._CalBody));this._welNextBtn=jindo.$Element(jindo.$$.getSingle(".next",this._CalBody));jindo.$Element(jindo.$$.getSingle("tbody",this._CalBody)).html("<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>");f=f||{};this.opt={selectedDate:null,type:"day",minDate:null,maxDate:null};for(var a in f){this.opt[a]=f[a];if(typeof this.opt[a]!="function"){continue}}var d=/^[0-9]{4}\/[0-9]{2}\/[0-9]{2}$/,b=/\/[0-9]+$/;var c=/^[0-9]{4}\/[0-9]{2}\/[0-9]{2}~[0-9]{4}\/[0-9]{2}\/[0-9]{2}$/;this.opt.sMinMonth=this.opt.minDate.replace(b,"");this.opt.sMaxMonth=this.opt.maxDate.replace(b,"");if(!d.test(this.opt.minDate)){this.opt.minDate=""}if(!d.test(this.opt.maxDate)){this.opt.maxDate=""}if(!d.test(this.opt.selectedDate)&&!c.test(this.opt.selectedDate)){this.opt.selectedDate=""}this.opt.type=this.opt.type=="week"?"week":"day";this.selectbox=jindo.$$.getSingle("select",this.cal);this.now=new Date();this.year=new Calendar.Year(this);this.month=new Calendar.Month(this);this.week=new Calendar.Week(this);this.day=new Calendar.Day(this);this.html=new Calendar.Html(this);var e=this;setTimeout(function(){e.setCalendarType(e.opt.type);e._dimmedPrevNextBtn()},0);this.setEvent()},onClick:function(a){this.fireEvent("click",{date:a})},setEvent:function(){jindo.$Fn(this.doClick,this).attach(this._CalBody,"click")},doClick:function(b){var d=b.element,c=d,a;if(c.tagName=="A"){if(jindo.$Element(c).hasClass("prev")){a=this.getDateFormat(this.year.getYear(),this.month.getMonth()-1,1).replace(/\/[0-9]+$/,"");if(this.opt.sMinMonth<=a&&a<=this.opt.sMaxMonth){this.setPrevMonth();this._dimmedPrevNextBtn()}b.stop()}else{if(jindo.$Element(c).hasClass("next")){a=this.getDateFormat(this.year.getYear(),this.month.getMonth()+1,1).replace(/\/[0-9]+$/,"");if(this.opt.sMinMonth<=a&&a<=this.opt.sMaxMonth){this.setNextMonth();this._dimmedPrevNextBtn()}b.stop()}}}},_dimmedPrevNextBtn:function(){var a=this.getDateFormat(this.year.getYear(),this.month.getMonth(),1).replace(/\/[0-9]+$/,"");if(a<=this.opt.sMinMonth){this._welPrevBtn.addClass("dimmed")}else{this._welPrevBtn.removeClass("dimmed")}if(a>=this.opt.sMaxMonth){this._welNextBtn.addClass("dimmed")}else{this._welNextBtn.removeClass("dimmed")}},getYear:function(){return this.year.getYear()},setYear:function(b){this.year.setYear(b);var a=this.getDateFormat(this.year.getYear(),this.month.getMonth(),1).replace(/\/[0-9]+$/,"");var c=/[0-9]{4}\//;if(a<this.opt.sMinMonth){this.month.setMonth(this.opt.sMinMonth.replace(c,"")-0)}else{if(a>this.opt.sMaxMonth){this.month.setMonth(this.opt.sMaxMonth.replace(c,"")-0)}}this.html.makeHtml(this._CalBody,this.opt.type);this._dimmedPrevNextBtn()},setPrevYear:function(){this.year.setYear(this.year.getPrevYear());this.html.makeHtml(this._CalBody,this.opt.type)},setNextYear:function(){this.year.setYear(this.year.getNextYear());this.html.makeHtml(this._CalBody,this.opt.type)},setYearSelectBox:function(){var b=false;for(var c=0,d;d=this.selectbox[c];c++){if(d.value==this.year.getYear()){d.selected=true;b=true}}if(!b){return false}var a=jindo.$$.getSingle(".label",jindo.$$.getSingle(".selectbox",this.cal));a.innerHTML=this.selectbox.options[this.selectbox.selectedIndex].value;return true},setNextMonth:function(){var a={y:this.year.getYear(),m:this.month.getMonth(),d:this.day.getDate()};this.month.setMonth(this.month.getNextMonth());if(this.month.getMonth()==1){if(!this.setYearSelectBox()){this.year.setYear(a.y);this.month.setMonth(a.m);this.day.setDate(a.d)}}this.html.makeHtml(this._CalBody,this.opt.type)},setPrevMonth:function(){var a={y:this.year.getYear(),m:this.month.getMonth(),d:this.day.getDate()};this.month.setMonth(this.month.getPrevMonth());if(this.month.getMonth()==12){if(!this.setYearSelectBox()){this.year.setYear(a.y);this.month.setMonth(a.m);this.day.setDate(a.d)}}this.html.makeHtml(this._CalBody,this.opt.type)},setSelectedDate:function(a){if(this.opt.type=="day"){this.setSelectedDay(a)}else{this.setSelectedWeek(a)}this.html.makeHtml(this._CalBody,this.opt.type)},setSelectedDay:function(b){var c,d,a;if(b!=""){var e=b.split("/");c=parseInt(e[0],10);d=parseInt(e[1],10);a=parseInt(e[2],10)}else{c=this.year.getNowYear();d=this.month.getNowMonth();a=this.day.getNowDate()}this.year.setYear(c);this.month.setMonth(d);this.day.setDate(a);this.opt.selectedDate=this.getDateFormat(c,d,a);this.setYearSelectBox()},setSelectedWeek:function(d){var f=d.split("~");var e=function(g){var h=""+((g.getFullYear()*10000)+((g.getMonth()+1)*100)+g.getDate());/([0-9]{4})([0-9]{2})([0-9]{2})/.test(h);return RegExp.$1+"/"+RegExp.$2+"/"+RegExp.$3};var b=function(j){var g=j.split("/");var h=new Date();h.setFullYear(parseInt(g[0],10));h.setMonth(parseInt(g[1],10)-1);h.setDate(parseInt(g[2],10));return h};if(!f[1]){var c;if(!f[0]){c=new Date();f[0]=e(c)}c=b(f[0]);if(c.getDay()<6){c.setDate(c.getDate()-c.getDay()-1)}f[0]=e(c);c.setDate(c.getDate()+6);f[1]=e(c)}var a=b(f[0]);this.year.setYear(a.getFullYear());this.month.setMonth(a.getMonth()+1);this.day.setDate(a.getDate());this.opt.selectedDate=f.join("~");this.setYearSelectBox()},getEndDate:function(g,e,h){var f=this.createDate(g,e,h);var j=new Date(f);j.setDate(j.getDate()+6);var d=j.getDate();var c=j.getMonth()+1;var a=j.getFullYear();var b=this.getDateFormat(a,c,d);return b},createDate:function(e,a,c){var b=new Date();b.setDate(1);b.setFullYear(e);b.setMonth(a-1);b.setDate(c);return b},adjustDate:function(f,a,e){var b=this.createDate(f,a,e);var c={y:b.getFullYear(),m:b.getMonth()+1,d:b.getDate()};b=null;return c},getDateFormat:function(h,a,g){var e=this.adjustDate(h,a,g);h=e.y;a=e.m;g=e.d;var c=h;var f=(Number(a)<10)?"0"+a:a;var b=(Number(g)<10)?"0"+g:g;oDummy=null;return c+"/"+f+"/"+b},setCalendarType:function(a){if(this.opt.type!=a){this.opt.selectedDate=""}this.opt.type=a;this.setSelectedDate(this.opt.selectedDate);this.fireEvent("changetype",{type:a,date:this.opt.selectedDate})},setTitle:function(){var a=this.month.getNowMonth()+"."+this.day.getNowDate();return a}}).extend(jindo.Component);Calendar.Base=jindo.$Class({_CalBody:null,$init:function(a){this._CalBody=a}});Calendar.Html=jindo.$Class({$init:function(){var b=this._CalBody._CalBody;var a=jindo.$$.getSingle("tbody",b);this.setEvent(a)},makeHtml:function(b,a){var d=b;this.setCalendarTitle(d);var c=jindo.$$.getSingle("tbody",d);this.setDate(c,a);c=null},setCalendarTitle:function(b){var a=this._CalBody.month.getMonth();jindo.$Element(jindo.$Element(jindo.$$.getSingle(".choose")).query("._month")).text(a)},setDate:function(s,a){var b=this._CalBody;var k=b.year.getYear();var m=b.month.getMonth();var o=k*100+m;var l=b.createDate(k,m,1);var h=l.getDay();l.setDate(l.getDate()-h);if(h<5){l.setDate(l.getDate()-7)}var e=parseInt(b.opt.minDate.replace(/[^0-9]/g,""),10);var j=parseInt(b.opt.maxDate.replace(/[^0-9]/g,""),10);var g=b.opt.selectedDate.split("~");if(!g[1]){g[1]=g[0]}var q=[parseInt(g[0].replace(/[^0-9]/g,""),10),parseInt(g[1].replace(/[^0-9]/g,""),10)];var d=jindo.$$("td",s);var c=true;for(var n=0,p;p=d[n];n++){var r=l.getFullYear()*100+l.getMonth()+1;var t=r*100+l.getDate();var f=[];if(r<o){f.push("before")}else{if(r>o){f.push("after")}}if(l.getDay()==0){f.push("sun")}if(t<e||t>j){f.push("disable")}if(q[0]<=t&&t<=q[1]){f.push("selected")}p.innerHTML=l.getDate();p.className=f.join(" ");l.setDate(l.getDate()+1)}},_onTBodyOver:function(j){var e=this._tbodyObj;var f=this._CalBody;var h=f.opt.type;var k=j.element;if(jindo.$Element(k).hasClass("disable")){return}var b=jindo.$$("td",e);for(var g=0,d;d=b[g];g++){jindo.$Element(b[g]).removeClass("over")}if(h=="day"){jindo.$Element(k).addClass("over")}else{var c=parseInt((jindo.$A(b).indexOf(k)+1)/7)*7-1;var a=c+6;for(var g=c;g<=a;g++){if(b[g]){if(jindo.$Element(b[g]).hasClass("disable")){return}else{jindo.$Element(b[g]).addClass("over")}}}}},_onTBodyClick:function(o){var a=this._tbodyObj;var f=this._CalBody;var c=f.opt.type;var h=o.element;if(c=="day"){if(h.tagName!="TD"){return}var j=jindo.$Element(h);if(j.hasClass("disable")){return}var l=jindo.$$("td",a);for(var t=0,q;q=l[t];t++){jindo.$Element(l[t]).removeClass("selected")}j.addClass("selected");var s=h.innerHTML;var u=f.month.getMonth();var m=f.year.getYear();if(u==1){if(j.hasClass("before")){m=m-1}}else{if(u==12){if(j.hasClass("after")){m=m+1}}}var p=false;var r=false;if(j.hasClass("before")){u=(u==1)?12:u-1;p=true}else{if(j.hasClass("after")){u=(u==12)?1:u+1;r=true}}var s=f.getDateFormat(m,u,s);f.opt.selectedDate=s;if(p){f.setPrevMonth()}else{if(r){f.setNextMonth()}}f.setSelectedDate(f.opt.selectedDate);jindo.$Element(f.cal).hide();f.onClick(s)}else{var l=jindo.$$("td",a);var b=parseInt((jindo.$A(l).indexOf(h)+1)/7)*7-1;b=(b==-1)?0:b;var j=jindo.$Element(l[b]);var s=Number(l[b].innerHTML);s=(b==0)?s-1:s;var u=f.month.getMonth();var m=f.year.getYear();if(u==1){if(j.hasClass("before")){m=m-1}}else{if(u==12){if(j.hasClass("after")){m=m+1}}}if(j.hasClass("disable")){return}else{if(j.hasClass("before")){u=(u==1)?12:u-1}else{if(j.hasClass("after")){u=(u==12)?1:u+1}}}var g=f.getDateFormat(m,u,s);var d=f.getEndDate(m,u,s);var k=(b==41)?b:((b==0)?b+5:b+6);f.opt.selectedDate=g+"~"+d;var e=g.split("/");for(var t=0,q;q=l[t];t++){jindo.$Element(l[t]).removeClass("selected")}for(var t=b;t<=k;t++){jindo.$Element(l[t]).removeClass("disable").addClass("selected")}jindo.$Element(f.cal).hide();f.onClick(g+"~"+d)}},setEvent:function(b){var a=this._tbodyObj=b;jindo.$Fn(this._onTBodyOver,this).attach(a,"mouseover");jindo.$Fn(this._onTBodyClick,this).attach(a,"click")}}).extend(Calendar.Base);Calendar.Year=jindo.$Class({year:null,$init:function(a){this._CalBody=a;this.year=this.getNowYear()},getNowYear:function(){return this._CalBody.now.getFullYear()},setYear:function(a){this.year=a},getYear:function(){return this.year},getNextYear:function(){return ++this.year},getPrevYear:function(){return --this.year},leafYear:function(a){if(a%4==0&&a%100!=0||a%400==0){return 1}else{return 0}}}).extend(Calendar.Base);Calendar.Month=jindo.$Class({month:null,$init:function(a){this._CalBody=a;this.month=this.getNowMonth()},getNowMonth:function(){return Number(this._CalBody.now.getMonth()+1)},setMonth:function(a){this.month=a},getMonth:function(){return this.month},getNextMonth:function(){if(this.month<12){return ++this.month}else{this.setMonth(1);this._CalBody.year.getNextYear();return this.getMonth()}},getPrevMonth:function(){if(this.month>1){return --this.month}else{this.setMonth(12);this._CalBody.year.getPrevYear();return this.getMonth()}}}).extend(Calendar.Base);Calendar.Week=jindo.$Class({week:null,$init:function(a){this._CalBody=a;this.week=this.getNowWeek()},getNowWeek:function(){var d=new Date(this._CalBody.now);var c=d.getDate();var b=d.getDay();var a=Number(c-b);var e=Number(c+(6-b));return[a,e]},getWeek:function(h,b,f){var e=new Date(h,b-1,f);var d=e.getDate();var c=e.getDay();var a=Number(d-c);var g=Number(d+(6-c));return[a,g]}}).extend(Calendar.Base);Calendar.Day=jindo.$Class({_day:null,date:null,day:null,$init:function(a){this._CalBody=a;this._day=["sun","mon","tue","wed","thu","fri","sat"];this.date=this.getNowDate();this.day=this.getNowDay()},getNowDate:function(){return this._CalBody.now.getDate()},setDate:function(a){this.day=a},getDate:function(){return this.day},getDurationDate:function(d,c){var a=new Date();var b=d.getTime()+(Number(c-1)*24*60*60*1000);a.setTime(b);return a},getNowDay:function(){if(arguments[0]=="number"){return this._CalBody.now.getDay()}else{return this._day[this._CalBody.now.getDay()]}},getDay:function(b,c){var a=new Date(b,c,1);if(arguments[2]=="number"){return a.getDay()}else{return this._day[a.getDay()]}},dayOfMonth:function(a,b){if(b==0){b=12;a=--a}else{if(b==13){b=1;a=++a}}switch(b){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 4:case 6:case 9:case 11:return 30;case 2:return 28+this._CalBody.year.leafYear(a)}}}).extend(Calendar.Base);jindo.$Element.prototype.has=function(a){var c=this.$value();var b=a instanceof jindo.$Element?a.$value():a;for(;b;b=b.parentNode){if(b==c){return true}}return false};jindo.$Event.prototype.of=function(d){var c;var b=true;var a=this._event.type=="mouseover"||this._event.type=="mouseout";if(c=this.element){b&=jindo.$Element(d).has(c)}if(c=this.relatedElement){b&=jindo.$Element(d).has(c)}else{if(a){b=false}}return b};function extend(c,b){var d=c;for(var a in b){d[a]=b[a]}return d}function firstChild(a){for(a=a.firstChild;a&&a.nodeType!=1;a=a.nextSibling){}return a}function nextSibling(a){for(a=a.nextSibling;a&&a.nodeType!=1;a=a.nextSibling){}return a}var Scrollbox=jindo.$Class({_initialized:false,_objects:null,_timer:null,_options:null,_draging:null,$init:function(){},touch:function(a,j){if(this._initialized){this._resetBoxSize();return}var k=jindo.$(a);if(!k){return}this._initialized=true;this._options=extend({overflowX:"auto",overflowY:"auto",minThumb:[0,0],trackSize:[0,0],interval:100},j||{});this._objects={wrap:k};for(var g=firstChild(this._objects.wrap);g;g=nextSibling(g)){if(jindo.$Element(g).hasClass("content")){this._objects.content=g}if(jindo.$Element(g).hasClass("scrollbar-v")){this._objects.sbarv=g}if(jindo.$Element(g).hasClass("scrollbar-h")){this._objects.sbarh=g}}var h=this._objects;var f;h.contentBody=h.content.firstChild;for(;h.contentBody.nodeType!=1||h.contentBody.tagName=="!";h.contentBody=h.contentBody.nextSibling){}h.contentBody.style.position="relative";h.content.style.overflow="hidden";if(f=h.sbarv){var d=h.sbarv.all||h.sbarv.getElementsByTagName("*");for(var e=0,g;g=d[e];e++){if(jindo.$Element(g).hasClass("button-up")){this._objects.bup=g}if(jindo.$Element(g).hasClass("thumb-v")){this._objects.thumbv=g}if(jindo.$Element(g).hasClass("thumb-head")){this._objects.thumbvH=g}if(jindo.$Element(g).hasClass("thumb-body")){this._objects.thumbvB=g}if(jindo.$Element(g).hasClass("thumb-foot")){this._objects.thumbvF=g}if(jindo.$Element(g).hasClass("button-down")){this._objects.bdn=g}}}if(f=h.sbarh){var d=h.sbarh.all||h.sbarh.getElementsByTagName("*");for(var e=0,g;g=d[e];e++){if(jindo.$Element(g).hasClass("button-left")){this._objects.blt=g}if(jindo.$Element(g).hasClass("thumb-h")){this._objects.thumbh=g}if(jindo.$Element(g).hasClass("thumb-head")){this._objects.thumbhH=g}if(jindo.$Element(g).hasClass("thumb-body")){this._objects.thumbhB=g}if(jindo.$Element(g).hasClass("thumb-foot")){this._objects.thumbhF=g}if(jindo.$Element(g).hasClass("button-right")){this._objects.bgt=g}}}if(h.thumbhB){this._options.minThumb[0]=parseInt(jindo.$Element(h.thumbhB).css("width"))||0}if(h.thumbvB){this._options.minThumb[1]=parseInt(jindo.$Element(h.thumbvB).css("height"))||0}if(h.sbarv){this._options.trackSize[0]=parseInt(jindo.$Element(h.sbarv).css("width"))||0}if(h.sbarh){this._options.trackSize[1]=parseInt(jindo.$Element(h.sbarh).css("height"))||0}this._resetBoxSize();this._draging=[null,null];this._bindEvents();var b=jindo.$Agent().navigator();var l;if(h.bdn){l=parseInt(jindo.$Element(h.sbarv).css("marginBottom"))||0;if(!b.ie){l+=parseInt(jindo.$Element(h.sbarv).css("marginTop"))||0}h.bdn.style.bottom=l+"px"}if(h.bgt){l=parseInt(jindo.$Element(h.sbarh).css("marginRight"))||0;if(!b.ie){l+=parseInt(jindo.$Element(h.sbarh).css("marginLeft"))||0}h.bgt.style.right=l+"px"}if(b.ie6||b.ie55){var c=h.sbarv&&jindo.$Element(h.sbarv).visible()&&h.sbarh&&jindo.$Element(h.sbarh).visible()?1:0;if(h.sbarv&&h.bdn){h.bdn.style.bottom=(parseInt(h.bdn.currentStyle.bottom)||0)-c+"px"}if(h.sbarh&&h.bgt){h.bgt.style.right=(parseInt(h.bgt.currentStyle.right)||0)-c+"px"}}if(h.sbarv){h.sbarv.style.visibility="visible"}if(h.sbarh){h.sbarh.style.visibility="visible"}},_tempValues:null,start:function(b){var c="SB"+parseInt(Math.random()*1000000);this._tempValues=[c,extend({},b||{})];var a='<div class="scrollbox" id="'+c+'" style="width:'+b.width+"px; height:"+b.height+'px; overflow:hidden;"><div class="content">';document.write(a)},end:function(){var c=this._tempValues[0];var b=this._tempValues[1];var a="</div>";if(b.overflowY!="hidden"){a+='<div class="scrollbar-v"><img src="'+b.blankImage+'" class="button-up"><div class="thumb-v"><img src="'+b.blankImage+'" class="thumb-head"><img src="'+b.blankImage+'" class="thumb-body"><img src="'+b.blankImage+'" class="thumb-foot"></div><img src="'+b.blankImage+'" class="button-down"></div>'}else{b.overflowY="auto"}if(b.overflowX!="hidden"){a+='<div class="scrollbar-h"><img src="'+b.blankImage+'" class="button-left"><div class="thumb-h"><img src="'+b.blankImage+'" class="thumb-head"><img src="'+b.blankImage+'" class="thumb-body"><img src="'+b.blankImage+'" class="thumb-foot"></div><img src="'+b.blankImage+'" class="button-right"></div>'}else{b.overflowX="auto"}a+="</div>";document.write(a);this.touch(c,b)},visible:function(){return jindo.$Element(this._objects.wrap).visible()},getObject:function(){return this._objects.wrap},_getContent:function(){return this._objects.content.getElementsByTagName("UL")[0]},show:function(b){var a=b?"show":(b===undefined?"toggle":"hide");jindo.$Element(this._objects.wrap)[a];if(this.visible()){this.touch()}},_getScrollBoxInnerSize:function(){var c=this._objects;c.wrap.style.overflow="hidden";var d=(c.wrap.offsetWidth||parseInt(jindo.$Element(c.wrap).css("width"))||0);var a=(c.wrap.offsetHeight||parseInt(jindo.$Element(c.wrap).css("height"))||0);var b=[d,a];if(!jindo.$Agent().navigator().ie){b[0]-=parseInt(jindo.$Element(c.wrap).css("borderLeftWidth"))||0;b[0]-=parseInt(jindo.$Element(c.wrap).css("borderRightWidth"))||0;b[1]-=parseInt(jindo.$Element(c.wrap).css("borderLeftWidth"))||0;b[1]-=parseInt(jindo.$Element(c.wrap).css("borderRightWidth"))||0}return b},_resetBoxSize:function(){var h=this._objects;var f=this._getScrollBoxInnerSize();var c=this.getScrollPos();var a=c[1]+f[1];var d=this.getScrollSize()[1];var b=[a[0]>d[0]?d[0]-a[0]:0,a[1]>d[1]?d[1]-a[1]:0,];this.setScrollRelativePos(b[0],b[1]);var g=this._options.trackSize;var e=[f[0]-g[0],f[1]-g[1]];jindo.$Element(h.content).css({width:e[0]+"px",height:e[1]+"px"});jindo.$Element(h.content).css("width",e[0]+"px");jindo.$Element(h.content).css("height",e[1]+"px");if(h.sbarh){h.sbarh.style.width=e[0]+"px"}if(h.sbarv){h.sbarv.style.height=e[1]+"px"}this._resetThumbPos()},_setTimer:function(b,a){this._clearTimer();this._timer=window.setInterval(jindo.$Fn(b,this).bind(),a)},_clearTimer:function(){if(this._timer){window.clearInterval(this._timer)}this._timer=null},_showHThumb:function(a){var b=this._objects;jindo.$Element(b.thumbh)[a?"show":"hide"];Scrollbox[a?"_removeClass":"_addClass"](b.sbarh,"scrollbar-h-disabled")},_showVThumb:function(a){var b=this._objects;jindo.$Element(b.thumbv)[a?"show":"hide"];Scrollbox[a?"_removeClass":"_addClass"](b.sbarv,"scrollbar-v-disabled")},_showHScrollbar:function(a){var d=this._objects;if(!d.sbarh){return}var c=this._getScrollBoxInnerSize();if(a){jindo.$Element(d.sbarh).show();var b=d.sbarh.offsetHeight;d.content.style.height=c[1]-b+"px";d.content.style.marginBottom=b+"px";if(d.sbarv){d.sbarv.style.height=c[1]-b+"px"}}else{jindo.$Element(d.sbarh).hide();d.content.style.height=c[1]+"px";d.content.style.marginBottom="0px";if(d.sbarv){d.sbarv.style.height=c[1]+"px"}}this._resetThumbSize()},_showVScrollbar:function(a){var d=this._objects;if(!d.sbarv){return}var c=this._getScrollBoxInnerSize();if(a){jindo.$Element(d.sbarv).show();var b=d.sbarv.offsetWidth;d.content.style.width=c[0]-b+"px";d.content.style.marginRight=b+"px";if(d.sbarh){d.sbarh.style.width=c[0]-b+"px"}}else{jindo.$Element(d.sbarv).hide();d.content.style.width=c[0]+"px";d.content.style.marginRight="0px";if(d.sbarh){d.sbarh.style.width=c[0]+"px"}}this._resetThumbSize()},_setThumbLeft:function(b){var c=this._objects;if(!c.sbarh){return}var a=[0,this._getHTrackSize()-c.thumbh.offsetWidth];if(b<a[0]){b=a[0]}if(b>a[1]){b=a[1]}if(!isNaN(b)){c.thumbh.style.left=c.blt.offsetWidth+b+"px"}return b},_setThumbTop:function(b){var c=this._objects;if(!c.sbarv){return}var a=[0,this._getVTrackSize()-c.thumbv.offsetHeight];if(b<a[0]){b=a[0]}if(b>a[1]){b=a[1]}if(!isNaN(b)){c.thumbv.style.top=this._getButtonSize("bup")+b+"px"}return b},getScrollSize:function(){var a=this._objects;return[a.contentBody.offsetWidth,a.contentBody.offsetHeight]},getClientSize:function(){var b=this._objects;var a=[b.content.offsetWidth,b.content.offsetHeight];return a},_getHTrackSize:function(){var b=this._objects;if(!b.sbarh){return}var a=b.sbarh.offsetWidth;a-=this._getButtonSize("blt");a-=this._getButtonSize("bgt");a-=parseInt(jindo.$Element(b.sbarh).css("marginLeft"))||0;a-=parseInt(jindo.$Element(b.sbarh).css("marginRight"))||0;return a},_getVTrackSize:function(){var b=this._objects;if(!b.sbarv){return}var a=b.sbarv.offsetHeight;a-=this._getButtonSize("bup");a-=this._getButtonSize("bdn");a-=parseInt(jindo.$Element(b.sbarv).css("marginTop"))||0;a-=parseInt(jindo.$Element(b.sbarv).css("marginBottom"))||0;return a},setScrollRelativePos:function(e,d,b){var a=this.getScrollPos();this.setScrollPos(a[0]+e,a[1]+d,b);var c=this.getScrollPos();return(a[0]!=c[0]||a[1]!=c[1])},setScrollPos:function(c,b,a){this.setScrollLeft(c);this.setScrollTop(b,a)},setScrollLeft:function(c,b){var a=[0,this.getScrollSize()[0]-this.getClientSize()[0]];if(a[1]<0){a[1]=0}if(c<a[0]){c=a[0]}if(c>a[1]){c=a[1]}this._objects.contentBody.style.left=-c+"px";if(!b){this._resetThumbPos()}},setScrollTop:function(c,b){var a=[0,this.getScrollSize()[1]-this.getClientSize()[1]];if(a[1]<0){a[1]=0}if(c<a[0]){c=a[0]}if(c>a[1]){c=a[1]}this._objects.contentBody.style.top=-c+"px";if(!b){this._resetThumbPos()}},getScrollPos:function(){return[-parseInt(jindo.$Element(this._objects.contentBody).css("left"))||0,-parseInt(jindo.$Element(this._objects.contentBody).css("top"))||0]},_resetThumbSize:function(){var d=this._objects;if(!d.thumbhH&&!d.thumbvH){return}var b=this.getScrollSize();var c=this.getClientSize();var a=[(this._getHTrackSize()*c[0])/b[0],(this._getVTrackSize()*c[1])/b[1]];if(d.thumbhH){a[0]-=d.thumbhH.offsetWidth+d.thumbhF.offsetWidth;if(a[0]<this._options.minThumb[0]){a[0]=this._options.minThumb[0]}d.thumbhB.style.width=(a[0]||0)+"px"}if(d.thumbvH){a[1]-=d.thumbvH.offsetHeight+d.thumbvF.offsetHeight;if(a[1]<this._options.minThumb[1]){a[1]=this._options.minThumb[1]}d.thumbvB.style.height=(a[1]||0)+"px"}},_resetThumbPos:function(f,b){if(f&&b){return}this._resetThumbSize();var g=this._objects;var d=[g.thumbh&&g.thumbh.offsetWidth,g.thumbv&&g.thumbv.offsetHeight];var h=[this._getHTrackSize(),this._getVTrackSize()];var e=this.getScrollSize();var j=this.getClientSize();var c=this.getScrollPos();if(!f){this["_showH"+(this._options.overflowX=="auto"?"Scrollbar":"Thumb")](e[0]>j[0]);this._resetThumbPos(true,b)}else{if(!b){this["_showV"+(this._options.overflowY=="auto"?"Scrollbar":"Thumb")](e[1]>j[1]);this._resetThumbPos(f,true)}}var a=[(h[0]-d[0])*c[0]/(e[0]-j[0])||0,(h[1]-d[1])*c[1]/(e[1]-j[1])||0];this._setThumbLeft(a[0]);this._setThumbTop(a[1])},_resetHScrollPos:function(){var f=this._objects;var c=f.thumbh.offsetWidth;var e=this._getHTrackSize();var b=this.getScrollSize()[0];var d=this.getClientSize()[0];var g=(parseInt(jindo.$Element(f.thumbh).css("left"))||0)-this._getButtonSize("blt");var a=(b-d)*g/(e-c)||0;this.setScrollLeft(a)},_resetVScrollPos:function(){var f=this._objects;var c=f.thumbv.offsetHeight;var e=this._getVTrackSize();var b=this.getScrollSize()[1];var d=this.getClientSize()[1];var g=(parseInt(jindo.$Element(f.thumbv).css("top"))||0)-this._getButtonSize("bup");var a=(b-d)*g/(e-c)||0;this.setScrollTop(a)},_bindButtonEvent:function(b,a,c){jindo.$Fn(jindo.$Fn(function(d,e){var f=this._objects;switch(a){case"button-up":case"button-down":if(jindo.$Element(f.sbarv).hasClass("scrollbar-v-disabled")){return}break;case"button-left":case"button-right":if(jindo.$Element(f.sbarh).hasClass("scrollbar-h-disabled")){return}break}if(jindo.$Agent().navigator().ie&&(jindo.$Event(e).of(d)||!jindo.$Element(d).has(e.element))){return}Scrollbox._addClass(d,a+"-over")},this).bind(b),this).attach(b,"mouseover");if(c){return}jindo.$Fn(jindo.$Fn(function(d){var f=null;var e=this._objects;switch(a){case"button-up":if(jindo.$Element(e.sbarv).hasClass("scrollbar-v-disabled")){return}f=[0,-20];break;case"button-down":if(jindo.$Element(e.sbarv).hasClass("scrollbar-v-disabled")){return}f=[0,20];break;case"button-left":if(jindo.$Element(e.sbarh).hasClass("scrollbar-h-disabled")){return}f=[-20,0];break;case"button-right":if(jindo.$Element(e.sbarh).hasClass("scrollbar-h-disabled")){return}f=[20,0];break}Scrollbox._addClass(d,a+"-down");this._setTimer(function(){this.setScrollRelativePos(f[0],f[1],true)},this._options.interval);this.setScrollRelativePos(f[0],f[1])},this).bind(b),this).attach(b,"mousedown");jindo.$Fn(jindo.$Fn(function(d,e){if(jindo.$Agent().navigator().ie&&jindo.$Event(e).of(d)){return}Scrollbox._removeClass(d,a+"-over",a+"-down");this._clearTimer()},this).bind(b),this).attach(b,"mouseout");jindo.$Fn(jindo.$Fn(function(d){Scrollbox._removeClass(d,a+"-down");this._clearTimer()},this).bind(b),this).attach(b,"mouseup")},_bindOverDownEvents:function(){var a=this._objects;if(a.sbarh){if(a.blt){this._bindButtonEvent(a.blt,"button-left")}if(a.bgt){this._bindButtonEvent(a.bgt,"button-right")}this._bindButtonEvent(a.thumbh,"thumb-h",true)}if(a.sbarv){if(a.bup){this._bindButtonEvent(a.bup,"button-up")}if(a.bdn){this._bindButtonEvent(a.bdn,"button-down")}this._bindButtonEvent(a.thumbv,"thumb-v",true)}},_bindEvents:function(){var a=this._objects;this._bindOverDownEvents();this._bindDragEvents();jindo.$Fn(function(b){var c=false;if(a.sbarv){c=this.setScrollRelativePos(0,b.mouse().delta*-10)}else{c=this.setScrollRelativePos(b.mouse().delta*-10,0)}if(c){b.stop()}},this).attach(a.wrap,"mousewheel");if(a.sbarv){jindo.$Fn(function(d){var f=this._objects;if(jindo.$Event(d).of(f.thumbv)||jindo.$Event(d).of(f.bup)||jindo.$Event(d).of(f.bdn)){return}var c=f.thumbv.offsetHeight;var e=d.pos().layerY-parseInt(c/2);var b=e+c;if(b>this._getVTrackSize()){e-=b-(this._getVTrackSize())}if(e<0){e=0}this._setThumbTop(e);this._draging[1]=d.pos().pageY-parseInt(f.thumbv.style.top)+this._getButtonSize("bup");Scrollbox._addClass(f.thumbv,"thumb-v-down");this._resetVScrollPos();d.stop()},this).attach(a.sbarv,"mousedown")}if(a.sbarh){jindo.$Fn(function(d){var f=this._objects;if(jindo.$Event(d).of(f.thumbh)||jindo.$Event(d).of(f.blt)||jindo.$Event(d).of(f.bgt)){return}var c=f.thumbh.offsetWidth;var e=d.pos().layerX-parseInt(c/2);var b=e+c;if(b>this._getHTrackSize()){e-=b-(this._getHTrackSize())}if(e<0){e=0}this._setThumbLeft(e);this._draging[0]=d.pos().pageX-parseInt(f.thumbh.style.left)+this._getButtonSize("blt");Scrollbox._addClass(f.thumbh,"thumb-h-down");this._resetHScrollPos();d.stop()},this).attach(a.sbarh,"mousedown")}},_getButtonSize:function(a){var b=this._objects[a];if(!b){return 0}switch(a){case"bup":case"bdn":return b.offsetHeight;case"blt":case"bgt":return b.offsetWidth}},_bindDragEvents:function(){var a=this._objects;if(a.sbarh){jindo.$Fn(function(b){this._draging[0]=b.pos().pageX-parseInt(jindo.$Element(a.thumbh).css("left"))+this._getButtonSize("blt");Scrollbox._addClass(a.thumbh,"thumb-h-down");b.stop()},this).attach(a.thumbh,"mousedown");jindo.$Fn(function(b){if(jindo.$Agent().navigator().ie&&jindo.$Event(b).of(a.thumbh)){return}Scrollbox._removeClass(a.thumbh,"thumb-h-over")},this).attach(a.thumbh,"mouseout")}if(a.sbarv){jindo.$Fn(function(b){this._draging[1]=b.pos().pageY-parseInt(jindo.$Element(a.thumbv).css("top"))+this._getButtonSize("bup");Scrollbox._addClass(a.thumbv,"thumb-v-down");b.stop()},this).attach(a.thumbv,"mousedown");jindo.$Fn(function(b){if(jindo.$Agent().navigator().ie&&jindo.$Event(b).of(a.thumbv)){return}Scrollbox._removeClass(a.thumbv,"thumb-v-over")},this).attach(a.thumbv,"mouseout")}jindo.$Fn(function(b){if(this._draging[0]===null&&this._draging[1]===null){return}var d=this.getScrollSize();var e=this.getClientSize();var f=[this._getHTrackSize(),this._getVTrackSize()];var c=[a.sbarh&&a.thumbh.offsetWidth,a.sbarv&&a.thumbv.offsetHeight];if(this._draging[0]!==null){this._setThumbLeft(b.pos().pageX-this._draging[0]);this._resetHScrollPos()}else{if(this._draging[1]!==null){this._setThumbTop(b.pos().pageY-this._draging[1]);this._resetVScrollPos()}}b.stop()},this).attach(document,"mousemove");jindo.$Fn(function(){if(this._draging[0]){Scrollbox._removeClass(a.thumbh,"thumb-h-down")}if(this._draging[1]){Scrollbox._removeClass(a.thumbv,"thumb-v-down")}this._draging=[null,null]},this).attach(document,"mouseup")}});Scrollbox._addClass=function(b,a){jindo.$Element(b).addClass(a)};Scrollbox._removeClass=function(c){for(var b=1,a=arguments.length;b<a;b++){if(jindo.$Element(c).hasClass(arguments[b])){if("string"===typeof arguments){return jindo.$Element(c).removeClass(arguments)}}}};function extend(c,b){var d=c;for(var a in b){d[a]=b[a]}return d}var autoHide={_objects:[],_childOf:function(b,a){var a=jindo.$A(a);for(;b;b=b.parentNode){if(a.indexOf(b)>-1){return true}}return false},_onDocumentDown:function(l){var n=autoHide._objects;var b,m;var f=l.element;for(var k=0,g;g=n[k];k++){b=g.areas;m=g.panels;var c=[];for(var h=0,d;d=b[h];h++){c.push(jindo.$(d))}if(!autoHide._childOf(f,c)){if(typeof m=="function"){m()}else{for(var h=0,a;a=m[h];h++){if(jindo.$(a)){jindo.$Element(jindo.$(a)).hide()}}}}}},addRule:function(a,b){var c={areas:a,panels:b};autoHide._objects.push(c)}};jindo.$Fn(autoHide._onDocumentDown).attach(document,"mousedown");var Pulldown=jindo.$Class({_type:"pulldown",_initialized:false,_objects:null,_highlighted:null,_selected:null,$init:function(){},touch:function(a){if(this._initialized){return}var d=jindo.$(a);if(!d){return}this._objects={wrap:d,box:jindo.$$(".box",d)[0],button:jindo.$$(".button",d)[0],label:jindo.$$(".label",d)[0],list:jindo.$$(".list",d)[0]};var b=this._objects;if(jindo.$Element(b.list).hasClass("scrollbox")){var c=b.list;b.list=new Scrollbox();b.list.touch(c,{})}else{this._bindListMethod()}this._bindPulldownEvents();autoHide.addRule([b.box,b.list.getObject()],jindo.$Fn(function(){this._showListRaw(false)},this).bind());this.showList(b.list.visible(),true);this._initialized=true;this.setDisable(this.getDisable())},_bindListMethod:function(){var a=this._objects.list;extend(a,{visible:function(){return jindo.$Element(this).visible()},getObject:function(){return this},_getContent:function(){return this},getScrollPos:function(){return[this.scrollLeft,this.scrollTop]},getClientSize:function(){return[this.clientWidth,this.clientHeight]},setScrollTop:function(b){this.scrollTop=b},setScrollLeft:function(b){this.scrollLeft=b},touch:function(){}})},setLabelHTML:function(a,b){this._objects.label.innerHTML=a;if(b){this.showList(false)}},_getItemByIndex:function(a){return this._objects.list._getContent().getElementsByTagName("li")[a]},getDisable:function(){return jindo.$Element(this._objects.wrap).hasClass("sb-disabled")},setDisable:function(b){var c=this._objects;if(b===undefined){b=!this.getDisable()}var a=b?"addClass":"removeClass";jindo.$Element(c.wrap)[a]("sb-disabled");c.box.disabled=b;if(b){this._showListRaw(false)}return b},_showListRaw:function(a){sMethod=a?"addClass":"removeClass";jindo.$Element(this._objects.wrap)[sMethod]("sb-expanded");if(typeof this._objects.list.show=="function"){this._objects.list.show(a)}},showList:function(b,d){var c=this._objects;var a;if(b==undefined){b=!jindo.$Element(c.wrap).hasClass("sb-expanded")}this._showListRaw(b);if(b){this._highlightItem(this._selected)}if(!d){this._focus()}return b},_bindPulldownEvents:function(){var a=this._objects;jindo.$Fn(function(b){if(this.getDisable()){return}if(this._textbox&&b.of(this._textbox)){return}jindo.$Element(this._objects.box).addClass("box-down")},this).attach(a.box,"mousedown");jindo.$Fn(function(b){jindo.$Element(this._objects.box).removeClass("box-down")},this).attach(a.box,"mouseup");jindo.$Fn(function(b){if(this.getDisable()){return}jindo.$Element(this._objects.box).addClass("box-over")},this).attach(a.box,"mouseover");jindo.$Fn(function(b){jindo.$Element(this._objects.box).removeClass("box-over","box-down")},this).attach(a.box,"mouseout");jindo.$Fn(function(b){if(this.getDisable()){return}if(this._textbox&&b.of(this._textbox)){return}var c=this.showList()},this).attach(a.box,"click");jindo.$Fn(function(){if(this.getDisable()){return}if(this._type!="pulldown"){return}var b=this.showList();this._selected=this._highlighted},this).attach(a.list._getContent(),"click");jindo.$Fn(function(b){var c=this._findLi(b.element,this._objects.list._getContent());if(c){this._highlightItem(c)}},this).attach(a.list._getContent(),"mouseover");if(this._type!="pulldown"){return}jindo.$Fn(function(b){if(this.getDisable()){return}var d=null;if(!this._highlighted){d=this._getItemByIndex(0)}switch(b.key().keyCode){case 38:if(!d){for(d=this._highlighted.previousSibling;d&&d.nodeType!=1;d=d.previousSibling){}}if(d){this._highlightItem(d)}break;case 40:if(!d){for(d=this._highlighted.nextSibling;d&&d.nodeType!=1;d=d.nextSibling){}}if(d){this._highlightItem(d)}break;case 13:var c=jindo.$Element(a.wrap).hasClass("sb-expanded");if(c&&this._highlighted){this._selected=this._highlighted;if(typeof this._selected.onclick=="function"){this._selected.onclick()}}this.showList();break;default:return}b.stop()},this).attach(a.box,jindo.$Agent().navigator().ie?"keydown":"keypress")},_findLi:function(b,a){for(;b&&(b.nodeType!=1||b.tagName.toUpperCase()!="LI");b=b.parentNode){}return b},_highlightItem:function(b){var a=this._objects;if(this._highlighted){jindo.$Element(this._highlighted).removeClass("item-selected");this._highlighted=null}if(!b){return}jindo.$Element(b).addClass("item-selected");this._highlighted=b;this._showHighlightedItem()},_showHighlightedItem:function(){var d=this._objects;var e=this._highlighted;if(!e){return}var f=d.list.getScrollPos();var c=d.list.getClientSize();var a=[e.offsetTop,e.offsetTop+e.offsetHeight];var b=[f[1],f[1]+c[1]];if(a[0]<b[0]){d.list.setScrollTop(a[0])}if(a[1]>b[1]){d.list.setScrollTop(a[1]-c[1])}},_focus:function(){try{this._objects.box.focus()}catch(a){}}});var Selectbox=jindo.$Class({_type:"selectbox",_related:null,touch:function(a,b){if(this._initialized){return}this._related=jindo.$(b);Pulldown.prototype.touch.apply(this,arguments);this._bindSelectboxEvents();this._resetList()},getDisable:function(){return(jindo.$Element(this._objects.wrap).hasClass("sb-disabled")||this._related.disabled)},setDisable:function(a){var a=Pulldown.prototype.setDisable.apply(this,arguments);this._related.disabled=a;return a},showList:function(a){var a=Pulldown.prototype.showList.apply(this,arguments);if(a){this._resetList()}return a},setLabelHTML:null,_resetList:function(){var d=this._objects;var c=this._related.options;var a="",f="";for(var b=0,e;e=c[b];b++){f=e.innerHTML;a+='<li nodeIndex="'+b+'">'+f+"</li>"}d.list._getContent().innerHTML=a;d.list.touch();this._resetLabel();this._resetSelectedIndex()},_getText:function(a){if(a===undefined){a=this._related.selectedIndex}var b=this._related.options[a];return b.innerHTML.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},_getValue:function(a){if(a===undefined){a=this._related.selectedIndex}return this._related.options[a].value},_resetLabel:function(a){Pulldown.prototype.setLabelHTML.call(this,this._getText(),a)},_resetSelectedIndex:function(){var a=this._related.selectedIndex;this._highlightItem(this._getItemByIndex(a))},_selectItem:function(c,b){if(!c){return}var a=c.getAttribute("nodeIndex");this._related.selectedIndex=a;this._highlightItem(c);this._resetLabel(b);if(typeof this._related.onchange=="function"&&this._oldvalue!=this._related.value){this._related.onchange.call(this._related);this._oldvalue=this._related.value}this._focus()},_bindSelectboxEvents:function(){if(this.getDisable()){return}var a=this._objects;jindo.$Fn(function(b){var c=this._findLi(b.element,this._objects.list);this._selectItem(c,true)},this).attach(a.list._getContent(),"click");jindo.$Fn(function(b){switch(b.key().keyCode){case 38:this._selectItem(this._highlighted.previousSibling);break;case 40:this._selectItem(this._highlighted.nextSibling);break;default:return}b.stop()},this).attach(a.box,jindo.$Agent().navigator().ie?"keydown":"keypress")}}).extend(Pulldown);var Combobox=jindo.$Class({_type:"combobox",_textbox:null,touch:function(a,b){if(this._initialized){return}this._textbox=jindo.$$("input",jindo.$(a))[0];Selectbox.prototype.touch.apply(this,arguments);this._bindComboboxEvents();this._resetLabel()},getDisable:function(){return(jindo.$Element(this._objects.wrap).hasClass("sb-disabled")||this._related.disabled||this._textbox.disabled)},setDisable:function(a){var a=Selectbox.prototype.setDisable.apply(this,arguments);this._textbox.disabled=a;return a},setLabelHTML:null,_bindComboboxEvents:function(){if(this.getDisable()){return}var a=this._objects;jindo.$Fn(function(b){var c=this._highlighted;switch(b.key().keyCode){case 38:this._selectItem(c?c.previousSibling:this._getItemByIndex(0));break;case 40:this._selectItem(c?c.nextSibling:this._getItemByIndex(0));break;default:if(this._highlighted){jindo.$Element(this._highlighted).removeClass("item-selected")}this._highlighted=null;return}b.stop()},this).attach(this._textbox,"keydown")},_resetLabel:function(a){if(!this._textbox){return}this._textbox.value=this._getValue();if(a){this.showList(false)}},_focus:function(){this._textbox.focus();this._textbox.select()}}).extend(Selectbox);if(typeof news=="undefined"){news={}}if(typeof news.util=="undefined"){news.util={}}news.util.Calendar=jindo.$Class({layerManager:null,selectYear:null,button:null,buttonClose:null,calendar:null,option:null,$init:function(a){this._initOption(a);this.button=jindo.$Element(this.option.buttonId);if(!this.button){return}jindo.$Fn(this.toggle,this).attach(this.button,"click")},_initOption:function(a){this.option={url:"",type:"day",dateDelimiter:"",selectedDate:"",minDate:"",maxDate:"",layerId:"u.c.layer",buttonId:"u.c.button",yearSelectId:"u.c.year.select",yearDivId:"u.c.year.div"};if(!!a&&typeof a=="object"){var b=this;jindo.$H(a).forEach(function(e,d,c){b.option[d]=e})}},_initCalendar:function(){var a={sCheckEvent:"click",nCheckDelay:0,nShowDelay:0,nHideDelay:0};this.layerManager=new jindo.LayerManager(this.option.layerId,a).link(this.option.buttonId).link(this.option.layerId);this.buttonClose=jindo.$Element(jindo.$Element(this.layerManager.getLayer()).query("div.body a.layer_off"));jindo.$Fn(this.hide,this).attach(this.buttonClose,"click");var b=this;this.calendar=new Calendar(this.option.layerId,{type:this.option.type,selectedDate:this.option.selectedDate,minDate:this.option.minDate,maxDate:this.option.maxDate}).attach({click:function(c){b.go(c.date)}})},_initCalendarYear:function(){var d=jindo.$Element(this.option.yearSelectId);d.attr("title","년도 선택");var c=jindo.$Element(this.option.yearDivId);var g=this.option.minDate.substring(0,4);var a=this.option.maxDate.substring(0,4);for(var b=a;b>=g;b--){var f='<option value="'+b+'">'+b+"</option>";d.appendHTML(f)}this.selectYear=new Selectbox();if(d&&c){this.selectYear.touch(this.option.yearDivId,this.option.yearSelectId);var e=jindo.$Element(c.query("div.list.scrollbox"));jindo.$Fn(function(){var j=this.selectYear._getValue();this.calendar.setYear(j)},this).attach(e,"click");var h=jindo.$Element(c.query("ul")).child().length;jindo.$Fn(function(){var j=jindo.$Element(c.query("ul")).child().length},this).attach(c,"click")}},go:function(a){if(this.option.selectedDate!=a){if(this.option.type=="week"){a=a.split("~")[1]}var c="";if(!!this.option.dateDelimiter){c=this.option.dateDelimiter}var b=this.option.url+a.replace(/\//g,c);document.location=b}},toggle:function(a){a.stopDefault();if(this.layerManager==null){this._initCalendar()}if(this.layerManager.getVisible()){this.hide()}else{this.show()}},show:function(){this.layerManager.show();if(this.selectYear==null){this._initCalendarYear()}},hide:function(){this.layerManager.hide()}});news.util.TimeSelector=jindo.$Class({$init:function(b){this._elBase=jindo.$("u.t.layer");this._elLayer=jindo.$$.getSingle(".layer_time",this._elBase);this._welLayer=jindo.$Element(this._elLayer);this.option=b;var a=jindo.$("u.c.layer.time");if(a){var c={sCheckEvent:"click",nCheckDelay:0,nShowDelay:0,nHideDelay:0};this.layerManager=new jindo.LayerManager("u.c.layer.time",c).link("u.c.time.button").link("u.c.layer.time")}new jindo.ScrollBox("scrollbox",{bAdjustThumbSize:true,sOverflowX:"auto",sOverflowY:"auto"});new jindo.ScrollBox("scrollbox2",{bAdjustThumbSize:true,nMinThumbSize:25,sOverflowX:"auto",sOverflowY:"auto"});this._welLayer.hide();jindo.$Element(this._elLayer).css("visibility","");this._attachEvent()},_attachEvent:function(){var a=this;jindo.$Fn(function(b){a._enterTime(b,0,23,null,a.option.minute)}).attach(jindo.$$.getSingle("._hour",this._elBase),"keydown");jindo.$Fn(function(b){a._enterTime(b,0,59,a.option.hour,null)}).attach(jindo.$$.getSingle("._minute",this._elBase),"keydown");jindo.$Fn(function(b){b.stopDefault();a._welLayer.toggle()}).attach(jindo.$$.getSingle(".lnk_time",this._elBase),"click");jindo.$Fn(function(b){b.stopDefault();a._welLayer.hide()}).attach(jindo.$$.getSingle(".btn_close",this._elBase),"click")},_enterTime:function(h,a,f,c,b){var g=h.$value().keyCode||h.$value().which;if(!(g>=48&&g<=57)&&g!=13&&g!=8&&g!=116){h.stopDefault();return}if(g=="13"){var d=h.element.value;if(parseInt(d)>=a&&parseInt(d)<=f&&d.length==2){window.location.href=this.option.url+"?date="+this.option.date+"&time="+(c?c:d)+":"+(b?b:d)}}}});news.util.Window={getTopForCenter:function(a){var b=0;if(a<screen.availHeight){b=(screen.availHeight-a)/2}return b},getLeftForCenter:function(a){var b=0;if(a<screen.availWidth){b=(screen.availWidth-a)/2}return b},popup:function(d){var c=jindo.$H({toolbar:"no",location:0,directories:"no",status:"no",menubar:"no",scrollbars:"no",resizable:"no",top:0,left:0});if(d==null){return}else{if(!d.url){alert("팝업 대상 URL을 입력하십시오.");return}}var b=d.url;var a=d.name;var f=this;jindo.$H(d.features).map(function(j,h,g){if(h=="height"){c.$("top",news.util.Window.getTopForCenter(j))}else{if(h=="width"){c.$("left",news.util.Window.getLeftForCenter(j))}}c.$(h,j)});var e="";c.map(function(j,h,g){e+=h+"="+j+","});e=e.replace(/,$/,"");return window.open(b,a,e)},scrollToTop:function(){window.scrollTo(0,0);return false}};news.util.SnsPopupSender={type:{ME2DAY:1,TWITTER:2,FACEBOOK:3,FACEBOOK2:4,NAVER_BLOG:5,NAVER_CAFE:6,NAVER_BAND:7},tMe2dayTemplate:jindo.$Template("http://plugin.me2day.net/v1/me2post/create_post_form.nhn?body={=body}{if !!tag}&tag={=tag}{/if}"),tMe2dayBodyParameterTemplate:jindo.$Template("{=text}"),tMe2dayBodyParameterTemplateUrl:jindo.$Template('"{=text}":{=url}'),tTwitterTemplate:jindo.$Template("https://twitter.com/share?text={=text}&url={=url}{if !!hashtags}&hashtags={=hashtags}{/if}"),tFacebookTemplate:jindo.$Template("http://www.facebook.com/sharer.php?t={=t}&u={=u}"),tFacebookTemplate2:jindo.$Template("https://www.facebook.com/sharer.php?s=100&p[title]={=t}&p[url]={=u}{if !!i}&p[images][0]={=i}{/if}{if !!s}&p[summary]={=s}{/if}"),tNaverBlogTemplate:jindo.$Template("/main/tool/blog.naver?outlinkUrl={=sUrl}&title={=sText}"),tNaverCafeTemplate:jindo.$Template("/main/tool/cafe.naver?outlinkUrl={=sUrl}&title={=sText}"),tNaverBandTemplate:jindo.$Template("http://www.band.us/plugin/share?body={=body}"),send:function(b,d,e,c,a){switch(b){case this.type.ME2DAY:this.sendMe2day(d,e,c);break;case this.type.TWITTER:this.sendTwit(d,e,c);break;case this.type.FACEBOOK:this.sendFacebook(d,e);break;case this.type.FACEBOOK2:this.sendFacebook2(d,e,c,a);break;case this.type.NAVER_BLOG:this.snsBlogScrap(d,e);break;case this.type.NAVER_CAFE:this.snsCafeScrap(d,e);break;case this.type.NAVER_BAND:this.sendNaverBand(d,e,c);break}},sendMe2day:function(d,e,c){var b=(e)?this.tMe2dayBodyParameterTemplateUrl:this.tMe2dayBodyParameterTemplate;var f=b.process({text:d.replace('"','\\"'),url:e});var a=this.tMe2dayTemplate.process({body:encodeURIComponent(f),tag:encodeURIComponent(c)});news.util.Window.popup({url:a,features:{width:520,height:500,scrollbars:"yes"}})},sendTwit:function(c,d,b){var a=this.tTwitterTemplate.process({text:encodeURIComponent(c),url:encodeURIComponent(d),hashtags:encodeURIComponent(b)});news.util.Window.popup({url:a,features:{width:640,height:350,scrollbars:"yes"}})},sendFacebook:function(b,c){var a=this.tFacebookTemplate.process({t:encodeURIComponent(b),u:encodeURIComponent(c)});news.util.Window.popup({url:a,features:{width:825,height:595,scrollbars:"yes"}})},sendFacebook2:function(e,g,c,b){if(!e){var a=jindo.$$.getSingle("head meta[property=og\\:title]");e=a.content}if(!g){var f=jindo.$$.getSingle("head meta[property=og\\:url]");g=f.content}if(!b){var h=jindo.$$.getSingle("head meta[property=og\\:image]");b=h.content}var d=this.tFacebookTemplate2.process({t:encodeURIComponent(e),u:encodeURIComponent(g),s:encodeURIComponent(c),i:encodeURIComponent(b)});news.util.Window.popup({url:d,features:{width:825,height:595,scrollbars:"yes"}})},snsBlogScrap:function(a,b){var b=this.tNaverBlogTemplate.process({sUrl:encodeURIComponent(b),sText:a});news.util.Window.popup({url:b,name:"snsBlogScrap",features:{width:500,height:600,scrollbars:"yes"}})},snsCafeScrap:function(a,b){var b=this.tNaverCafeTemplate.process({sUrl:encodeURIComponent(b),sText:a});news.util.Window.popup({url:b,name:"snsCafeScrap",features:{width:500,height:600,scrollbars:"yes"}})},sendNaverBand:function(e,f,d){var g=e;var c=f;var a=d;var b=this;this.changeMe2doShortUrl(c,function(j){var k=encodeURIComponent(g);if(j&&j.length>0){k+="%0A"+j}if(a&&a.length>0){k+="%0A"+encodeURIComponent("출처 : "+a)}var h=b.tNaverBandTemplate.process({body:k});news.util.Window.popup({url:h,features:{width:600,height:400,scrollbars:"yes"}})})},changeMe2doShortUrl:function(b,e){var d="https://s.search.naver.com/n/me2do/common/requestJsonpV2.nhn";var a="0049";var c=new jindo.$Ajax(d,{type:"jsonp",onload:function(f){shortUrl=f.json().result.url;e(shortUrl)},onerror:function(f){e(b)}});c.request({svcCode:a,url:b})}};news.util.Cookie={domain:"news.naver.com",path:"/",set:function(a,c,d){if(!!a&&!!c){var b=jindo.$Cookie();b.set(a,c,d,this.domain,this.path)}},get:function(a){var b=jindo.$Cookie();return b.get(a)}};news.util.Cookie.javascript={cookie_arr:null,set:function(d,f,c){c=c||{};this.cookie_arr=[escape(d)+"="+escape(f)];if(c.expires){if(typeof c.expires==="object"&&c.expires instanceof Date){var b=c.expires;var a="expires="+b.toUTCString();this.cookie_arr.push(a)}}else{if(c.expires_day){this.set_expires_date(c.expires_day,24*60*60)}else{if(c.expires_hour){this.set_expires_date(c.expires_hour,60*60)}}}if(c.domain){var e="domain="+c.domain;this.cookie_arr.push(e)}if(c.path){var h="path="+c.path;this.cookie_arr.push(h)}if(c.secure===true){var g="secure";this.cookie_arr.push(g)}document.cookie=this.cookie_arr.join("; ")},get:function(b){var e=escape(b)+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return unescape(f.substring(e.length,f.length))}}return null},del:function(b,a){a=a||{};a.expires_day=-1;this.set(b,"",a)},set_expires_date:function(a,c){var b=new Date();b.setTime(b.getTime()+(a*c*1000));var a="expires="+b.toUTCString();this.cookie_arr.push(a)}};news.util.Login={go:function(a){if(!a||a!=="string"){a=location.href}location.href="https://nid.naver.com/nidlogin.login?mode=form&url="+a},confirmGo:function(a){if(window.confirm("로그인하시겠습니까?")){this.go(a)}}};news.util._rxClassName=function(a){return new RegExp("(^|\\s+)"+a+"(\\(([^)]*)\\))?(\\s+|$)","i")};news.util.getClass=function(d,b){var c=news.util._rxClassName(b);if(!c.test(d.className)){return null}var a=[];if(RegExp.$3){RegExp.$3.replace(/(\{[^\}]+\}|\[[^\]]+\]|[\w\.]+)|,(,+)/g,function(f,j,h){if(j){a.push(j)}if(h){for(var g=0,e=h.length;g<e;g++){a.push("")}}})}return a};news.util.NClickHelper=function(e){var g=e.element;var a=e._event;var h=null;if(typeof nclk!="function"){return}for(;g;g=g.parentNode){h=news.util.getClass(g,"nclicks");if(h){break}}if(!g){return}var f=(news.util.getClass(g,"NCR-STOP"))?true:false;if(f){e.stopBubble()}if(g&&h&&a){if(h[2]=="nilGParam"&&h[3]){var d=h[3].split("_");var c={lk:{oid:d[0],aid:d[1]}};nclk(a,h[0],h[1]||"","",1,encodeURIComponent(JSON.stringify(c)))}else{if(h[2]=="airsGParam"&&h[3]&&h[4]&&h[5]){var b={lk:{r:h[3],g:h[1]},md:{v:h[4],s:h[5]}};nclk(a,h[0],h[1]||"","",1,encodeURIComponent(JSON.stringify(b)))}else{nclk(a,h[0],h[1]||"",h[2]||"",1)}}}};news.util.GnbHelper=function(d){var f=d.element;var a=d._event;var e=false;var b=false;for(;f;f=f.parentNode){if(!f.className||f.className==""){continue}layerClassName=f.className;if(layerClassName=="gnb_wrap"){e=true}}if(e){return}var c=jindo.$Element(jindo.$$.getSingle(".gnb_wrap"));if(c.query(".gnb_lyr_opened")){gnbAllLayerClose()}};news.util.Focus={preventLayerOutFocusByTabEvent:function(b){var a=$Element(b);a.attach({keydown:function(f){var e=f.key();var d=9;if(e.keyCode===d){var c=a.queryAll("a");if(f.element===b&&f.key().shift){f.stopDefault()}else{if(c.length>0&&c[c.length-1].$value()===f.element&&!f.key().shift){f.stopDefault()}}}}})},registerLayerTabEvent:function(b,a){a=a||{};$Element(b).attach("focus",function(c){a.onFocus&&a.onFocus(c)});$Element(b).attach("blur",function(c){a.onBlur&&a.onBlur(c)});$Element(b).attach("keydown",function(e){var d=e.key();var c=9;if(d.keyCode===c){a.onTabKeyDown&&a.onTabKeyDown(e)}})},moveFocus:function(a){if(!a){return}var b=a.getAttribute("tabindex");a.setAttribute("tabindex",0);a.focus();if(b===null){a.removeAttribute("tabindex")}else{a.setAttribute("tabindex",b)}},aFocusStack:[],pushFocusStack:function(b){var a=jindo.$A(this.aFocusStack).indexOf(b);if(a>=0){this.aFocusStack.splice(a,1)}this.aFocusStack.push(b)},popFocusStack:function(b){var c=this.aFocusStack.pop()||document.body;var a=this;b=b||function(d){if(d){a.moveFocus(d)}};b(c)},clearFocusStack:function(){this.aFocusStack.length=0}};news.util.CommentListCountManager={_sMULTI_API_URL:"/api/comment/listCount.json",_oDEFALUT_OPTION:{base:document,isReload:false},_oTEMPLATES:{"default":jindo.$Template(' <span class="count_cmt_bar"></span> <a href="/main/read.naver?oid={=oid}&aid={=aid}&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews{=oid}%2C{=aid}{if sort}%26sort%3D{=sort}{/if}" class="count_cmt _template{if nclk} nclicks({=nclk}){/if}">{=count}<span class="count_cmt_symbol">+</span></a>'),hotissue:jindo.$Template(' <span class="count_cmt_bar"></span> <a href="/main/hotissue/read.naver?mid=hot&sid1={=params.sid1}&cid={=params.cid}&iid={=params.iid}&oid={=oid}&aid={=aid}&ptype={=params.ptype}&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews{=oid}%2C{=aid}{if sort}%26sort%3D{=sort}{/if}" class="count_cmt _template nclicks(hot.artcmt)">{=count}<span class="count_cmt_symbol">+</span></a>'),notbar:jindo.$Template('<a href="/main/read.naver?oid={=oid}&aid={=aid}&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews{=oid}%2C{=aid}{if sort}%26sort%3D{=sort}{/if}" class="count_cmt _template{if nclk} nclicks({=nclk}){/if}">{=count}<span class="count_cmt_symbol">+</span></a>'),hotissueLiveCompo:jindo.$Template('{=count}<span class="ic ic_arr"></span>'),countOnly:jindo.$Template("{if count>0}{=count}{/if}"),sectionHomeCluster:jindo.$Template('<a href="/main/read.naver?oid={=oid}&aid={=aid}&mid=shm&sid1={=params.sid1}&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews{=oid}%2C{=aid}{if sort}%26sort%3D{=sort}{/if}" class="cluster_cmt">{=count}<span class="cluster_cmt_symbol"><span class="blind">이상</span>+</span></a>'),sectionHomeList:jindo.$Template('<a href="/main/read.naver?oid={=oid}&aid={=aid}&mid=shm&sid1={=params.sid1}&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews{=oid}%2C{=aid}{if sort}%26sort%3D{=sort}{/if}" class="count_cmt">{=count}<span class="count_cmt_symbol"><span class="blind">이상</span>+</span></a>'),sectionHomeSeries:jindo.$Template('<a href="/main/read.naver?oid={=oid}&aid={=aid}&mid=shm&sid1={=params.sid1}&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews{=oid}%2C{=aid}{if sort}%26sort%3D{=sort}{/if}" class="cluster_cmt">{=count}<span class="cluster_cmt_symbol"><span class="blind">이상</span>+</span></a>'),pcLiveCompo:jindo.$Template('<a href="/main/read.naver?oid={=oid}&aid={=aid}&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews{=oid}%2C{=aid}{if sort}%26sort%3D{=sort}{/if}" class="pi_relation_comment _template{if nclk} nclicks({=nclk}){/if}">{=count}<span class="count_cmt_symbol">+</span></a>'),optional:jindo.$Template('<a href="{=params.url}" class="{=params.className}{if nclk} nclicks({=nclk}){/if}"><span class="lo_txt">{=count}</span></a>'),urlOptional:jindo.$Template('<a href="{=params.url}" class="count_cmt">{=count}<span class="count_cmt_symbol"><span class="blind">이상</span>+</span></a>'),electionIssueTimeline:jindo.$Template('<span class="count_cmt_bar"></span><a href="{=params.url}&m_view=1" class="count_cmt">{=count}<span class="count_cmt_symbol">+</span></a>'),electionMainNews:jindo.$Template('<span class="count_cmt_bar"></span><a href="/main/read.naver?mid=hot&sid1=100&cid={=params.cid}&iid={=params.iid}&oid={=oid}&aid={=aid}&ptype={=params.ptype}&from=mainnews&m_view=1" class="count_cmt">{=count}<span class="count_cmt_symbol">+</span></a>'),electionRealtimeNews:jindo.$Template('<span class="count_cmt_bar"></span><a href="/main/read.naver?mid=hot&sid1=100&cid={=params.cid}&iid={=params.iid}&oid={=oid}&aid={=aid}&ptype={=params.ptype}&from=realtime&m_view=1" class="count_cmt">{=count}<span class="count_cmt_symbol">+</span></a>'),election2017News:jindo.$Template('<span class="count_cmt_bar"></span><a href="/main/read.naver?mid=sec&sid1=100&oid={=oid}&aid={=aid}&m_view=1" class="count_cmt">{=count}<span class="count_cmt_symbol">+</span></a>'),election2017MainNews:jindo.$Template('<span class="count_cmt_bar"></span><a href="/main/read.naver?mid=hot&sid1=100&cid={=params.cid}&iid={=params.iid}&oid={=oid}&aid={=aid}&ptype={=params.ptype}&from=mainnews&m_view=1" class="count_cmt">{=count}<span class="count_cmt_symbol">+</span></a>'),election2017OfficeNews:jindo.$Template('<span class="count_cmt_bar"></span><a href="/main/read.naver?mid=hot&sid1=100&cid={=params.cid}&iid={=params.iid}&oid={=oid}&aid={=aid}&ptype={=params.ptype}&from=officenews&m_view=1" class="count_cmt">{=count}<span class="count_cmt_symbol">+</span></a>'),election2017Factcheck:jindo.$Template('<span class="count_cmt_bar"></span><a href="/main/read.naver?mid=hot&sid1=100&cid={=params.cid}&iid={=params.iid}&oid={=oid}&aid={=aid}&ptype={=params.ptype}&from=factcheck&m_view=1" class="count_cmt">{=count}<span class="count_cmt_symbol">+</span></a>'),election2017DebateReplay:jindo.$Template('<div class="count "><a href="#" class="count_cmt" {if params.viewId}id="{=params.viewId}"{/if}>{=count}<span class="count_cmt_symbol">+</span></a></div>'),election2017SnuFactcheck:jindo.$Template('<a href="/main/election/president2017/factcheck/comment.naver?id={=params.factcheckId}" class="pi_btn_count num{if nclk} nclicks({=nclk}){/if}"><span class="lo_txt">{=count}</span></a>'),election2017DevateHotclip:jindo.$Template('<span class="count_cmt_bar"></span><a href="/main/read.naver?mid=hot&sid1=100&cid={=params.cid}&iid={=params.iid}&oid={=oid}&aid={=aid}&ptype={=params.ptype}&from=hotclip&m_view=1" class="count_cmt">{=count}<span class="count_cmt_symbol">+</span></a>'),election2018Factcheck:jindo.$Template("{=count}"),election2018Cluster:jindo.$Template('<a href="/main/election/region2018/news/read.naver?oid={=oid}&aid={=aid}&mid=shm&sid1={=params.sid1}&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews{=oid}%2C{=aid}{if sort}%26sort%3D{=sort}{/if}" class="cluster_cmt">{=count}<span class="cluster_cmt_symbol"><span class="blind">이상</span>+</span></a>'),election2018ClusterArticle:jindo.$Template('<a href="/main/election/region2018/news/read.naver?oid={=oid}&aid={=aid}&mid=shm&sid1={=params.sid1}&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews{=oid}%2C{=aid}{if sort}%26sort%3D{=sort}{/if}" class="count_cmt">{=count}<span class="count_cmt_symbol">+</span></a>'),simpleCommentRead:jindo.$Template('댓글 <em class="simplecmt_num">{=count}</em>'),nation2020PickArticle:jindo.$Template('<a href="/main/read.naver?oid={=oid}&aid={=aid}&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews{=oid}%2C{=aid}{if sort}%26sort%3D{=sort}{/if}" class="count_cmt _template{if nclk} nclicks({=nclk}){/if}">{=count}<span class="count_cmt_symbol">+</span></a>'),election2020Cluster:jindo.$Template('<a href="{=params.url}" class="cluster_cmt">{=count}<span class="cluster_cmt_symbol"><span class="blind">이상</span>+</span></a>'),},init:function(){this._oAjax=new jindo.$Ajax(this._sMULTI_API_URL,{method:"get",timeout:3,async:false,onload:jindo.$Fn(function(a){try{var b=a.json();this._injectCount(b.result)}catch(c){}},this).bind(),onerror:function(a){}});return this},view:function(a){if(!this._oAjax.isIdle()){return}this._htOption=this._oDEFALUT_OPTION;for(key in a){this._htOption[key]=a[key]}this._findGnos();this._call()},_getElements:function(){return jindo.$A(jindo.$Element(this._htOption.base).queryAll("._rcount"))},_findGnos:function(){var a=[];this._waElements=this._getElements().filter(function(d,c,f){var b=jindo.$Element(d);var e=jindo.$Json(b.attr("data-comment")).toObject();if(!e||!e.gno){b.removeClass("_rcount");return false}if(!jindo.$A(a).has(e.gno)){a.push(e.gno)}return true});this._sGnos=a.join(";")},_call:function(){if(!this._sGnos){return}var e=this._sGnos.split(";");if(e.length<1){return}var d=this._sMULTI_API_URL+"?resultType=MAP&ticket=news&lang=ko&country=KR";var b=0;var a="";for(var c in e){a+="&objectId="+e[c];b++;if(b%100==0){this._oAjax._url=d+a;this._oAjax.request();a=""}}if(b%100!=0&&a!=""){this._oAjax._url=d+a;this._oAjax.request()}},_injectCount:function(b){var a=new jindo.$H(b);var c=getSocialCommentSortType("sns.comment.detail");this._waElements.forEach(jindo.$Fn(function(o,l,n){var d=jindo.$Element(o);d.removeClass("_rcount");var f=jindo.$Json(d.attr("data-comment")).toObject();if(f&&a.hasKey(f.gno)){var h=a.$(f.gno);if(h&&h.comment>=0){if(f.callback){f.callback(d,a.$(f.gno))}else{if(f.exposeType!="exact"&&f.type!="hotissueLiveCompo"&&h.comment<10){}else{var e=99999;if(f.type=="hotissueLiveCompo"){e=h.comment}else{if(f.exposeType=="exact"){e=h.comment}else{if(h.comment<30){e=10}else{if(h.comment<50){e=30}else{if(h.comment<100){e=50}else{if(h.comment<10000){e=parseInt(h.comment/100)*100}else{if(h.comment<100000){e=parseInt(h.comment/1000)*1000}}}}}}}if(d.query("._template")){d.remove(d.query("._template"))}var k=f.type?this._oTEMPLATES[f.type]:this._oTEMPLATES["default"];var g=f.gno.replace("news","").split(",");var m=e.toString().replace(/(\d)(?=(?:\d{3})+(?!\d))/g,"$1,");var j=k.process({oid:g[0],aid:g[1],count:m,sort:c,nclk:f.nclicks,params:f.params});if(f.addStyle=="prepend"){d.prependHTML(j)}else{d.appendHTML(j)}if(this._htOption.fCallback!=null&&f.callbackName!=null){this._htOption.fCallback[f.callbackName](m)}}}}}},this).bind())}}.init();news.util.MultiTicketCommentCountList={_oTEMPLATES:{"default":jindo.$Template('<a href="{=params.url}" class="{=params.className}">{=count}<span class="symbol"><span class="blind">이상</span>+</span></a>'),countOnly:jindo.$Template("{=count}")},_API_URL:"/api/comment/listCount.json",_API_CBOX_URL:"/api/comment/cbox/listCount.json",init:function(a){this._templateView=(a==null||a.view==null||this._oTEMPLATES[a.view]==null)?"default":a.view;this._base=(a==null||a.id==null||jindo.$Element(a.id))?jindo.$Document():jindo.$Element(a.id);this._ajax_option={method:"post",onload:jindo.$Fn(this._onload,this).bind(),timeout:3};this._findGnos();this._call()},_onload:function(d){var a=d.json().result;var c=jindo.$Element(this._base).queryAll("[data-ticket][data-comment]");if(a&&c){var b=new jindo.$H();a.forEach(function(f,g,e){b.add(f.objectId,f)});c.forEach(jindo.$Fn(function(p,o,h,m){var f=jindo.$Json(o.data("comment")).toObject();if(f){var k=b.$(f.gno);if(k&&k.count>=0){var n=(o.data("ticket")=="channel01")?k.count:k.comment;var e=999999;if(f.exposeType!=null&&f.exposeType=="exact"){e=n}else{if(n<10){return}else{if(n<30){e=10}else{if(n<50){e=30}else{if(n<100){e=50}else{if(n<10000){e=parseInt(n/100)*100}else{if(n<100000){e=parseInt(n/1000)*1000}}}}}}}var l=e.toString().replace(/(\d)(?=(?:\d{3})+(?!\d))/g,"$1,");var j=(f&&f.type)?this._oTEMPLATES[f.type]:this._oTEMPLATES[this._templateView];var g=j.process({params:f.params,count:l});if(f.addStyle=="prepend"){o.prependHTML(g)}else{o.appendHTML(g)}o.$value().removeAttribute("data-ticket")}}},this).bind(a))}},_getElements:function(){return jindo.$A(jindo.$Element(this._base).queryAll("[data-ticket][data-comment]"))},_findGnos:function(){var a={};this._waElements=this._getElements().filter(function(c,d,b){var f=c.data("ticket");var g=jindo.$Json(c.data("comment")).toObject();var e=g.gno;if(!a[f]){a[f]=[]}if(e&&(e.length>=1)){a[f].push(e);return true}c.$value().removeAttribute("data-ticket")});this._tickets=a},_call:function(){for(var a in this._tickets){if(this._tickets[a].length<=0){continue}url=this._API_URL;if(a=="channel01"){url=this._API_CBOX_URL}new jindo.$Ajax(url,this._ajax_option).request({lang:"ko",country:"KR",ticket:a,objectId:this._tickets[a]})}}};news.util.Text={ellipsis:function(a,b){return a.substring(0,b-1)+(a.length>b?" &hellip;":"")}};if(typeof news=="undefined"){news={}}if(typeof news.lnb=="undefined"){news.lnb={}}news.lnb.NewsSearchController=jindo.$Class({form:null,query:null,hasInitQuery:null,$init:function(a){this.form=jindo.$(a);jindo.$Element(this.form).height(1);jindo.$Fn(this.submit,this).attach(this.form,"submit");this.query=this.form.query;jindo.$Fn(this.focus,this).attach(this.query,"focus");jindo.$Fn(this.blur,this).attach(this.query,"blur");this.hasInitQuery=true;if(this.hasInitQuery){this.query.value=this.query.title}},focus:function(){this.hasInitQuery=false;this.query.value=""},blur:function(){if(!this.form.query.value){this.hasInitQuery=true;this.query.value=this.query.title}},submit:function(){if(this.hasInitQuery){this.query.value=""}}});news.lnb.LineRolling=jindo.$Class({area:null,startTop:null,endTop:null,total:0,lastTop:null,isPaused:false,options:null,moveIntervalId:null,$init:function(e,d){var c=this;this.area=jindo.$(e);if(this.area==null){return}var b=jindo.$Element(jindo.$$.getSingle("ul",this.area));if(b==null||b.child()==null||b.child().length==0){return}b.appendHTML(b.first().outerHTML());this.options=d;var a=jindo.$$("li",this.area);this.total=a.length-1;this.lastTop=this.total*this.options.size;this._setStartPosition();jindo.$Element(this.area).attr("tabindex","0");jindo.$Fn(this.pause,this).attach(this.area,"mouseover");jindo.$Fn(this.resume,this).attach(this.area,"mouseout");jindo.$Fn(this.pause,this).attach(this.area,"focus");jindo.$Fn(this.resume,this).attach(this.area,"blur");jindo.$A(jindo.$Element(this.area).queryAll("a")).forEach(function(g,h,f){jindo.$Element(g).attr("tabindex","0");jindo.$Fn(c.pause,c).attach(g,"focus");jindo.$Fn(c.resume,c).attach(g,"blur")})},_setStartPosition:function(){var b=0;if(this.options.isRandomStart){var a=Math.floor(Math.random()*this.total);b=a*this.options.size}this._setTop(b)},_getTop:function(){return this.area.scrollTop},_setTop:function(a){this.area.scrollTop=a},pause:function(a){this.isPaused=true;window.clearInterval(this.moveIntervalId);this.moveIntervalId=null;a.stopDefault()},resume:function(a){this.isPaused=false;a.stopDefault()},tabPause:function(a){this._setTop(0);this.pause(a)},tabResume:function(a){this._setTop(0);this.resume(a)},move:function(){if(!this.isPaused&&this.moveIntervalId==null){this.startTop=this._getTop();if((this.startTop+this.options.size)>=this.lastTop){this.endTop=this.lastTop}else{this.endTop=this.startTop+this.options.size}this.moveIntervalId=window.setInterval(jindo.$Fn(this.scroll,this).bind(),this.options.moveInterval)}},scroll:function(){var b=this._getTop();var c=b+this.options.moveSize;var a=this.endTop;if(c>=a){c=a;window.clearInterval(this.moveIntervalId);this.moveIntervalId=null}this._setTop(c);if(c>=this.lastTop){this._setTop(0)}}});news.lnb.SynchronizedRolling=jindo.$Class({options:null,list:null,intervalId:null,$init:function(a){this.options=a;this.list=jindo.$A()},push:function(a){if(a.total>0){this.list.push(a)}},start:function(){if(this.list.length()>0){this.intervalId=window.setInterval(jindo.$Fn(this.move,this).bind(),this.options.interval)}},stop:function(){window.clearInterval(this.intervalId);this.intervalId=null;this.list.forEach(function(b,a,c){window.clearInterval(b.intervalId);b.intervalId=null})},move:function(){this.list.forEach(function(b,a,c){b.move()})}});if(typeof news=="undefined"){news={}}if(typeof news.home=="undefined"){news.home={}}if(typeof news.home.TopTimelate=="undefined"){news.home.TopTimelate={}}news.home.DragController={mainContent:null,init:function(){this.mainContent=jindo.$Element("main_content");if(!this._hasDroppableComponent()){return}jindo.$Fn(this.up,this).attach(this._getUpButtonList(),"click");jindo.$Fn(this.down,this).attach(this._getDownButtonList(),"click");this._resetUpDownButtonClass()},_isDroppableComponent:function(a){return a.hasClass("droppable")},_hasDroppableComponent:function(){var a=this._getDroppableComponentList();if(a&&a.length>0){return true}else{return false}},_getDroppableComponentList:function(){return jindo.$$("#main_content div.main_component.droppable")},_getComponentFromChild:function(a){var b=jindo.$$.getSingle("! div.main_component",a);return jindo.$Element(b)},_getUpButtonList:function(){return jindo.$A(jindo.$$("#main_content .main_component:not(._phantom) .btn_move a:first-of-type"))},_getDownButtonList:function(){return jindo.$A(jindo.$$("#main_content .main_component:not(._phantom) .btn_move a:last-of-type"))},_getComponentList:function(){return this.mainContent.child(function(a){return a.hasClass("main_component")&&a.attr("id")})},_getNearByComponent:function(e,a){var d=this._getComponentList();var b=d.length;for(var c=0;c<b;c++){if(e.isEqual(d[c])){return d[c+(a)]}}},_getPrevComponent:function(a){return this._getNearByComponent(a,-1)},_getNextComponent:function(a){return this._getNearByComponent(a,1)},_resetUpDownButtonClass:function(){var b=this._getUpButtonList();b.forEach(function(e,d,f){jindo.$Element(e).removeClass("up");jindo.$Element(e).removeClass("up_off");jindo.$Element(e).addClass("up");var c=jindo.$Element(e).query(".blind");if(c){jindo.$Element(c).leave()}});jindo.$Element(b.get(0)).removeClass("up");jindo.$Element(b.get(0)).addClass("up_off");jindo.$Element(b.get(0)).appendHTML('<span class="blind">불가능</span>');var a=this._getDownButtonList();a.forEach(function(e,d,f){jindo.$Element(e).removeClass("down");jindo.$Element(e).removeClass("down_off");jindo.$Element(e).addClass("down");var c=jindo.$Element(e).query(".blind");if(c){jindo.$Element(c).leave()}});jindo.$Element(a.get(a.length()-1)).removeClass("down");jindo.$Element(a.get(a.length()-1)).addClass("down_off");jindo.$Element(a.get(a.length()-1)).appendHTML('<span class="blind">불가능</span>')},_resetCookie:function(){var b=[];var a=jindo.$A(this._getComponentList());a.forEach(function(d,c,e){b.push(d.attr("id"))});news.util.Cookie.set("paneOrderNewsHome",b,365*10)},resetInfo:function(a){this._resetUpDownButtonClass();this._resetCookie()},up:function(a){a.stopDefault();var b=this._getComponentFromChild(a.element);var c=this._getPrevComponent(b);if(!c){return}if(!this._isDroppableComponent(c)){return}c.before(b);a.element.focus();this._resetUpDownButtonClass();this._resetCookie()},down:function(b){b.stopDefault();var c=this._getComponentFromChild(b.element);var a=this._getNextComponent(c);if(!a){return}if(!this._isDroppableComponent(a)){return}a.after(c);b.element.focus();this._resetUpDownButtonClass();this._resetCookie()}};oDragArea=new jindo.DragArea(document,{sClassName:"move"}).attach({handleDown:function(c){nclk(c,"mai.move","","");var b=jindo.$$.getSingle("! .main_component",c.elHandle);this.eContentBox=jindo.$Element(b);this.eContentBox.addClass("catch");this.ePhantom=jindo.$Element("home_phantom");var d=jindo.$$.getSingle(".main_component",this.ePhantom.$value());d.innerHTML=this.eContentBox.html();jindo.$Element(d).addClass("_phantom");var a=this.eContentBox.offset();this.ePhantom.show().offset(a.top,a.left);this.weSpace=jindo.$Element("home_space");this.eContentBox.before(this.weSpace);this.weSpace.show();this.nClientHeight=jindo.$Document().clientSize().height;this.nScrollHeight=jindo.$Document().scrollSize().height},handleUp:function(a){if(this.weSpace.visible()){this.weSpace.before(this.eContentBox);this.weSpace.hide();this.weSpace=null}this.eContentBox.removeClass("catch");this.eContentBox=null;this.ePhantom.hide();this.ePhantom=null;news.home.DragController.resetInfo()},dragStart:function(a){a.elDrag=this.ePhantom.$value()},drag:function(a){var b=[document.scrollTop||document.documentElement.scrollTop||document.body.scrollTop];b[1]=b[0]+this.nClientHeight;var d=a.weEvent.pos().pageY;if(this.nScrollHeight<d){return}var c=50;if(d<b[0]+c){window.scrollBy(0,-c)}else{if(b[1]-c<d){window.scrollBy(0,c)}}}});oDropArea=new jindo.DropArea(document,{oDragInstance:oDragArea}).attach({move:function(b){var a=false;if(this.elDrop!==b.elDrop){this.elDrop=b.elDrop;a=true}var d=b.nRatioY<0.5;if(this._bBeforeAfter!==d){this._bBeforeAfter=d;a=true}if(a){var c=this._htOption.oDragInstance.weSpace;jindo.$Element(this.elDrop)[this._bBeforeAfter?"before":"after"](c);c.show()}},dragEnd:function(a){this.elDrop=null;this._bBeforeAfter=null}});news.home.TopTimelate.Templates={paperHeadline:'{for headline in headlineList}<li>{if headline.title != ""}<a href="/main/list.naver?mode=LPOD&mid=sec&oid={=headline.officeId}&listType=paper&date={=headline.publishDate}" class="nclicks(opt.pcard)" onclick="news.home.TopTimelate.Controller._setCookieOffice(\'top_paperheadline\', \'{=headline.officeId}\')"><div class="ht_press_logo">{=headline.logoUrl}</div><div class="ht_article"><strong class="ht_title">{=headline.title}</strong><p class="ht_desc">{if headline.thumbnail != ""}<div class="ht_thumb"><img src="{=headline.thumbnail}" width="80" height="54" alt="" onError="javascript:this.src=\'https://ssl.pstatic.net/static.news/image/news/2009/noimage_70x50.gif\'"><span class="trans_border"></span></div>{/if}<span class="ht_desc_txt">{=headline.summary}</span></p></div></a>{else}<a href="/main/list.naver?mode=LPOD&mid=sec&oid={=headline.officeId}&listType=paper&date={=headline.publishDate}" class="ht_nodata nclicks(opt.pcard)" onclick="news.home.TopTimelate.Controller._setCookieOffice(\'top_paperheadline\', \'{=headline.officeId}\')"><div class="ht_press_logo">{=headline.logoUrl}</div><div class="ht_article">발행된 종이신문이 없거나<br>신문게재 정보가<br>입력되지 않았습니다.</div></a>{/if}</li>{/for}',eveningNews:'{for live in liveTvList}<li>{if live.onairStatus == "ON-AIR"}<a href="#" class="nclicks(opt.livecard)" onclick="news.home.TopTimelate.Controller._setCookieOffice(\'top_eveningnews\', \'{=live.officeId}\'); news.home.TopTimelate.Controller._openTvCastUrl(\'{=live.naverTvChannelId}\');">{elseif live.onairStatus == "NOT-YET"}<a href="/main/tv/index.naver?mid=tvh" class="nclicks(opt.blivecard)" onclick="news.home.TopTimelate.Controller._setCookieOffice(\'top_eveningnews\', \'{=live.officeId}\')">{else}<a href="/main/tvgallery/replay.naver?sid={=live.sectionId}#{=live.officeId}_{=live.articleId}" class="nclicks(opt.alivecard)" onclick="news.home.TopTimelate.Controller._setCookieOffice(\'top_eveningnews\', \'{=live.officeId}\')">{/if}<div class="ht_press_logo">{=live.logoUrl}</div><div class="ht_article {if live.onairStatus == "ON-AIR"}ht_status_live{elseif live.onairStatus == "NOT-YET"}ht_status_schedule{else}ht_status_replay{/if}">{=live.thumbnail}<span class="trans_border"></span><div class="ht_status_bg"></div><div class="ht_status">{if live.onairStatus == "ON-AIR"}<div class="ht_status_ico"><span class="blind">LIVE</span></div><div class="ht_status_msg">현재 방송 중입니다.</div>{elseif live.onairStatus == "NOT-YET"}<div class="ht_status_ico"><span class="blind">LIVE 방송예정</span></div><div class="ht_status_msg">{=live.nextLiveTime} 방송 예정</div>{else}<span class="r_ico r_vod_medium"></span><div class="ht_replay_desc"><div class="ht_valign"><span class="ht_valign_inner"><strong>다시보기</strong> {=live.title}</span></div></div>{/if}</div></div></a></li>{/for}'};news.home.TopTimelate.Controller={_oTopTimelateData:null,_currentRollingComponent:"paperheadline",_headlineCookieName:"top_paperheadline",_eveningNewsCookieName:"top_eveningnews",_headlineOpendStatusCookieName:"headline_open_btn",_nclicksOptOptitle:"nclicks(opt.optitle)",_nclicksOptObtitle:"nclicks(opt.obtitle)",_nclicksOptCptitle:"nclicks(opt.cptitle)",_nclicksOptCbtitle:"nclicks(opt.cbtitle)",_isShowHeadline:false,_welBase:null,_rollingPaperHeadline:null,_rollingEveningNews:null,_paperheadline_tab:null,_paperheadline_a:null,_ht_paperheadline:null,_ht_paperheadline_ul:null,_ht_paperheadline_nodata:null,_ht_eveningnews:null,_ht_eveningnews_ul:null,_eveningnews_tab:null,_eveningnews_a:null,ht_btn_txt:null,ht_head:null,_ht_paper_prev_span:null,_ht_paper_next_span:null,_ht_evening_prev_span:null,_ht_evening_next_span:null,_default_move_count:4,_disable_prev_btn:'<span class="ht_btn_prev"><span class="ht_ico"></span><span class="blind">이전</span></span>',_able_prev_btn:'<a href="javascript:;" class="ht_btn_prev nclicks(opt.prev)"><span class="ht_ico"></span><span class="blind">이전</span></a>',_disable_next_btn:'<span class="ht_btn_next"><span class="ht_ico"></span><span class="blind">다음</span></span>',_able_next_btn:'<a href="javascript:;" class="ht_btn_next nclicks(opt.next)"><span class="ht_ico"></span><span class="blind">다음</span></a>',_fold_btn:'<a href="javascript:;" class="ht_btn_fold nclicks(opt.close)"><span class="ht_btn_box"><span class="ht_btn_ico"></span><span class="blind">접기</span></span></a>',intervalId:null,interval:7700,_stop:false,_ellipsis:"...",init:function(a){this._oTopTimelateData=a;this._welBase=jindo.$Element(jindo.$$.getSingle(".home_timelate"));this._paperheadline_tab=jindo.$Element(this._welBase.query("#ht_tabmnu_0"));this._paperheadline_a=jindo.$Element(this._welBase.query("#ht_tabmnu_0 a"));this._eveningnews_tab=jindo.$Element(this._welBase.query("#ht_tabmnu_1"));this._eveningnews_a=jindo.$Element(this._welBase.query("#ht_tabmnu_1 a"));this._ht_paperheadline=jindo.$Element(this._welBase.query(".ht_paperheadline"));this._ht_paperheadline_ul=jindo.$Element(this._welBase.query(".ht_paperheadline ul"));this._ht_paperheadline_nodata=jindo.$Element(this._welBase.query(".ht_nodata_all"));this._ht_eveningnews=jindo.$Element(this._welBase.query(".ht_eveningnews"));this._ht_eveningnews_ul=jindo.$Element(this._welBase.query(".ht_eveningnews ul"));this._ht_btn_fold=jindo.$Element(this._welBase.query(".ht_btn_fold"));this.ht_btn_txt=jindo.$Element(jindo.$$.getSingle(".ht_btn_box"));this.ht_head=jindo.$Element(jindo.$$.getSingle(".ht_head"));this._appendHTML();this._attachEvent()},_attachEvent:function(){oSelf=this;jindo.$Fn(function(d){d.stopDefault();if(oSelf._ht_paperheadline.visible()){oSelf._ht_paperheadline.toggle();oSelf._showPaperHeadline(false);oSelf._setPaperHeadlineNclicksParams();oSelf._openTabArrow(oSelf._paperheadline_a,false);return}oSelf._showEveningNews(false);oSelf._setHtBtnOpenStatus("opened");oSelf._showPaperHeadline(true);oSelf._isShowHeadline=true;oSelf._setPaperHeadlineNclicksParams();oSelf._openTabArrow(oSelf._paperheadline_a,true);oSelf._openTabArrow(oSelf._eveningnews_a,false)}).attach(oSelf._paperheadline_tab,"click");jindo.$Fn(function(d){d.stopDefault();if(oSelf._ht_eveningnews.visible()){oSelf._ht_eveningnews.toggle();oSelf._showEveningNews(false);oSelf._setEveningNewsNclicksParams();oSelf._openTabArrow(oSelf._eveningnews_a,false);return}oSelf._showPaperHeadline(false);oSelf._showEveningNews(true);oSelf._setHtBtnOpenStatus("opened");oSelf._isShowHeadline=false;oSelf._setEveningNewsNclicksParams();oSelf._openTabArrow(oSelf._eveningnews_a,true);oSelf._openTabArrow(oSelf._paperheadline_a,false)}).attach(oSelf._eveningnews_tab,"click");this._welBase.delegate("click",".ht_btn_box",function(d){if(oSelf._ht_paperheadline.visible()||oSelf._ht_eveningnews.visible()){oSelf._setHtBtnOpenStatus("closed");oSelf._showPaperHeadline(false);oSelf._showEveningNews(false)}else{this._showPaperHeadline(false);this._showEveningNews(false);oSelf._setHtBtnOpenStatus("opened");if(oSelf._isShowHeadline){oSelf._showPaperHeadline(true)}else{oSelf._showEveningNews(true)}}});b(oSelf._headlineCookieName,"paperHeadlineRolling");b(oSelf._eveningNewsCookieName,"eveningNewsRolling");function b(f,e){var d=jindo.$Element(e);a(f,d);c(f,d)}function a(e,d){jindo.$Fn(function(f){oSelf._stop(e)}).attach(d,"mouseover");jindo.$Fn(function(f){oSelf._start(e)}).attach(d,"mouseout")}function c(f,d){var e=d.queryAll("a");jindo.$Fn(function(g){oSelf._stop(f)}).attach(e,"focus");jindo.$Fn(function(g){oSelf._start(f)}).attach(e,"blur")}},_openTabArrow:function(c,b){var a=c.query("span.ht_ico");a.innerHTML=b?'<span class="blind">접기</span>':'<span class="blind">열기</span>'},_disableNextButton:function(b){oSelf=this;var a=this._able_prev_btn+this._disable_next_btn+this._fold_btn;if(b==this._eveningNewsCookieName){jindo.$Element(this._welBase.query("div.ht_eveningnews div.ht_navi")).empty();jindo.$Element(this._welBase.query("div.ht_eveningnews div.ht_navi")).appendHTML(a);jindo.$Fn(function(c){oSelf._prev(oSelf._eveningNewsCookieName)}).attach(jindo.$Element(this._welBase.query("div.ht_eveningnews div.ht_navi a.ht_btn_prev")),"click")}else{jindo.$Element(this._welBase.query("div.ht_paperheadline div.ht_navi")).empty();jindo.$Element(this._welBase.query("div.ht_paperheadline div.ht_navi")).appendHTML(a);jindo.$Fn(function(c){oSelf._prev(oSelf._headlineCookieName)}).attach(jindo.$Element(this._welBase.query("div.ht_paperheadline div.ht_navi a.ht_btn_prev")),"click")}},_disablePrevButton:function(b){oSelf=this;var a=this._disable_prev_btn+this._able_next_btn+this._fold_btn;if(b==this._eveningNewsCookieName){jindo.$Element(this._welBase.query("div.ht_eveningnews div.ht_navi")).empty();jindo.$Element(this._welBase.query("div.ht_eveningnews div.ht_navi")).appendHTML(a);jindo.$Fn(function(c){oSelf._next(oSelf._eveningNewsCookieName)}).attach(jindo.$Element(this._welBase.query("div.ht_eveningnews div.ht_navi a.ht_btn_next")),"click")}else{jindo.$Element(this._welBase.query("div.ht_paperheadline div.ht_navi")).empty();jindo.$Element(this._welBase.query("div.ht_paperheadline div.ht_navi")).appendHTML(a);jindo.$Fn(function(c){oSelf._next(oSelf._headlineCookieName)}).attach(jindo.$Element(this._welBase.query("div.ht_paperheadline div.ht_navi a.ht_btn_next")),"click")}},_allDisableButton:function(b){var a=this._disable_prev_btn+this._disable_next_btn+this._fold_btn;if(b==this._eveningNewsCookieName){jindo.$Element(this._welBase.query("div.ht_eveningnews div.ht_navi")).empty();jindo.$Element(this._welBase.query("div.ht_eveningnews div.ht_navi")).appendHTML(a)}else{jindo.$Element(this._welBase.query("div.ht_paperheadline div.ht_navi")).empty();jindo.$Element(this._welBase.query("div.ht_paperheadline div.ht_navi")).appendHTML(a)}},_allAbleButton:function(b){oSelf=this;var a=this._able_prev_btn+this._able_next_btn+this._fold_btn;if(b==this._eveningNewsCookieName){jindo.$Element(this._welBase.query("div.ht_eveningnews div.ht_navi")).empty();jindo.$Element(this._welBase.query("div.ht_eveningnews div.ht_navi")).appendHTML(a);jindo.$Fn(function(c){oSelf._prev(oSelf._eveningNewsCookieName)}).attach(jindo.$Element(this._welBase.query("div.ht_eveningnews div.ht_navi a.ht_btn_prev")),"click");jindo.$Fn(function(c){oSelf._next(oSelf._eveningNewsCookieName)}).attach(jindo.$Element(this._welBase.query("div.ht_eveningnews div.ht_navi a.ht_btn_next")),"click")}else{jindo.$Element(this._welBase.query("div.ht_paperheadline div.ht_navi")).empty();jindo.$Element(this._welBase.query("div.ht_paperheadline div.ht_navi")).appendHTML(a);jindo.$Fn(function(c){oSelf._prev(oSelf._headlineCookieName)}).attach(jindo.$Element(this._welBase.query("div.ht_paperheadline div.ht_navi a.ht_btn_prev")),"click");jindo.$Fn(function(c){oSelf._next(oSelf._headlineCookieName)}).attach(jindo.$Element(this._welBase.query("div.ht_paperheadline div.ht_navi a.ht_btn_next")),"click")}},_prev:function(f){var d=null;if(f==oSelf._eveningNewsCookieName){d=oSelf._rollingEveningNews}else{d=oSelf._rollingPaperHeadline}if(d==null){return}var e=d.getItems().length;var a=d.getIndex();var c=a-oSelf._default_move_count;this._saveCurrentFocusedBtnIndex(f);oSelf=oSelf;if(c<=0){c=0;this._disablePrevButton(f)}else{var b=parseInt(e/oSelf._default_move_count)-parseInt(c/oSelf._default_move_count);if(b>0){oSelf._allAbleButton(f)}}this._restoreFocusBySavedIndex(f);d.moveTo(c)},_setPaperHeadlineNclicksParams:function(){oSelf._paperheadline_a.removeClass(oSelf._nclicksOptOptitle);oSelf._paperheadline_a.removeClass(oSelf._nclicksOptCptitle);if(oSelf._paperheadline_tab.className()===null||oSelf._paperheadline_tab.className()===""){oSelf._paperheadline_a.addClass(oSelf._nclicksOptCptitle)}else{oSelf._paperheadline_a.addClass(oSelf._nclicksOptOptitle)}},_setEveningNewsNclicksParams:function(){oSelf._eveningnews_a.removeClass(oSelf._nclicksOptObtitle);oSelf._eveningnews_a.removeClass(oSelf._nclicksOptCbtitle);if(oSelf._eveningnews_tab.className()===null||oSelf._eveningnews_tab.className()===""){oSelf._eveningnews_a.addClass(oSelf._nclicksOptCbtitle)}else{oSelf._eveningnews_a.addClass(oSelf._nclicksOptObtitle)}},_next:function(f){var d=null;if(f==oSelf._eveningNewsCookieName){d=oSelf._rollingEveningNews}else{d=oSelf._rollingPaperHeadline}if(d==null){return}var e=d.getItems().length;var c=d.getIndex();var a=c+oSelf._default_move_count;var b=oSelf._default_move_count-(e-a);if(b>=0){a=c+oSelf._default_move_count-b}d.moveTo(a);this._saveCurrentFocusedBtnIndex(f);if(b>=0){oSelf._disableNextButton(f)}else{oSelf._allAbleButton(f)}this._restoreFocusBySavedIndex(f)},_start:function(a){oSelf=this;this.intervalId=window.setInterval(jindo.$Fn(function(){oSelf._next(a)},oSelf).bind(),this.interval)},_stop:function(a){if(this.intervalId!=null){window.clearInterval(this.intervalId);this.intervalId=null}},_showPaperHeadline:function(a){if(a==true){this._ht_paperheadline.show();jindo.$("paperHeadlineRolling")["scrollLeft"]=this.lastPosition_paper;this._paperheadline_tab.addClass("selected");this._start(this._headlineCookieName)}else{if(oSelf._ht_paperheadline.visible()){this.lastPosition_paper=jindo.$("paperHeadlineRolling")["scrollLeft"]}this._ht_paperheadline.hide();this._paperheadline_tab.removeClass("selected");this._stop(this._headlineCookieName)}},_showEveningNews:function(a){if(a==true){this._ht_eveningnews.show();jindo.$("eveningNewsRolling")["scrollLeft"]=this.lastPosition_evening;this._eveningnews_tab.addClass("selected");this._start(this._eveningNewsCookieName)}else{if(oSelf._ht_eveningnews.visible()){this.lastPosition_evening=jindo.$("eveningNewsRolling")["scrollLeft"]}this._ht_eveningnews.hide();this._eveningnews_tab.removeClass("selected");this._stop(this._eveningNewsCookieName)}},_appendHTML:function(){if(!this._oTopTimelateData){return}var e=this._shuffleData(jindo.$A(this._oTopTimelateData.headlineList),this._headlineCookieName);var b=this._shuffleData(jindo.$A(this._oTopTimelateData.liveTvList),this._eveningNewsCookieName);var d={headlineList:e,liveTvList:b};var h=null;if(e&&e.length>0){var g=jindo.$Template(news.home.TopTimelate.Templates.paperHeadline);this._ht_paperheadline_ul.appendHTML(g.process(d))}var a=null;if(b&&b.length>0){var f=jindo.$Template(news.home.TopTimelate.Templates.eveningNews);this._ht_eveningnews_ul.appendHTML(f.process(d))}else{a=""}this._ht_paperheadline_ul.hide();this._ht_paperheadline_nodata.hide();this._ht_eveningnews_ul.show();if(e&&e.length>0){this._ht_paperheadline_ul.show();this._rollingPaperHeadline=new jindo.Rolling(jindo.$("paperHeadlineRolling"),{nDuration:250});this._disablePrevButton(this._headlineCookieName)}else{this._ht_paperheadline_nodata.show();this._allDisableButton(this._headlineCookieName)}this._rollingEveningNews=new jindo.Rolling(jindo.$("eveningNewsRolling"),{nDuration:250});this._disablePrevButton(this._eveningNewsCookieName);var c=this._getHtBtnOpenStatusCookie();if(this._oTopTimelateData.open=="Y"&&c=="opened"){if(this._oTopTimelateData.target=="headlineList"){this._showEveningNews(false);this._showPaperHeadline(true);this._openTabArrow(this._paperheadline_a,true);this._openTabArrow(this._eveningnews_a,false)}else{if(this._oTopTimelateData.target=="liveTvList"){this._showPaperHeadline(false);this._showEveningNews(true);this._openTabArrow(this._eveningnews_a,true);this._openTabArrow(this._paperheadline_a,false)}}}else{this._showPaperHeadline(false);this._showEveningNews(false);this._openTabArrow(this._eveningnews_a,false);this._openTabArrow(this._paperheadline_a,false)}this._setDefaultSelectedTabValue(this._oTopTimelateData.target)},_setDefaultSelectedTabValue:function(a){if(a=="headlineList"){this._isShowHeadline=true}else{if(a=="liveTvList"){this._isShowHeadline=false}}},_shuffleData:function(g,j){oSelf=this;var e=news.util.Cookie.get(j);var c=jindo.$A();var h=jindo.$A();var f=jindo.$A();var d=jindo.$A();var b=false;var a=(j===oSelf._headlineCookieName)?function(k){var l=k.title===""?d:f;l.push(k)}:function(k){f.push(k)};g.forEach(function(m){oSelf._setTitileAndSummaryText(j,m);if(j==oSelf._headlineCookieName&&m.officeId==e){c.push(m)}else{if(j==oSelf._eveningNewsCookieName){if(m.onairStatus=="NOT-YET"){var o="";var l=m.nextLiveTime;var k=parseInt(l.substr(0,2));var n=l.substr(3);if(k>12){o="오후 "+(k-12)+"시"}o+=" "+n+"분";m.nextLiveTime=o}if(m.onairStatus=="ON-AIR"){if(m.officeId==e){c.push(m);b=true}else{h.push(m)}}else{if(m.officeId==e){c.push(m)}else{a(m)}}}else{a(m)}}});h.shuffle();f.shuffle();d.shuffle();if(b){h.forEach(function(k){c.push(k)})}else{c.forEach(function(k){h.push(k)});c=h}f.forEach(function(k){c.push(k)});d.forEach(function(k){c.push(k)});return c.$value()},_setTitileAndSummaryText:function(c,a){var b=oSelf._isKoreanArticle(a);if(c==oSelf._headlineCookieName){oSelf._setPaperHeadlineTitleText(b,a);oSelf._setPaperHeadlineSummaryText(b,a)}else{if(c==oSelf._eveningNewsCookieName){oSelf._setTVHeadlineTitleText(b,a)}}},_isKoreanArticle:function(c){var b=jindo.$S(c.summary).bytes();var a=c.summary.length;if(b==a){return false}else{return true}},_setPaperHeadlineSummaryText:function(b,a){if(b){if(a.thumbnail.length>0){if(a.summary.length>30){a.summary=a.summary.substring(0,30).concat(oSelf._ellipsis)}}else{if(a.summary.length>55){a.summary=a.summary.substring(0,55).concat(oSelf._ellipsis)}}}else{if(a.thumbnail.length>0){if(a.summary.length>35){a.summary=a.summary.substring(0,35).concat(oSelf._ellipsis)}}else{if(a.summary.length>90){a.summary=a.summary.substring(0,90).concat(oSelf._ellipsis)}}}},_setPaperHeadlineTitleText:function(b,a){if(b){if(a.title.length>25){a.title=a.title.substring(0,25).concat(oSelf._ellipsis)}}else{if(a.title.length>45){a.title=a.title.substring(0,45).concat(oSelf._ellipsis)}}},_setTVHeadlineTitleText:function(b,a){if(b){if(a.title.length>25){a.title=a.title.substring(0,25).concat(oSelf._ellipsis)}}else{if(a.title.length>40){a.title=a.title.substring(0,40).concat(oSelf._ellipsis)}}},_setCookieOffice:function(b,a){news.util.Cookie.set(b,a,365)},_setHtBtnOpenStatus:function(a){news.util.Cookie.javascript.set(this._headlineOpendStatusCookieName,a,{expires_hour:4})},_getHtBtnOpenStatusCookie:function(){var a=news.util.Cookie.javascript.get(this._headlineOpendStatusCookieName);if(a==null){if(this._oTopTimelateData.open=="Y"){a="opened"}else{a="closed"}}return a},_saveCurrentFocusedBtnIndex:function(e){if(!document.activeElement){return}var c=this._getRollingWrapperByType(e);var b=document.activeElement;var a=jindo.$Element(c.query(".ht_navi"));var d=a.indexOf(b);if(d===-1){return}a.attr("data-focused-btn-index",d)},_restoreFocusBySavedIndex:function(e){var c=this._getRollingWrapperByType(e);var b=jindo.$Element(c.query(".ht_navi"));var a=parseInt(b.attr("data-focused-btn-index"),10);var d=b.child()[a];if(d===undefined){return}d.$value().focus();b.attr("data-focused-btn-index",null)},_getRollingWrapperByType:function(a){return(a===this._headlineCookieName)?this._ht_paperheadline:this._ht_eveningnews},_openTvCastUrl:function(a){if(typeof a!=="undefined"&&a){window.open("http://tv.naver.com/"+a+"/live","_blank")}}};if(typeof news=="undefined"){news={}}if(typeof news.book=="undefined"){news.book={}}news.book.Manager=jindo.$Class({bookEl:null,bookInfoList:null,btnArr:null,leftBtn:null,rightBtn:null,index:null,listSize:null,currentNumber:null,$init:function(){this.bookEl=jindo.$Element("rel_book");this.bookInfoList=jindo.$ElementList(this.bookEl.queryAll("ul"));this.btnArr=jindo.$ElementList(this.bookEl.queryAll(".btn_arr"));this.leftBtn=this.btnArr.get(0);this.rightBtn=this.btnArr.get(1);this.index=0;this.listSize=this.bookInfoList.length();this.currentNumber=jindo.$Element(this.bookEl.query(".cur_num"));this._bindEvent()},_bindEvent:function(){jindo.$Fn(this._prev,this).attach(this.leftBtn,"click");jindo.$Fn(this._next,this).attach(this.rightBtn,"click")},_prev:function(a){a.stopDefault();if(this.index>0){this.bookInfoList.get(this.index).hide();this.index=this.index-1;this.bookInfoList.get(this.index).show();this.currentNumber.html('<span class="blind">현재 페이지</span>'+(this.index+1));if(this.index==0){this.leftBtn.first().hide();this.rightBtn.first().show()}else{this.rightBtn.first().show();this.leftBtn.first().show()}}},_next:function(a){a.stopDefault();if(this.index<this.listSize-1){this.bookInfoList.get(this.index).hide();this.index=this.index+1;this.bookInfoList.get(this.index).show();this.currentNumber.html('<span class="blind">현재 페이지</span>'+(this.index+1));if(this.index==this.listSize-1){this.rightBtn.first().hide();this.leftBtn.first().show()}else{this.rightBtn.first().show();this.leftBtn.first().show()}}}});if(typeof news=="undefined"){news={}}if(typeof news.section=="undefined"){news.section={}}news.section.MainIssueCollectManager={sServletPath:"/main/mainNews.naver",pSid1Pattern:/[?&]sid1=(\d{3})/,pParamPattern:/#&date=([^&]*)&page=(\d{1,3})/,sSid1:null,sMainNewsElementId:"mainNewsComponentId",elMainNews:null,nMainNewsCid:null,bHashOnHashChange:false,bHasTargetDateTime:false,oAjax:null,aDateList:null,sCurrentDateTime:null,sCurrentDate:null,oPagerInfo:null,aItemList:null,oAirsObject:null,aDayOfWeek:["일","월","화","수","목","금","토"],tMainNews:jindo.$Template(["<li>","<dl>",'{set textLength="70"}','{if type == "1"}','{set textLength="46"}','<dt class="photo">','<a href="{=url}" class="nclicks({=nclick_name})">','<img src="{=imgUrl}?type={=thumbType106_72}" width="106" height="72" alt="" onError="javascript:this.src=\'https://ssl.pstatic.net/static.news/image/news/2009/noimage_106x72.png\';" >',"</a>","</dt>","{/if}",'{if type == "2"}','{set textLength="46"}','<dt class="photo">','<a href="{=url}" class="nclicks({=nclick_name})">','<img src="{=imgUrl}?type={=thumbType106_72}" width="106" height="72" alt="" onError="javascript:this.src=\'https://ssl.pstatic.net/static.news/image/news/2009/noimage_106x72.png\';" >','<strong class="r_ico r_vod_medium" title="영상">동영상기사</strong>',"</a>","</dt>","{/if}","<dt>",'<a href="{=url}"  class="nclicks({=nclick_name})">{=title}</a>',"</dt>","<dd {=commentTemplate}>",'<span class="lede">{if summary !== null}{js news.util.Text.ellipsis(=summary, =textLength)}{/if}</span>','<span class="writing">{=office}</span>','<span class="date{=dateInStandardClass}">{=dateInStandard}</span>',"</dd>","</dl>","</li>"].join("")),tPagination:jindo.$Template('<a href="#&date={=sDate} 00:00:00&page={=index}" class="{=className} nclicks(air.page)">{=index}</a>'),tPreNextPagination:jindo.$Template('<a href="#&date={=sDate} 00:00:00&page={=index}" class="{=className} nclicks(air.next)">{=text}</a>'),tCurrentDate:jindo.$Template('<span class="viewday">{=nMonthView}월{=nDay}일({=sDayOfWeek})</span>'),tDate:jindo.$Template('<a href="#&date={=sDate} 00:00:00&page=1" class="_dateNavigation nclicks(art_{air.date)" id="{=sDate}">{=nMonthView}월{=nDay}일({=sDayOfWeek})</a>'),init:function(b){try{this._sectionId=b;this.elMainNews=jindo.$(this.sMainNewsElementId);if(!this.elMainNews){return}this.nMainNewsCid=this.elMainNews.name;if(this.nMainNewsCid==null||this.nMainNewsCid<0){return}this.elSectionBody=jindo.$("section_body");this.elPaging=jindo.$("paging");this.elPagenaviDay=jindo.$("pagenavi_day");if(this.pSid1Pattern.test(location.href)){this.sSid1=location.href.match(this.pSid1Pattern)[1]}this.bHashOnHashChange=navigator.userAgent.toLowerCase().indexOf("msie")<0;this.start();this.attachEventForHash()}catch(a){if(jindo.$Element("airs_explain_text")!=null){jindo.$Element("airs_explain_text").hide()}}},start:function(){var a=this.getParamFromUrl(location.href);if(a){this.bHasTargetDateTime=true}else{a={firstLoad:"Y"}}this.request(a)},getParamFromUrl:function(b){if(this.pParamPattern.test(b)){var a=b.match(this.pParamPattern);return{date:a[1],page:a[2]}}else{return null}},request:function(a){if(this.oAjax){this.oAjax.abort()}var c=this;var d="?sid1="+this._sectionId;if(a){for(var b in a){d+="&"+b+"="+a[b]}}this.oAjax=jindo.$Ajax(c.sServletPath+d,{asynchronous:false,onload:jindo.$Fn(function(h){var f=this;var g=h.json();f.setData(h.json());f.setPagination();if(!f.bHashOnHashChange){f.attachEventForClick()}f.setMainNews();var e=document.location.hash;if(e!=""&&(e.indexOf("#&date=")>=0)){document.getElementById("section_body").scrollIntoView(true)}this.oAjax=null},this).bind()}).request()},setData:function(a){this.oPagerInfo=a.pagerInfo;this.oAirsObject=JSON.parse(a.airsResult)},setPagination:function(){if(!this.elPaging){return}var l=this;var f=new Array();var c=this.oPagerInfo;var j=c.firstPage;var h=c.lastPage;var k=c.page;var b=c.indexSize;var e=c.totalPages;if(k>b){var a={sDate:this.sCurrentDate,index:parseInt((k-1)/b)*b,className:"_paging pre",text:"이전"};f.push(this.tPreNextPagination.process(a))}for(i=j;i<=h;i++){var a={sDate:this.sCurrentDate,index:i};var g="";if(c.page==i){g="<strong>"+i+"</strong>"}else{a.className="_paging";g=this.tPagination.process(a)}f.push(g)}if((parseInt((e-1)/b)-parseInt((k-1)/b))>0){var a={sDate:this.sCurrentDate,index:parseInt((k-1)/b+1)*b+1,className:"_paging next",text:"다음"};f.push(this.tPreNextPagination.process(a))}if(f.length>0){var d=f.join("\n");this.elPaging.innerHTML=d}},setDateNavigation:function(){if(!this.elPagenaviDay){return}var d=this.aDateList;var k=new Array();for(var e=0;d.length>e;e++){var h=d[e];var g=parseInt(h.substring(0,4),10);var c=parseInt(h.substring(5,7),10)-1;var n=c+1;var b=parseInt(h.substring(8,10),10);var m=new Date(g,c,b);var j=m.getDay();var l;var a={nMonthView:n,nDay:b,sDayOfWeek:this.aDayOfWeek[j]};if(this.sCurrentDate==h){l=this.tCurrentDate.process(a)}else{a.sDate=h;l=this.tDate.process(a)}k.push(l)}if(k.length>0){var f=k.join('<span class="devidebar">&middot;</span>');this.elPagenaviDay.innerHTML=f}},attachEventForHash:function(){if(this.bHashOnHashChange){jindo.$Fn(this.changeHash,this).attach(window,"hashchange")}else{this.attachEventForClick()}},changeHash:function(a){var b=this.getParamFromUrl(location.href);this.bHasTargetDateTime=true;this.request(b)},attachEventForClick:function(){var b=this;var a=jindo.$$("#paging a._paging");var c=jindo.$$("#pagenavi_day a._dateNavigation");jindo.$Fn(this.click,this).attach(a,"click");jindo.$Fn(this.click,this).attach(c,"click")},click:function(b){var a=b.currentElement;var c=this.getParamFromUrl(a.href);this.bHasTargetDateTime=true;this.request(c)},setMainNews:function(){if(!this.elSectionBody){return}var e=this.oAirsObject;var g="";if(e==null){return}if(e.result[this._sectionId]==null){return}var l=e.result[this._sectionId];for(var f=0;l.length>f;f++){var h=l[f];if(f==0){g+='<ul class="type06_headline">\n'}else{if(f%5==0){if(f==21){g+='<ul class="type06 type06_last">\n'}else{g+='<ul class="type06">\n'}}}var c="/main/read.naver?mode=LSD&mid=shm&sid1="+this._sectionId+"&oid="+h.officeId+"&aid="+h.articleId;var d=jindo.$Date(h.serviceTime).format("Y.m.d H:i");var m=" ";if(h.serviceTime!=null){var n=jindo.$Date.now()-h.serviceTime;if(n<60000){d="1분전";m+="is_new"}else{if(n<3600000){d=parseInt(n/60000,10)+"분전";m+="is_new"}else{if(n<86400000){d=parseInt(n/3600000,10)+"시간전";m+="is_outdated"}else{if(n<604800000){d=parseInt(n/86400000,10)+"일전";m+="is_outdated"}}}}}var k="";if(h.articleId&&h.officeId){k+='class="_rcount" data-comment="&#123;gno:\'news'+h.officeId+","+h.articleId+"',params:{sid1:'"+this._sectionId+"'},nclicks:'cmt.count',type:'sectionHomeList'&#125;\""}var b="etc.airscont";var j="nf106_72";if(this._sectionId=="100"){b="pol.airscont";j="ofullfill106_72"}else{if(this._sectionId=="101"){b="eco.airscont"}else{if(this._sectionId=="102"){b="soc.airscont"}else{if(this._sectionId=="103"){b="lif.airscont"}else{if(this._sectionId=="104"){b="wor.airscont"}else{if(this._sectionId=="105"){b="itn.airscont"}}}}}}b+=",'"+h.gdid+"', 'airsGParam', '0', '"+h.modelVersion+"', '"+h.sessionId+"'";var a={url:c,imgUrl:h.imageUrl,dateInStandard:d,dateInStandardClass:m,title:h.title,type:h.type,office:h.officeName,summary:h.summary,commentTemplate:k,nclick_name:b,thumbType106_72:j};g+=this.tMainNews.process(a);if(f!=0&&f%5==4){g+="</ul>\n"}}if(l.length>0&&l.length<4){g+="</ul>\n"}if(g){this.elSectionBody.innerHTML=restoreSpecialChar(g);news.util.CommentListCountManager.view()}},restoreSpecialChar:function(a){return(typeof(a)=="string")?(a.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'")):""}};news.section.ScrollingManager={oTransitionScroll:null,scroll:function(c){var b=this;var f=500;if(!c){var a=document.location.hash;c=a.replace("#_","")}else{f=100}if(this.oTransitionScroll){this.oTransitionScroll.abort()}var e=jindo.$(c);var d=jindo.$Element(e);if(!d){return}this.oTransitionScroll=new jindo.Transition();window.setTimeout(function(){var k=jindo.$Document();var h=k.scrollPosition().top;var m=d.offset().top;if(h==(m-4)){return}var l=k.scrollSize().height;var j=k.clientSize().height;var g=l-j;if(m>g){m=g}window.scrollTo(0,m)},f)}};news.section.IssueKeywordManager={_rollingId:"sectionIssueKeywordRolling",_rollingObj:null,_welBase:null,_default_move_count:4,_totalIssueKeywordCount:0,init:function(){this._welBase=jindo.$Element(jindo.$$.getSingle(".section_issue_list"));if(this._welBase==null||this._welBase==""){return}this._rollingObj=new jindo.Rolling(jindo.$(this._rollingId),{nDuration:250});if(this._rollingObj){this._totalIssueKeywordCount=this._rollingObj.getItems().length}if(this._totalIssueKeywordCount>4){this._changeTag(".il_btn_prev",false);this._changeTag(".il_btn_next",true)}},_attachEvent:function(b){oSelf=this;var a=b;if(oSelf._welBase==null||oSelf._welBase==""){return}jindo.$Fn(function(c){c.stopDefault();if(a.split("_")[2]=="next"){oSelf._next()}else{oSelf._prev()}}).attach(jindo.$Element(oSelf._welBase.query(a)),"click")},_changeTag:function(a,b){var d=jindo.$Element(this._welBase.query(a)).toString().toLowerCase();var c=d;if(b){if(d.indexOf("<span")==0){d=d.replace("<span","<a");d=d.replace("</span></span>","</span></a>")}}else{d=d.replace("<a","<span");d=d.replace("</span></a>","</span></span>")}if(c!=d){jindo.$Element(this._welBase.query(a)).replace(d);if(b){this._attachEvent(a)}}},_next:function(){if(this._rollingObj==null){return}var d=this._totalIssueKeywordCount;var c=this._rollingObj.getIndex();var a=c+this._default_move_count;var b=this._default_move_count-(d-a);if(b>=0){a=c+this._default_move_count-b}this._rollingObj.moveTo(a);if(b>=0){this._changeTag(".il_btn_next",false);this._changeTag(".il_btn_prev",true)}else{this._changeTag(".il_btn_prev",true);this._changeTag(".il_btn_next",true)}},_prev:function(){if(this._rollingObj==null){return}var d=this._totalIssueKeywordCount;var a=this._rollingObj.getIndex();var c=a-this._default_move_count;if(c<=0){c=0;this._changeTag(".il_btn_prev",false);this._changeTag(".il_btn_next",true)}else{var b=parseInt(d/this._default_move_count)-parseInt(c/this._default_move_count);if(b>0){this._changeTag(".il_btn_prev",true);this._changeTag(".il_btn_next",true)}}this._rollingObj.moveTo(c)}};if(typeof news=="undefined"){news={}}if(typeof news.index=="undefined"){news.index={}}news.index.Tab=jindo.$Class({button:null,toggleClassNames:null,area:null,url:null,ajax:null,hasContents:null,$init:function(b,c,d,a){this.hasContents=false;this.button=jindo.$Element(b);this.toggleClassNames=[c,c+"_on"];this.area=jindo.$Element(d);this.url=a},request:function(){this.showProgressIcon();var a=this;this.ajax=jindo.$Ajax(this.url,{onload:function(b){a.onload(jindo.$S(b.text()).trim().$value())}}).request()},onload:function(a){if(!!a){this.hasContents=true;this.area.appendHTML(a);this.showTab()}else{this.hasContents=false;this.showOpenIcon()}},showProgressIcon:function(){this.button.last().show()},hideProgressIcon:function(){this.button.last().hide()},showOpenIcon:function(){this.hideProgressIcon();this.button.removeClass(this.toggleClassNames[0]);this.button.addClass(this.toggleClassNames[1])},showCloseIcon:function(){this.hideProgressIcon();this.button.removeClass(this.toggleClassNames[1]);this.button.addClass(this.toggleClassNames[0])},showTab:function(){this.showOpenIcon();this.area.removeClass("is_hidden");this.button.$value().scrollIntoView(true);this.toggleTabArrow()},hideTab:function(){this.showCloseIcon();this.area.addClass("is_hidden");this.toggleTabArrow()},toggleTabArrow:function(){var a=jindo.$Element(this.button.query("._stit_tab_arrow"));if(a.hasClass("stit_arrow")){a.removeClass("stit_arrow");a.addClass("stit_on_arrow");a.query("span.blind").innerText="접기"}else{a.removeClass("stit_on_arrow");a.addClass("stit_arrow");a.query("span.blind").innerText="열기"}},show:function(){if(!this.hasContents){this.request()}else{this.showTab()}},hide:function(){if(!this.ajax.isIdle()){this.ajax.abort();this.hideProgressIcon()}this.hideTab()}});news.index.TabController=jindo.$Class({tabs:null,openedTabId:null,$init:function(a){this.tabs=jindo.$H()},add:function(a){this.tabs.$(a.button.$value().id,a)},toggle:function(b){b.stopDefault();var a=b.element.id;if(!this.openedTabId){this.show(a)}else{if(this.openedTabId==a){this.hide(a)}else{this.hide(this.openedTabId);this.show(a)}}},show:function(a){this.openedTabId=a;this.tabs.$(a).show()},hide:function(a){this.openedTabId=null;this.tabs.$(a).hide()}});if(typeof news=="undefined"){news={}}if(typeof news.right=="undefined"){news.right={}}news.right.PhotoLargeRolling=jindo.$Class({_nCurrentIndex:0,_nTotalPageCount:0,options:null,idx:0,$init:function(a){try{this.options=a;this._assign();this._attach();if(a.bAuto){this.start()}}catch(b){if(console&&console.log){console.log(b.message)}}},_assign:function(){var a=this.options;var b=jindo.$(a.sContainerId);this._aPauseArea=jindo.$$("."+a.sPauseAreaClassName,b);this._aPageList=jindo.$$("."+a.sPageAreaClassName+" li",b);this._nTotalPageCount=this._aPageList.length;this._aPrev=jindo.$$("."+a.sPrevClassName,b);this._aNext=jindo.$$("."+a.sNextClassName,b);this._wePageArea=jindo.$Element(jindo.$$.getSingle("."+a.sPageNumberAreaClassName,b))},_attach:function(){var a=this;jindo.$Fn(this.prev,this).attach(this._aPrev,"click");jindo.$Fn(this.next,this).attach(this._aNext,"click");this._wePageArea.delegate("click","a",function(b){a.go(b)});if(this.options.bAuto&&this._aPauseArea){jindo.$Fn(this.stop,this).attach(this._aPauseArea,"mouseenter");jindo.$Fn(this.start,this).attach(this._aPauseArea,"mouseleave");jindo.$A(this._aPauseArea).forEach(function(c,d,b){jindo.$Element(c).attr("tabindex","0")});jindo.$Fn(this.stop,this).attach(this._aPauseArea,"focus");jindo.$Fn(this.start,this).attach(this._aPauseArea,"blur")}},stop:function(a){this.idx++;if(this.oTimer){this.oTimer.pause()}else{this.oTimer=null}},start:function(b){this.idx++;var a=this;if(this.oTimer){this.oTimer.resume()}else{this.oTimer=new jindo.Timer();this.oTimer.start(function(){a.next();return true},this.options.nInterval)}},prev:function(b){if(b&&b.stopDefault){b.stopDefault()}var a=(this._nCurrentIndex>0)?this._nCurrentIndex-1:this._nTotalPageCount-1;this.move(a)},next:function(b){if(b&&b.stopDefault){b.stopDefault()}var a=(this._nCurrentIndex<this._nTotalPageCount-1)?this._nCurrentIndex+1:0;this.move(a)},go:function(b){if(b&&b.stopDefault){b.stopDefault()}var a=b.element.innerHTML-1;this.move(a)},move:function(a){this.hide(this._nCurrentIndex);this.show(a);this._nCurrentIndex=a},show:function(a){jindo.$Element(this._aPageList[a]).show();this.emphasisOn(a)},hide:function(a){jindo.$Element(this._aPageList[a]).hide();this.emphasisOff(a)},emphasisOn:function(a){var b=this._getPageNumberElement(a);if(b){b.replace('<em title="현재 페이지" class="pg_num pg_num_on">'+(a+1)+"</em>")}},emphasisOff:function(b){var a=this._getPageNumberElement(b);if(a){a.replace('<a href="#" class="pg_num _flicking_pause nclicks(lph.paging)">'+(b+1)+"</a>")}jindo.$Fn(this.stop,this).attach(this._getPageNumberElement(b),"focus");jindo.$Fn(this.start,this).attach(this._getPageNumberElement(b),"blur");jindo.$Fn(this.stop,this).attach(this._getPageNumberElement(b),"mouseenter");jindo.$Fn(this.start,this).attach(this._getPageNumberElement(b),"mouseenter")},_getPageNumberElement:function(a){return this._wePageArea.child()[a]}});news.right.RightSideFloatingManager={init:function(){this._assign()},updatePosition:function(){if(!this._weBody){return}this._windowScrollEventHandler()},_assign:function(){this._oDocument=jindo.$Document();this._weBody=jindo.$Element(jindo.$$.getSingle("body"));var b=jindo.$$.getSingle("td.aside");var a=jindo.$$.getSingle("div.main_aside");if(b){this._weContents=jindo.$Element(jindo.$$.getSingle("td.content div"));this._weRightSideWrap=jindo.$Element(b);this._weRightSide=jindo.$Element(jindo.$$.getSingle("td.aside div"))}else{if(a){this._weContents=jindo.$Element(jindo.$$.getSingle("#main_content ._content_inner"));this._weRightSideWrap=jindo.$Element(a);this._weRightSide=jindo.$Element(this._weRightSideWrap.query("._aside_inner"))}else{return}}this._nContentsTopPos=this._weContents.offset().top;this._nRightSideTopPos=this._weRightSideWrap.offset().top;this._nBrowserHeight=this._oDocument.clientSize().height;this._bindEvents()},_bindEvents:function(){jindo.$Fn(this._windowScrollEventHandler,this).attach(jindo.$Element(window),"scroll");jindo.$Fn(this._windowResizeEventHandler,this).attach(jindo.$Element(window),"resize");this._weBody.delegate("click","._unfold",jindo.$Fn(this._windowScrollEventHandler,this).bind())},_windowScrollEventHandler:function(){var d=this._oDocument.scrollPosition().top;var b=d+this._nBrowserHeight;var a=this._getHeight(this._weContents);var e=this._nContentsTopPos+a;var f=this._getHeight(this._weRightSide);var c=this._nRightSideTopPos+f;if(a>f&&f>this._nBrowserHeight){if(c<b&&b<e){this._changeAsidePositionState("has_scroll")}else{if(e<=b){this._changeAsidePositionState("stop_scroll")}else{this._changeAsidePositionState()}}}else{if(a>this._nBrowserHeight&&this._nBrowserHeight>f){if(this._nRightSideTopPos<d&&f<e-d){this._changeAsidePositionState("has_scroll_top")}else{if(e-d<=f){this._changeAsidePositionState("stop_scroll")}else{this._changeAsidePositionState()}}}else{this._changeAsidePositionState()}}},_changeAsidePositionState:function(a){switch(a){case"has_scroll":this._weBody.addClass("has_scroll");this._weBody.removeClass("has_scroll_top");this._weBody.removeClass("stop_scroll");break;case"has_scroll_top":this._weBody.removeClass("has_scroll");this._weBody.addClass("has_scroll_top");this._weBody.removeClass("stop_scroll");break;case"stop_scroll":this._weBody.removeClass("has_scroll");this._weBody.removeClass("has_scroll_top");this._weBody.addClass("stop_scroll");break;default:this._weBody.removeClass("has_scroll");this._weBody.removeClass("has_scroll_top");this._weBody.removeClass("stop_scroll")}},_getHeight:function(a){return a.height()-parseInt(a.css("paddingTop"),10)-parseInt(a.css("paddingBottom"),10)},_windowResizeEventHandler:function(){this._nBrowserHeight=this._oDocument.clientSize().height}};news.right.TopDownFloatingManager={init:function(){this._assign()},_assign:function(){this._oDocument=jindo.$Document();this._weBody=jindo.$Element(jindo.$$.getSingle(".floating_btn"));this._weContents=jindo.$Element(jindo.$$.getSingle("td.content"));var e=jindo.$$.getSingle("td.aside");var c=jindo.$$.getSingle("div.main_aside");var a=jindo.$$.getSingle("div.tv_article");var f=jindo.$$.getSingle("div.photo_article");var b=jindo.$$.getSingle("div.op_container");var d=jindo.$$.getSingle("div.assembly");if(e){this._weContents=jindo.$Element(jindo.$$.getSingle("td.content"))}else{if(c){this._weContents=jindo.$Element("main_content")}else{if(a){this._weContents=jindo.$Element(jindo.$$.getSingle("div.press_re"))}else{if(f){this._weContents=jindo.$Element(jindo.$$.getSingle("div.photo_gallery"))}else{if(b){this._weContents=jindo.$Element(jindo.$$.getSingle("div.aside"))}else{if(d){this._weContents=jindo.$Element(jindo.$$.getSingle("div.aside"))}else{return}}}}}}this._nContentsTopPos=this._weContents.offset().top;this._nBrowserHeight=this._oDocument.clientSize().height;this._bindEvents()},_bindEvents:function(){jindo.$Fn(this._windowScrollEventHandler,this).attach(jindo.$Element(window),"scroll");jindo.$Fn(this._windowResizeEventHandler,this).attach(jindo.$Element(window),"resize");this._weBody.delegate("click","._unfold",jindo.$Fn(this._windowScrollEventHandler,this).bind())},_windowScrollEventHandler:function(){var c=this._oDocument.scrollPosition().top;var b=c+this._nBrowserHeight;var a=this._weContents.height();var d=this._nContentsTopPos+a;if(d<=b||c==0){this._weBody.addClass("stop")}else{this._weBody.removeClass("stop")}},_windowResizeEventHandler:function(){this._nBrowserHeight=this._oDocument.clientSize().height}};if(typeof news=="undefined"){news={}}if(typeof news.right=="undefined"){news.right={}}if(typeof news.right.realtimesearch=="undefined"){news.right.realtimesearch={}}news.right.realtimesearch.Config={_sApiUrl:"/main/ajax/right/realtimeSns.naver",_sQuery:null,_sContainerId:null,_elContainer:null,_weContainer:null,_oCT:null,_oDM:null,_oRM:null,_oUpdateTime:null,_nDataQueueLimit:50,_nVisibieItemCount:5,_nSlideDelayTime:1000*5,_nRequestDelayTime:1000*20,_nRollingLimitTime:1000*60*1};news.right.realtimesearch.DataManager=jindo.$Class({_htConf:{},_aQueue:null,_oAjax:null,_nTimeoutId:null,$init:function(){this._htConf=news.right.realtimesearch.Config;this._aQueue=new jindo.$A()},_request:function(c){var b=this;var a=this._htConf;var d=this._getParameters();this._oAjax=new jindo.$Ajax(a._sApiUrl,{method:"get",onload:function(e){b._onload(e,c)}}).request(d)},_getParameters:function(){var c={};var b=this._htConf;var a=b._oRM._bIsFirstRolling;c.q=b._sQuery;c.display=10;if(a){c.sm="all.basic.first"}else{c.sm="all.basic";if(this._oUpdateTime){c.st_twitterTime="range:"+this._oUpdateTime.st_twitterTime+":"}}c.dummy=new Date().getTime();this._oLastParam=c;return c},_onload:function(g,j){var k=this;var h=this._htConf;var f=jindo.$Json.fromXML(g.text());try{var c=f._object.message.result;var a=c.itemList.item;var b={};b.st_twitterTime=c.st_twitterTime;this._oUpdateTime=b;if(c.itemCount>0){this._push(a);if(j){h._oRM.start()}}if(this.size()<=h._nDataQueueLimit){this._nTimeoutId=setTimeout(function(){k._request(false)},h._nRequestDelayTime)}else{this._nTimeoutId=null}}catch(d){if(console&&console.log){console.log(d)}this.stop();this._htConf._oCT.error();return}this._oAjax=null},_push:function(a){if(getConstructorName(a)==="Array"){for(var b=0;b<a.length;b++){this._aQueue.push(a[b])}}else{this._aQueue.push(a)}},shift:function(){return this._aQueue.shift()},size:function(){return this._aQueue.length()},start:function(b){if(this._oAjax||this._nTimeoutId){return}var a=this;var c=0;this._request(b);if(this.size()<=0){c=this._htConf._nRequestDelayTime}this._nTimeoutId=setTimeout(function(){a._request(true)},c)},startBackground:function(){this._request()},stop:function(){clearTimeout(this._nTimeoutId);this._nTimeoutId=null;if(this._oAjax){this._oAjax.abort()}this._oAjax=null},reset:function(){this.stop();this._aQueue=new jindo.$A()}});news.right.realtimesearch.UIManager=jindo.$Class({$init:function(a){if(!a){return}this._elContainer=a;this._assignElement();this._attachEvent()},_assignElement:function(){this._elRolling=jindo.$$.getSingle("div.rt_wrap",this._elContainer);this._elUL=jindo.$$.getSingle("ul.st_lst",this._elRolling)},_attachEvent:function(){var a=function(d,f){var e=jindo.$Element(f);if(e.hasClass("st_cont")||e.parent().hasClass("st_cont")){return true}return false};var c=jindo.$Element(this._elRolling);c.delegate("click",a,this._clickContent);c.delegate("mouseover",a,this._mouseoverContent);c.delegate("mouseout",a,this._mouseoutContent);var b=jindo.$Element(this._elUL);b.delegate("mouseover",".reply,.retweet,.favorite",this._mouseoverTwiter);b.delegate("mouseout",".reply,.retweet,.favorite",this._mouseoutTwiter)},_clickContent:function(a){var b=a.element;if(b.tagName==="A"){b.target="_blank";return}var c=jindo.$$.getSingle("a.blind",b);window.open(c.href)},_mouseoverContent:function(a){var c=a.element;var b=jindo.$Element(c);if(c.tagName==="A"){b.parent().removeClass("over");return}if(b.parent().hasClass("st_cont")){b.parent().addClass("over")}else{b.addClass("over")}},_mouseoutContent:function(a){var c=a.element;var b=jindo.$Element(c);if(b.parent().hasClass("st_cont")){b.parent().removeClass("over")}else{b.removeClass("over")}},_mouseoverTwiter:function(a){jindo.$Element(a.element).addClass("hover")},_mouseoutTwiter:function(a){jindo.$Element(a.element).removeClass("hover")},resetTime:function(){var a=jindo.$A(jindo.$$("span.st_time",this._elContainer));a.forEach(function(o,f,h){var q=o.className.match("_sns_time(.*)")[1];var b=q;var n=Math.floor(new Date().getTime()/1000);var p=n-b;var m=Math.floor(p/60);var l=Math.floor(m/60);var k=Math.floor(l/24);var j=p%60;var e=m%60;var d=l%60;var c=k%24;var g="";if(c>0){g=c+"일전"}else{if(d>0){g=d+"시간전"}else{if(e>0){g=e+"분전"}else{if(j>0){g=j+"초전"}}}}o.innerHTML=g})}});news.right.realtimesearch.RollingManager=jindo.$Class({_htConf:null,_bIsFirstRolling:true,_nRollingDelayTimeoutId:null,_pTweetIdFromUrl:/.*\/([0-9]+)$/,_pTweetMention:/@([A-Za-z0-9_]+)/g,_pTweetHash:/#([^\s]+)/g,_sTemplateId:"right_realtime_template",_oTemplate:null,$init:function(a){this._htConf=news.right.realtimesearch.Config;this._elUL=jindo.$$.getSingle("ul",this._htConf._elContainer);this._weUL=jindo.$Element(this._elUL);this._oTemplate=jindo.$Template(jindo.$(this._sTemplateId));this._oUM=new news.right.realtimesearch.UIManager(jindo.$(this._htConf._elContainer))},_getItems:function(){return jindo.$$("li",this._htConf._elContainer)},_correctData:function(b){if(!b||!b.url){return}var a=b.url.match(this._pTweetIdFromUrl);if(a){b.tweetId=a[1]}},_insertDefaultItems:function(){var f=this._htConf._oDM;var d=this._htConf._nVisibieItemCount;for(var b=0;b<d&&b<f.size();b++){var e=f.shift();this._correctData(e);var a=this._oTemplate.process(e);this._weUL.prependHTML(a);var c=this._weUL.first();this._oUM.resetTime()}},_insertItem:function(a){var e=this._htConf._oDM;var d=e.shift();this._correctData(d);if(!d){return}var c=this._oTemplate.process(d);this.sliding(this._weUL,c);this._deleteOverflowingItem()},sliding:function(b,j){var e=news.right.realtimesearch.Config._elContainer;var h=e.scrollTop;var d=jindo.$$.getSingle("ul",e);var a=jindo.$Element(d);var k=a.height();b.prependHTML(j);var g=parseInt((a.height()-k)*-1,10);var c=b.first();this._oUM.resetTime();c.css("marginTop",g+"px");var f=function(){animateInit=setTimeout(f,10);if(g<0){g+=10;c.css("marginTop",g+"px");if(h>0){h+=10;e.scrollTop=h}}else{clearTimeout(animateInit);c.css("marginTop","0px")}};f()},_deleteOverflowingItem:function(){var a=this._getItems();var f=a.length;var e=this._htConf._nVisibieItemCount;for(var c=f;c>e;c--){var b=a[c-1];if(b){var d=jindo.$Element(b);d.leave()}}},_deleteAllItems:function(){var a=this._getItems();var e=a.length;for(var c=e;c>0;c--){var b=a[c-1];if(b){var d=jindo.$Element(b);d.leave()}}},start:function(){var b=this._htConf._oDM;if(this._bIsFirstRolling){if(b.size()<=0){b.start(this._bIsFirstRolling);return}this._insertDefaultItems();this._bIsFirstRolling=false}var a=this;this._nRollingDelayTimeoutId=setInterval(function(){a._insertItem()},this._htConf._nSlideDelayTime)},stop:function(){clearInterval(this._nRollingDelayTimeoutId);this._nRollingDelayTimeoutId=null},reset:function(){this.stop();this._deleteAllItems();this._bIsFirstRolling=true}});news.right.realtimesearch.Controller=jindo.$Class({_htConf:null,_bIsPaused:false,_nPlayLimitTimeoutId:null,_nNotificationTimeoutId:null,_nNotificationRequestCount:0,_tNotification:jindo.$Template('<span class="as_status_txt"><a href="#" class="txt_gr">새글 <strong>{if count < limit}{=count}{else}{=limit}{/if}</strong>개</a>{if count >= limit} 이상{/if} 추가됨</span>'),$init:function(a,b){this._htConf=news.right.realtimesearch.Config;this._initConfig(a,b);this._assignElement();this._attachEvent();this._start()},_initConfig:function(a,b){this._htConf._sContainerId=a;this._htConf._sQuery=b;this._htConf._elContainer=jindo.$(a);this._htConf._weContainer=jindo.$Element(a);this._htConf._oCT=this;this._htConf._oDM=new news.right.realtimesearch.DataManager();this._htConf._oRM=new news.right.realtimesearch.RollingManager()},_assignElement:function(){var a=this._htConf._elContainer;this._elRollingContainer=jindo.$$.getSingle("div.rt_wrap",a);this._elReload=jindo.$$.getSingle("a.btn_change",a);this._elControll=jindo.$$.getSingle("div.rt_update",a);this._elControllDetail=jindo.$$.getSingle("span.blind",this._elControll);this._elStatus=jindo.$$.getSingle("div.as_status",this._elControll);this._elError=jindo.$$.getSingle("p.error_tx",a);this._weRollingContainer=jindo.$Element(this._elRollingContainer);this._weError=jindo.$Element(this._elError);this._weControll=jindo.$Element(this._elControll)},_attachEvent:function(){jindo.$Fn(this._reload,this).attach(this._elReload,"click");jindo.$Fn(this._toggle,this).attach(this._elControll,"click")},_reload:function(a){a.stopDefault();this._stop();this._htConf._oRM.reset();this._htConf._oDM.reset();this._start()},_toggle:function(a){a.stopDefault();if(a.element.tagName!="A"){return}if(this._bIsPaused){this._start()}else{clearTimeout(this._nPlayLimitTimeoutId);this._nPlayLimitTimeoutId=null;this._stop();this._startNotification()}},_start:function(){this._bIsPaused=false;this._weError.hide();this._weRollingContainer.show();this._stopNotification();this._htConf._oRM.start();this._resetUI();var a=this;this._nPlayLimitTimeoutId=setTimeout(function(){a._stop();a._startNotification()},a._htConf._nRollingLimitTime)},_stop:function(){this._bIsPaused=true;this._htConf._oRM.stop();this._resetUI();clearTimeout(this._nPlayLimitTimeoutId);this._nPlayLimitTimeoutId=null},_resetUI:function(){if(this._bIsPaused){this._weControll.addClass("stp");this._elControllDetail.innerHTML="일시정지";this._elStatus.innerHTML='<span class="as_status_txt">실시간 업데이트 정지됨</span>'}else{this._weControll.removeClass("stp");this._elControllDetail.innerHTML="다시시작";this._elStatus.innerHTML='<img src="https://ssl.pstatic.net/static.news/image/news/2013/02/ico_update_gray.gif" width="14" height="14" alt="">'}},_startNotification:function(){var c=this;this._nNotificationTimeoutId=setInterval(function(){c._showNotification()},5000);var a=this._htConf;var e=a._oDM;var b=e.size();var d=a._nDataQueueLimit;if(b<d){e.start()}},_stopNotification:function(){clearInterval(this._nNotificationTimeoutId);this._nNotificationTimeoutId=null;this._nNotificationRequestCount=0;this._htConf._oDM.stop()},_showNotification:function(){var a=this._htConf;var f=a._oDM;var b=f.size();var c=b;var e=a._nDataQueueLimit;this._nNotificationRequestCount++;if(this._nNotificationRequestCount>6||b>e){c=e;this._stopNotification()}if(b<=0){return}var d=this._tNotification.process({count:c,limit:e});this._elStatus.innerHTML=d},error:function(){this._stop();this._weRollingContainer.hide();this._weError.show()}});if(typeof news=="undefined"){news={}}if(typeof news.history=="undefined"){news.history={}}news.history.MainNewsController=jindo.$Class({area:null,buttonPrev:null,buttonNext:null,url:null,currentPage:null,currentPageInfo:null,total:null,totalInfo:null,cacheMap:null,$init:function(f,b,d){this.area=jindo.$Element(f);this.url=b;this.currentPage=1;this.total=d;var c=this.area.last();this.buttonPrev=jindo.$Element(c.query(".eh_btn_prev"));jindo.$Fn(this.prev,this).attach(this.buttonPrev,"click");this.buttonNext=jindo.$Element(c.query(".eh_btn_next"));jindo.$Fn(this.next,this).attach(this.buttonNext,"click");this.currentPageInfo=jindo.$Element(c.query("em"));this.totalInfo=jindo.$Element(c.query("span"));this.cacheMap=jindo.$H();var e=jindo.$A(this.area.queryAll("ul"));var a="";e.forEach(function(h,g,j){a+=jindo.$Element(h).outerHTML()});a+=jindo.$Element(this.area.query("input")).outerHTML();this.cacheMap.$(1,a)},update:function(b,a){var c=jindo.$A(this.area.queryAll("ul"));c.forEach(function(e,d,f){jindo.$Element(e).leave()});jindo.$Element(this.area.query("input")).leave();this.area.prependHTML(a);this.currentPage=b;this.currentPageInfo.text(b)},onload:function(c,a){this.update(c,a);var b=this.area.query("input").value;if(this.total!=b){this.contentsCache.empty();this.total=b;this.totalInfo.text(this.total)}this.cacheMap.$(c,a)},request:function(e){var a=this.cacheMap.$(e);if(!!a){this.update(e,a);return}var c=this;var b=this.url+e;var d=jindo.$Ajax(b,{onload:function(f){c.onload(e,f.text())}});if(d.isIdle()){d.request()}},prev:function(a){a.stopDefault();if(this.total<=1){return}if(this.currentPage==1){this.request(this.total)}else{this.request(this.currentPage-1)}},next:function(a){a.stopDefault();if(this.total<=1){return}if(this.currentPage==this.total){this.request(1)}else{this.request(this.currentPage+1)}}});if(typeof news=="undefined"){news={}}if(typeof news.flash=="undefined"){news.flash={}}news.flash.SubsectionLayerManager=jindo.$Class({id:null,obj:null,layer:null,button:null,$init:function(c){this.id=c;this.obj=jindo.$Element(this.id);if(this.obj!=null){var a=this;var b=this.obj.query("div");this.layer=new jindo.LayerManager(b,{sCheckEvent:"click",nCheckDelay:0,nShowDelay:0,nHideDelay:0});this.layer.attach("show",function(d){a.obj.className("open")});this.layer.attach("hide",function(d){a.obj.className("close")});this.button=jindo.$Element(this.obj.query("span a",this.obj));this.layer.link(this.button);jindo.$Fn(this.toggle,this).attach(this.button,"click")}},toggle:function(a){a.stopDefault();this.layer.toggle()}});news=news||{};news.gallery=news.gallery||{};news.gallery.htConf={sContextPath:"https://"+document.location.host+"/main"};news.gallery.HashHistory={_sIFrameUrl:news.gallery.htConf.sContextPath+"/gallery/history.naver",_sHash:null,_nCheckInterval:100,_fCallback:null,init:function(b,a){if(!b||!a){throw new Error("필수 인자가 없습니다.")}this._fCallback=jindo.$Fn(b,a).bind();this._attach()},_attach:function(){var c=this._getLocationHash();var a=jindo.$Agent().navigator();if((a.ie&&(document.documentMode||a.version)>=8&&jindo.$Document().renderingMode()=="Standards")||(a.firefox&&a.version>=3.6)||(a.chrome&&a.version>3)||(a.safari&&a.version>=5)||(a.opera&&a.version>=10.6)){jindo.$Fn(this._checkLocationChange,this).attach(window,"hashchange");this._sCheckType="hashchangeevent"}else{if(a.ie){var b=this;this._welIFrame=jindo.$Element("<IFRAME>");this._welIFrame.hide();this._welIFrame.appendTo(document.body);this._sCheckType="iframe"}else{this._nIntervalId=setInterval(jindo.$Fn(this._checkLocationChange,this).bind(),this._nCheckInterval);this._sCheckType="setinterval"}}if(c){if(this._sCheckType=="iframe"){this._reloadIFrame(c)}else{this._sHash=c;this._change()}}else{var b=this;if(a.ie&&(document.documentMode||a.version)<8){var d=this._welIFrame.$value();d.onreadystatechange=function(){if(d.readyState=="complete"){b._load();d.onreadystatechange=function(){}}};d.src=this._sIFrameUrl}else{setTimeout(function(){b._load()},0)}}return this},checkIFrameChange:function(b){var a=jindo.$S(b.search.substring(1)).parseString();this._checkLocationChange(a.hash)},_getLocationHash:function(){return location.hash.substring(1)},_setLocationHash:function(a){location.hash=a},_reloadIFrame:function(a){if(typeof a=="undefined"){a=""}this._welIFrame.$value().src=this._sIFrameUrl+"?hash="+a.replace("#","")},add:function(a){if(this._sHash!=a){this._setLocationHash(a);if(this._sCheckType=="iframe"){this._reloadIFrame(a)}}},_load:function(){},_change:function(){this._fCallback()},_checkLocationChange:function(a){a=(a&&typeof(a)=="string")?a:this._getLocationHash();if(a&&a!=this._sHash){this._sHash=a;if(this._sCheckType=="iframe"){this._setLocationHash(a)}this._change()}}};news.gallery.OptionController={_nOptionHeight:21,init:function(){this._assign();this._attach()},_assign:function(){var a=this;var c=news.gallery.tv.GalleryManager;var b=jindo.$$.getSingle("div.options",c.elContainer);if(!b){return}this.elOptionButton=jindo.$$.getSingle("a",b);this.elOptionLayer=jindo.$$.getSingle("div.options_layer",b);this.elOptionInnerDiv=jindo.$$.getSingle("div.options_layer_inner",this.elOptionLayer);this.aList=jindo.$$("ul li",this.elOptionInnerDiv);this.oOptionLayer=new jindo.LayerManager(this.elOptionLayer,{sCheckEvent:"click",nCheckDelay:0,nShowDelay:0,nHideDelay:0}).link(this.elOptionButton).attach("show",function(){a._show()})},_attach:function(){if(!this.elOptionButton){return}jindo.$Fn(this._click,this).attach(this.elOptionButton,"click")},_click:function(a){a.stopDefault();this.oOptionLayer.toggle()},_show:function(){var d=this.aList;var b=0;for(var c=0;c<d.length;c++){var a=jindo.$Element(d[c]);if(a.hasClass("on")){b=c;break}}this.elOptionInnerDiv.scrollTop=b*this._nOptionHeight}};news.gallery.likeEmotion={update:function(a,b,c){jindo.$Element("likeItCountViewDiv").html(jindo.$Template(this.TEMPLATE.join("")).process({likeOfficeId:b,likeArticleId:c}));if(reaction.instance!=null){reaction.instance.update()}},TEMPLATE:['<div class="_reactionModule u_likeit" data-sid="NEWS" data-cid="ne_{=likeOfficeId}_{=likeArticleId}" style="visibility: hidden">','<ul class="u_likeit_layer _faceLayer" role="menu">','<li class="u_likeit_list good" role="menuitem">','<a class="u_likeit_list_button _button" data-type="like"  data-log="RTC.like|RTC.unlike" href="#" role="button" aria-selected="false">','<span class="u_likeit_list_name _label">좋아요</span>','<span class="u_likeit_list_count _count">0</span>',"</a>","</li>",'<li class="u_likeit_list warm" role="menuitem">','<a class="u_likeit_list_button _button" data-type="warm"  data-log="RTC.warm|RTC.unwarm" href="#" role="button" aria-selected="false">','<span class="u_likeit_list_name _label">훈훈해요</span>','<span class="u_likeit_list_count _count">0</span>',"</a>","</li>",'<li class="u_likeit_list sad" role="menuitem">','<a class="u_likeit_list_button _button" data-type="sad" data-log="RTC.sad|RTC.unsad" href="#" role="button" aria-selected="false">','<span class="u_likeit_list_name _label">슬퍼요</span>','<span class="u_likeit_list_count _count">0</span>',"</a>","</li>",'<li class="u_likeit_list angry" role="menuitem">','<a class="u_likeit_list_button _button" data-type="angry" data-log="RTC.angry|RTC.unangry" href="#" role="button" aria-selected="false">','<span class="u_likeit_list_name _label">화나요</span>','<span class="u_likeit_list_count _count">0</span>',"</a>","</li>",'<li class="u_likeit_list want" role="menuitem">','<a class="u_likeit_list_button _button" data-type="want" data-log="RTC.want|RTC.unwant" href="#" role="button" aria-selected="false">','<span class="u_likeit_list_name _label">후속기사 원해요</span>','<span class="u_likeit_list_count _count">0</span>',"</a>","</li>","</ul>","</div>"]};news.gallery.toMainRecommend={welButtonContainerDiv:null,welLayerContainerDiv:null,welCount:null,welButton:null,sOfficeId:null,sArticleId:null,sTemplateType:null,oCookieStorage:null,sCookieKey:null,oLayerTemplates:{E:['<p class="tomain_info_phrase">','<span class="tomain_info_body">','<span class="tomain_info_text">이 기사는 </span><strong class="tomain_info_point">모바일 메인 뉴스판</strong><span class="tomain_info_text">에 노출된 이력이 있습니다.</span>',"</span>","</p>"],R:['<p class="tomain_info_phrase">','<span class="tomain_info_body">','<span class="tomain_info_text">이 기사는 </span><strong class="tomain_info_point">사용자 추천</strong><span class="tomain_info_text">으로 모바일 메인 뉴스판에 노출된 이력이 있습니다.</span>',"</span>","</p>"],N:['<p class="tomain_info_layer">','<strong class="tomain_info_head">모두에게 보여주고 싶은 기사라면<i>?</i><span class="tomain_info_betaicon">beta</span></strong>','<span class="tomain_info_body">','<strong class="tomain_info_point">이 기사를 추천합니다 </strong><span class="tomain_info_text">버튼을 눌러주세요. 집계 기간 동안 추천을 많이 받은 기사는 네이버 자동 기사배열 영역에 추천 요소로 활용됩니다. </span>',"</span>",'<a href="#" class="tomain_info_close">레이어 닫기</a>',"</p>"]},aButtonTemplate:['<div class="u_likeit_list_module _reactionModule" id="toMainContainer" data-sid="NEWS_MAIN" data-cid="ne_{=officeId}_{=articleId}">','<a href="#" class="u_likeit_list_btn _button" data-type="like" data-log="RTC.recommend|RTC.unrecommend" data-isHiddenZeroCount=true>','<span class="u_ico"></span>','<em class="u_txt _label">이 기사를 추천합니다</em>','<em class="u_cnt _count"></em>',"</a>","</div>",'<div class="to_infobutton">','<button class="to_infobutton_b nclicks(RTC.tomaininfo)" type="button"><span class="blind">안내</span></button>',"</div>"],init:function(a){this.setCache(a);this.renderButton();this.setEvent()},setCache:function(a){this.sOfficeId=a.oid;this.sArticleId=a.aid;this.sTemplateType=a.templateType||"N";this.welButtonContainerDiv=jindo.$Element("toMainDiv");this.welLayerContainerDiv=jindo.$Element("tomain_info");this.oCookieStorage=jindo.$Cookie(true);this.sCookieKey="pcTomainDontShow"},setEvent:function(){this.welLayerContainerDiv.delegate("click",".tomain_info_close",jindo.$Fn(this.onCloseClick,this).bind());this.welButtonContainerDiv.delegate("click",".to_infobutton_b",jindo.$Fn(this.renderLayer,this).bind())},renderButton:function(){var b=this.sOfficeId;var a=this.sArticleId;this.welButtonContainerDiv.html(jindo.$Template(this.aButtonTemplate.join(" ")).process({officeId:b,articleId:a}));if(reaction.instance!=null){reaction.instance.update()}},initLayer:function(){if(this.sTemplateType!="N"){this.renderLayer()}},renderLayer:function(){if(this.welLayerContainerDiv.css("display")=="none"){this.welLayerContainerDiv.html(jindo.$Template(this.oLayerTemplates[this.sTemplateType].join(" ")).process());this.welLayerContainerDiv.show()}else{this.welLayerContainerDiv.hide()}},addIsFirstClassIfZeroCount:function(){if(jindo.$Element(this.welButtonContainerDiv.query("._count")).text()=="0"){jindo.$Element(this.welButtonContainerDiv.query("._button")).removeClass("off").addClass("is_first")}},removeIsFirstClass:function(){jindo.$Element(this.welButtonContainerDiv.query("._button")).removeClass("is_first")},onCloseClick:function(a){a.stopDefault();this.welLayerContainerDiv.hide();this.oCookieStorage.set(this.sCookieKey,"Y",365)},onRecommend:function(){this.removeIsFirstClass()},onCancel:function(){this.addIsFirstClassIfZeroCount()},onRecommendReady:function(){this.addIsFirstClassIfZeroCount()}};news=news||{};news.gallery=news.gallery||{};news.gallery.cartoon=news.gallery.cartoon||{};news.gallery.cartoon.GalleryManager={elContainer:null,elArticle:null,sSid2:null,sOid:null,sAid:null,sLikePluginDomain:null,init:function(a){try{this.elContainer=jindo.$$.getSingle("#main_content div.photo_wrap");this.elArticle=jindo.$$.getSingle("div.photo_article",this.elContainer);this.sSid2=a.sSid2;this.sOid=a.sOid;this.sLikePluginDomain=a.sLikePluginDomain;news.gallery.OptionController.init();news.gallery.cartoon.ArticleController.init();news.gallery.cartoon.ListController.init();news.gallery.cartoon.ShareController.init();window.setTimeout(function(){},1000*60*60)}catch(b){}}};news.gallery.cartoon.ArticleController={oAjax:null,oJson:null,nHeaderHeight:135,nImageHeight:null,nTopMax:null,nScrollMargin:40,tArticleDate:jindo.$Template('{=officeName}<span class="bar"></span> 기사입력 <span class="pi_num">{=createDate}</span>{if createDate != modifyDate}<span class="bar"></span> 최종수정 <span class="pi_num">{=modifyDate}</span>{/if} <a href="{=href}" class="pi_btn nclicks(pgv.body) NCR-ASYNC" target="_blank"><em><span class="lo_txt">기사본문</span><span class="lo_ico"></span></em></a> <a href="#" class="pi_btn pi_btn_count nclicks(pgv.comment) NCR-ASYNC" target="_blank" id="article_comment"><em><span class="lo_txt" id="article_comment_count">0</span><span class="lo_ico"></span></em></a>'),nOriginalMinTime:jindo.$Date("2012-04-01 00:00").time(),init:function(){this._assign();this._attach()},_assign:function(){this.GM=news.gallery.cartoon.GalleryManager;var a=this.GM.elContainer;this.elPhotoOuter=jindo.$$.getSingle(".photo_viewer_outer",a);this.elPhotoViewer=jindo.$$.getSingle(".photo_viewer_wrap",this.elPhotoOuter);this.elArticleTitle=jindo.$("article_title");this.elArticleDate=jindo.$("article_date");this.elArticleImage=jindo.$("article_image");this.elArticleContent=jindo.$("article_content");this.wePhotoOuter=jindo.$Element(this.elPhotoOuter);this.wePhotoViewer=jindo.$Element(this.elPhotoViewer);this.waButton=jindo.$A(jindo.$$(".ico",this.elPhotoViewer));this.weArticleImage=jindo.$Element(this.elArticleImage);this.aArticleHrefList=jindo.$$("a._href",a)},_attach:function(){jindo.$Fn(this._scroll,this).attach(window,"scroll");jindo.$Fn(this._scroll,this).attach(window,"resize");jindo.$Fn(this._load,this).attach(this.elArticleImage,"load")},_scroll:function(){var c=this.nHeaderHeight;if(this.nImageHeight<c){return}var d=jindo.$Document().clientSize();var a=420-(d.height+132)/2;var e=jindo.$Document().scrollPosition().top;var b=this.nScrollMargin;if(e>c+a){b-=c;if(e<this.nTopMax+a){b+=e-a}else{b+=this.nTopMax}}this._setButtonTop(b)},_setButtonTop:function(a){this.waButton.forEach(function(c,b,d){c.style.top=a+"px"})},_load:function(){this.wePhotoOuter.height(this.wePhotoViewer.height()+23);this.nImageHeight=this.weArticleImage.height();this.nTopMax=this.nHeaderHeight+this.nImageHeight-132-this.nScrollMargin*2;this._scroll()},_clickOriginal:function(b){b.stopDefault();var c=this.oJson;var a="/main/cartoongallery/original.naver?oid="+c.oid+"&aid="+c.aid;news.util.Window.popup({url:a,name:"cartoongallery_original",features:{scrollbars:"1",resizable:"yes"}})},request:function(){var c=this.GM;if(!c.sSid2||!c.sOid||!c.sAid){return}this._stop();this._setScrollTop();var b="/main/cartoongallery/item.naver?sid2="+c.sSid2+"&oid="+c.sOid+"&aid="+c.sAid;var a=this;this.oAjax=new jindo.$Ajax(b,{onload:function(d){a.oJson=d.json();a._onload()}}).request()},_stop:function(){if(this.oAjax){this.oAjax.abort()}},_setScrollTop:function(){var a=this.nHeaderHeight;if(document.body.scrollTop>a){window.scrollTo(0,a)}},_onload:function(){this.oAjax=null;try{this._detachSocialPlugin();this._setArticle();this._attachSocialPlugin();news.gallery.likeEmotion.update(this.GM.sLikePluginDomain,this.GM.sOid,this.GM.sAid);news.gallery.toMainRecommend.init({oid:this.GM.sOid,aid:this.GM.sAid,templateType:this.oJson.mainRecommendTemplateType})}catch(a){throw a}finally{lcs_do()}},_attachSocialPlugin:function(){if(window.__splugin){window.__splugin.init()}},_detachSocialPlugin:function(){if(window.__splugin){window.__splugin.kill()}},_setArticle:function(){var m=this.oJson;var b=this.GM.sSid2;var p=m.iid;var d=m.oid;var c=m.aid;var g=m.href;this.sOid=d;this.sAid=c;this.elArticleTitle.innerHTML=m.title;this.elArticleDate.innerHTML=this.tArticleDate.process(m);this.elArticleContent.innerHTML=m.content;this.elArticleImage.src=m.image+"?type=w680";var l=this.aArticleHrefList;for(var h=0;h<l.length;h++){var o=l[h];o.href=g}var f;try{var n=jindo.$Json(m.commentCount).toObject();f=n.result.comment}catch(k){f=0}jindo.$("article_comment_count").innerHTML=f;var a=g+"&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews"+d+"%2C"+c;var j=jindo.$("article_comment");if(j){j.href=a}htInitData.title=jindo.$S(m.title).unescapeHTML().$value();htInitData.url=news.gallery.htConf.sContextPath+"/read.naver?mode=LS2D&mid=sec&sid1=110&sid2=307&oid="+d+"&aid="+c;htInitData.serviceName="뉴스";htInitData.sourceName=m.officeName;htInitData.mail.srvurl=news.gallery.htConf.sContextPath+"/tool/mailContents.naver?oid="+d+"&aid="+c;htInitData.blog.sourceTitle="";htInitData.cafe.sourceTitle=""}};news.gallery.cartoon.ListController={pHashPattern:/#(\d{3})_(\d{10})/,nPageSize:12,nItemWidth:83,hasFirstItem:false,hasLastItem:false,weCurrentItem:null,sChoiceId:null,nIntervalId:null,nInterval:3000,waItemList:null,nListNextMoreCount:0,nListPrevMoreCount:0,oTransition:null,tItemList:jindo.$Template('{for idx:item in itemList}<li id="l_{=item.oid}_{=item.aid}" _p="{=item.prior}" _n="{=item.no}"><a href="#{=item.oid}_{=item.aid}" class="nclicks(npg.photo) NCR-ASYNC"><img src="{=item.image}" _src="{=item.image2}" alt="{=item.title}" width="82" height="80" onerror="news.gallery.cartoon.ListController.onImageError(this);"><span class="mask"></span></a></li>{/for}'),onImageError:function(b){var a=jindo.$Element(b);b.onerror=function(){b.src="https://ssl.pstatic.net/static.news/image/news/2012/presidential/noimage_82x80.gif"};b.src="https://dthumb-phinf.pstatic.net/?src="+a.attr("_src")+"&twidth=82&theight=80&opts=10"},init:function(){this._assign();this._attach();this._requestItemList()},_assign:function(){var b=this;this.HH=news.gallery.HashHistory;this.GM=news.gallery.cartoon.GalleryManager;this.AC=news.gallery.cartoon.ArticleController;var e=this.GM.elContainer;this.elCount=jindo.$$.getSingle(".p_info span.cnt em",e);var a=jindo.$$(".p_info button",e);this.weStart=jindo.$Element(a[0]);this.weStop=jindo.$Element(a[1]);var d=jindo.$$.getSingle(".photo_choice_wrap",e);this.elListUl=jindo.$$.getSingle("div ul.photo_choice",d);this.weListUl=jindo.$Element(this.elListUl);this.elPrevPage=jindo.$$.getSingle("a.btn_prev",d);this.elNextPage=jindo.$$.getSingle("a.btn_next",d);this.wePrevPage=jindo.$Element(this.elPrevPage);this.weNextPage=jindo.$Element(this.elNextPage);this.wePrevPageX=jindo.$Element(jindo.$$.getSingle("span.btn_prev",d));this.weNextPageX=jindo.$Element(jindo.$$.getSingle("span.btn_next",d));var c=this.AC.elPhotoViewer;this.wePrevX=jindo.$Element(jindo.$$.getSingle("span.btn_prev",c));this.weNextX=jindo.$Element(jindo.$$.getSingle("span.btn_next",c));this.elPrev=jindo.$$.getSingle("a.btn_prev",c);this.elNext=jindo.$$.getSingle("a.btn_next",c);this.wePrev=jindo.$Element(this.elPrev);this.weNext=jindo.$Element(this.elNext);this.oTransition=new jindo.Transition();this.oTransition.fps(100).attach("end",function(){b._slideAfter()})},_attach:function(){jindo.$Fn(this._start,this).attach(this.weStart.$value(),"click");jindo.$Fn(this._stop,this).attach([this.weStop.$value(),this.elPrevPage,this.elNextPage,this.elPrev,this.elNext,this.elListUl],"click");jindo.$Fn(this._prevPage,this).attach(this.elPrevPage,"click");jindo.$Fn(this._nextPage,this).attach(this.elNextPage,"click");jindo.$Fn(this._prev,this).attach(this.elPrev,"click");jindo.$Fn(this._next,this).attach(this.elNext,"click");var a=this;this.weListUl.delegate("click","a",function(b){a._click(b)})},_getItems:function(){return jindo.$$("li",this.elListUl)},_getItemsCount:function(){return this._getItems().length},_getCurrentPageIndex:function(){var b=this.elListUl.style.left.replace("px","");var a=-b/this.nItemWidth;return a},_getCurrentItemIndex:function(){var b=this.weCurrentItem.offset().left-this.weListUl.offset().left;var a=b/this.nItemWidth;return a},_isFirstPage:function(){return this._getCurrentPageIndex()===0},_isLastPage:function(){return this._getCurrentPageIndex()>=this._getItemsCount()-this.nPageSize},_hasPrevItem:function(){return !!this.weCurrentItem.prev()},_hasNextItem:function(){return !!this.weCurrentItem.next()},_getIdsFromHash:function(){var a=document.location.hash;if(this.pHashPattern.test(a)){var b=a.match(this.pHashPattern);return[b[1],b[2]]}else{return null}},_requestItemList:function(){var a=this;var b="/main/cartoongallery/itemList.naver?sid2="+this.GM.sSid2;var c=this._getIdsFromHash();if(this.GM.sOid){if(c){if(this.GM.sOid==c[0]){b+="&oid="+c[0]+"&aid="+c[1]}else{b+="&oid="+this.GM.sOid}}else{b+="&oid="+this.GM.sOid}b+="&isOfficeSearch=Y"}else{if(c){b+="&oid="+c[0]+"&aid="+c[1]}}var d=new jindo.$Ajax(b,{onload:function(e){a._onLoadItemList(e.json())}}).request()},_onLoadItemList:function(a){if(!a.currentId){this._reset();return}if(a.itemListNextCount<50){this.hasFirstItem=true}if(a.itemListPrevCount<50){this.hasLastItem=true}this.elListUl.innerHTML=this.tItemList.process(a);this.sChoiceId=a.currentId;if(!this._isValidHash()){document.location.hash=a.currentId.substring(2)}this.HH.init(this.choice,this)},_isValidHash:function(){var a=document.location.hash;var b="l_"+a.substring(1);var c=jindo.$(b);if(!this.pHashPattern.test(a)||!c){return false}else{return true}},_reset:function(){document.location="/main/cartoongallery/index.naver?mid=pho&sid2="+this.GM.sSid2},_moveBy:function(b){var d=this._getCurrentPageIndex();var a=b+d;var c=-this.nItemWidth*a;this.elListUl.style.left=c+"px"},_slideBy:function(b){var c=this._getCurrentPageIndex();var a=b+c;this._slide(c,a)},_slideTo:function(b){var c=this._getCurrentPageIndex();var a=b;this._slide(c,a)},_slide:function(g,a){var c=this;var f=this.oTransition;if(f.isPlaying()){return}var d=-this.nItemWidth*g;var b=-this.nItemWidth*a;var e=jindo.Effect.easeOut(b);f.start(500,[[{getter:function(h){return d},setter:function(h,j){c.elListUl.style.left=j+"px"}},{some_action:e}]])},_slideAfter:function(){this._getMoreItems();this._togglePrevNextPageButton()},_start:function(b){b.stopDefault();this.weStart.hide();this.weStop.show();var a=this;this.nIntervalId=setInterval(function(){a._next()},this.nInterval);this._stopAtLast()},_stop:function(a){if(a&&a.currentElement!=this.elListUl){a.stopDefault()}clearInterval(this.nIntervalId);this.nIntervalId=null;this.weStart.show();this.weStop.hide()},_stopAtLast:function(){if(!this.nIntervalId||this._hasNextItem()){return}var c=this;var b=jindo.$$.getSingle("li[_n=1]",this.elListUl);var a;if(b){a=function(){c._stop();var e=jindo.$Element(b).first().$value();var d=e.href.split("#")[1];c.HH.add(d)}}else{a=function(){c._stop();c._reset()}}setTimeout(a,this.nInterval-500)},_prevPage:function(b){if(b){b.stopDefault()}if(this.oTransition.isPlaying()){return}var c=this._getCurrentPageIndex();var a=c>=this.nPageSize?this.nPageSize:c;this._slideBy(-a)},_nextPage:function(e){if(e){e.stopDefault()}if(this.oTransition.isPlaying()){return}var d=this.nPageSize;var c=this._getItemsCount();var b=c-1;var g=this._getCurrentPageIndex();var f=g+d;var a=f+d<c?d:c-f;this._slideBy(a)},_getMoreItems:function(){var c=this._getItemsCount();var g=this._getCurrentPageIndex();var f=g+this.nPageSize;var d=jindo.$Element(jindo.$$.getSingle(".options_layer_inner ul")).first().test(".on");var j=this;if(!this.hasFirstItem&&g<30){var b=this._getItems()[0];var h=jindo.$Element(b);var a="/main/cartoongallery/itemListNextMore.naver?sid2="+this.GM.sSid2+(d?"":"&oid="+this.GM.sOid)+"&prior="+h.attr("_p")+"&startItemIndex="+h.attr("_n");var e=new jindo.$Ajax(a,{onload:function(k){j._prependItemList(k.json())}}).request()}if(!this.hasLastItem&&c-f<30){var b=this._getItems()[this._getItemsCount()-1];var h=jindo.$Element(b);var a="/main/cartoongallery/itemListPrevMore.naver?sid2="+this.GM.sSid2+(d?"":"&oid="+this.GM.sOid)+"&prior="+h.attr("_p")+"&totalItemSize="+h.attr("_n");var e=new jindo.$Ajax(a,{onload:function(k){j._appendItemList(k.json())}}).request()}},_prependItemList:function(c){var d=c.itemList.length;if(d<50){this.hasFirstItem=true}this.weListUl.prependHTML(this.tItemList.process(c));this._moveBy(d);var a=this._getItems();var d=a.length;if(d>120){var b=d-120;while(b-->0){this.weListUl.last().leave()}this.hasLastItem=false}this._togglePrevNextPageButton()},_appendItemList:function(f){var g=f.itemList.length;if(g<50){this.hasLastItem=true}this.weListUl.appendHTML(this.tItemList.process(f));var c=this._getItems();var g=c.length;if(g>120){var b=g-120;for(var e=b;e>=0;e--){var d=c[e];var a=jindo.$Element(c[e]);a.leave()}this._moveBy(-(b+1));this.hasFirstItem=false}this._togglePrevNextPageButton();this._togglePrevNextButton()},_go:function(b){if(!b){return}var a=b.href.split("#")[1];this.HH.add(a)},_prev:function(c){c.stopDefault();var b=this.weCurrentItem.prev();if(!b){b=this.wePrevItem}var a=b.first().$value();this._go(a)},_next:function(c){if(c){c.stopDefault()}var b=this.weCurrentItem.next();if(!b){b=this.weNextItem}var a=b.first().$value();this._go(a)},_click:function(a){a.stopDefault();if(this.oTransition.isPlaying()){return}this._go(a.element)},choice:function(){if(!this._isValidHash()){document.location.reload();return}var b=this.GM.sHash;var a=document.location.hash;if(b==a){return}this._removeHighlight();this._setCurrentItemInfo();this._addHighight();this._setPage();this._togglePrevNextButton();this._stopAtLast();this.AC.request()},_setCurrentItemInfo:function(){var a=document.location.hash;var c=a.match(this.pHashPattern);var b=c[1];var d=c[2];this.GM.sOid=b;this.GM.sAid=d;this.GM.sHash=a;this.sChoiceId="l_"+b+"_"+d;this.weCurrentItem=jindo.$Element(this.sChoiceId);this.wePrevItem=this.weCurrentItem.prev();this.weNextItem=this.weCurrentItem.next();this.elCount.innerHTML=changeNumberFormat(this.weCurrentItem.attr("_n"))},_setPage:function(){var e=this._getItemsCount();if(e<=this.nPageSize){return}var c=this._getCurrentItemIndex();var b=e-this.nPageSize+5;var a;if(c<=5){a=0}else{if(c>b){a=e-this.nPageSize}else{a=c-5}}var d=this.oTransition;if(d.isPlaying()){d.abort()}this._slideTo(a)},_removeHighlight:function(){var a=this.weCurrentItem;if(!a){return}a.removeClass("on");a.first().last().leave()},_addHighight:function(){var a=this.weCurrentItem;if(!a){return}a.first().appendHTML('<span class="mask"></span>');a.addClass("on")},_togglePrevNextPageButton:function(){if(this._isFirstPage()){this.wePrevPage.hide();this.wePrevPageX.show()}else{this.wePrevPage.show();this.wePrevPageX.hide()}if(this._isLastPage()){this.weNextPage.hide();this.weNextPageX.show()}else{this.weNextPage.show();this.weNextPageX.hide()}},_togglePrevNextButton:function(){if(!this._hasPrevItem()){this.wePrev.hide();this.wePrevX.show()}else{this.wePrev.show();this.wePrevX.hide()}if(!this._hasNextItem()){this.weNext.hide();this.weNextX.show()}else{this.weNext.show();this.weNextX.hide()}}};news.gallery.cartoon.ShareController={_sTitlePrefix:"네이버 뉴스 : ",_sSnsTag:"",_sImage:"https://ssl.pstatic.net/static.news/image/navernews_200x200.jpg",init:function(){this._assign();this._attach()},_assign:function(){this.GM=news.gallery.cartoon.GalleryManager;this.elShareToggleBtn=jindo.$$.getSingle("a.btn_share_page",this.GM.elContainer);this.welShareArea=jindo.$Element(jindo.$$.getSingle("ul.share_page_lst",this.GM.elContainer));this.oShareLayer=new jindo.LayerManager(this.welShareArea,{sCheckEvent:"click",nCheckDelay:0,nShowDelay:0,nHideDelay:0}).link(this.elShareToggleBtn)},_attach:function(){jindo.$Fn(this._toggleShareArea,this).attach(this.elShareToggleBtn,"click");this.welShareArea.delegate("click","a",jindo.$Fn(this._send,this).bind())},_toggleShareArea:function(a){a.stopDefault();this.oShareLayer.toggle()},_send:function(b){b.stopDefault();var a=this._createShareData(b.element);news.util.SnsPopupSender.send(a.nSnsType,a.sTitle,a.sUrl,a.sSnsTag,a.sImage)},_createShareData:function(c){var b={};b.sTitle=this._getTitle();b.sUrl=this._getCurrentUrl();b.sImage=this._sImage;b.sSnsTag=this._sSnsTag;var a=jindo.$Element(c);if(a.hasClass("btn_band")){b.nSnsType=news.util.SnsPopupSender.type.NAVER_BAND}else{if(a.hasClass("btn_facebook")){b.nSnsType=news.util.SnsPopupSender.type.FACEBOOK}else{if(a.hasClass("btn_twitter")){b.nSnsType=news.util.SnsPopupSender.type.TWITTER}else{if(a.hasClass("btn_blog")){b.nSnsType=news.util.SnsPopupSender.type.NAVER_BLOG}else{if(a.hasClass("btn_cafe")){b.nSnsType=news.util.SnsPopupSender.type.NAVER_CAFE}}}}}return b},_getTitle:function(){return this._sTitlePrefix+jindo.$Element(this.GM.elContainer).query(".pi_h2").innerHTML},_getCurrentUrl:function(){return location.href.split("#")[0]}};news=news||{};news.gallery=news.gallery||{};news.gallery.photo=news.gallery.photo||{};news.gallery.photo.GalleryManager={elContainer:null,elArticle:null,sSid1:null,sCid:null,sOid:null,sAid:null,sLikePluginDomain:null,init:function(a){this.elContainer=jindo.$$.getSingle("#main_content div.photo_wrap");this.elArticle=jindo.$$.getSingle("div.photo_article",this.elContainer);this.sSid1=a.sSid1;this.sCid=a.sCid;this.sLikePluginDomain=a.sLikePluginDomain;news.gallery.OptionController.init();news.gallery.photo.ArticleController.init();news.gallery.photo.ListController.init();news.gallery.photo.ShareController.init();window.setTimeout(function(){window.location.reload()},1000*60*60)}};news.gallery.photo.ArticleController={oAjax:null,oJson:null,nHeaderHeight:135,nImageHeight:null,nTopMax:null,nScrollMargin:40,tArticleDate:jindo.$Template('{=officeName}<span class="bar"></span> 기사입력 <span class="pi_num">{js changeDotDateFormat(=createDate)}</span>{if createDate != modifyDate}<span class="bar"></span> 최종수정 <span class="pi_num">{js changeDotDateFormat(=modifyDate)}</span>{/if} <a href="{=href}" class="pi_btn nclicks(pgv.body) NCR-ASYNC" target="_blank"><em><span class="lo_txt">기사본문</span><span class="lo_ico"></span></em></a> <a href="#" class="pi_btn pi_btn_count nclicks(pgv.comment) NCR-ASYNC" target="_blank" id="article_comment"><em><span class="lo_txt" id="article_comment_count">0</span><span class="lo_ico"></span></em></a>'),nOriginalMinTime:jindo.$Date("2012-04-01 00:00").time(),init:function(){this._assign();this._attach()},_assign:function(){this.GM=news.gallery.photo.GalleryManager;var a=this.GM.elContainer;this.elPhotoOuter=jindo.$$.getSingle(".photo_viewer_outer",a);this.elPhotoViewer=jindo.$$.getSingle(".photo_viewer_wrap",this.elPhotoOuter);this.elArticleTitle=jindo.$("article_title");this.elArticleDate=jindo.$("article_date");this.elArticleImage=jindo.$("article_image");this.elArticleContent=jindo.$("article_content");this.wePhotoOuter=jindo.$Element(this.elPhotoOuter);this.wePhotoViewer=jindo.$Element(this.elPhotoViewer);this.waButton=jindo.$A(jindo.$$(".ico",this.elPhotoViewer));this.weArticleImage=jindo.$Element(this.elArticleImage);this.aArticleHrefList=jindo.$$("a._href",a)},_attach:function(){jindo.$Fn(this._scroll,this).attach(window,"scroll");jindo.$Fn(this._scroll,this).attach(window,"resize");jindo.$Fn(this._load,this).attach(this.elArticleImage,"load")},_scroll:function(){var c=this.nHeaderHeight;if(this.nImageHeight<c){return}var d=jindo.$Document().clientSize();var a=420-(d.height+132)/2;var e=jindo.$Document().scrollPosition().top;var b=this.nScrollMargin;if(e>c+a){b-=c;if(e<this.nTopMax+a){b+=e-a}else{b+=this.nTopMax}}this._setButtonTop(b)},_setButtonTop:function(a){this.waButton.forEach(function(c,b,d){c.style.top=a+"px"})},_load:function(){this.wePhotoOuter.height(this.wePhotoViewer.height()+23);this.nImageHeight=this.weArticleImage.height();this.nTopMax=this.nHeaderHeight+this.nImageHeight-132-this.nScrollMargin*2;this._scroll()},_clickOriginal:function(b){b.stopDefault();var c=this.oJson;var a="/main/photogallery/original.naver?oid="+c.oid+"&aid="+c.aid;news.util.Window.popup({url:a,name:"photogallery_original",features:{scrollbars:"1",resizable:"yes"}})},request:function(){var c=this.GM;if(!c.sSid1||!c.sCid||!c.sOid||!c.sAid){return}this._stop();this._setScrollTop();var b="/main/photogallery/item.naver?sid1="+c.sSid1+"&cid="+c.sCid+"&oid="+c.sOid+"&aid="+c.sAid;var a=this;this.oAjax=new jindo.$Ajax(b,{onload:function(d){a.oJson=d.json();a._onload()}}).request()},_stop:function(){if(this.oAjax){this.oAjax.abort()}},_setScrollTop:function(){var a=this.nHeaderHeight;if(document.body.scrollTop>a){window.scrollTo(0,a)}},_onload:function(){this.oAjax=null;try{this._detachSocialPlugin();this._setArticle();this._attachSocialPlugin();news.gallery.likeEmotion.update(this.GM.sLikePluginDomain,this.GM.sOid,this.GM.sAid);news.gallery.toMainRecommend.init({oid:this.GM.sOid,aid:this.GM.sAid,templateType:this.oJson.mainRecommendTemplateType})}catch(a){throw a}finally{lcs_do()}},_attachSocialPlugin:function(){if(window.__splugin){window.__splugin.init()}},_detachSocialPlugin:function(){if(window.__splugin){window.__splugin.kill()}},_setArticle:function(){var m=this.oJson;var c=this.GM.sSid1;var o=this.GM.sCid;var q=m.iid;var d=m.oid;var b=m.aid;var h=m.href;this.sOid=d;this.sAid=b;this.elArticleTitle.innerHTML=m.title;this.elArticleDate.innerHTML=this.tArticleDate.process(m);this.elArticleContent.innerHTML=m.content;this.elArticleImage.src=m.image+"?type=w680";var l=this.aArticleHrefList;for(var g=0;g<l.length;g++){var p=l[g];p.href=h+"&mode=LSD"}var f;try{var n=jindo.$Json(m.commentCount).toObject();f=n.result.comment}catch(k){f=0}jindo.$("article_comment_count").innerHTML=f;var a=h+"&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews"+d+"%2C"+b;var j=jindo.$("article_comment");if(j){j.href=a}htInitData.title=jindo.$S(m.title).unescapeHTML().$value();htInitData.url=news.gallery.htConf.sContextPath+"/read.naver?mode=LSD&mid=sec&sid1=001&oid="+d+"&aid="+b;htInitData.serviceName="뉴스";htInitData.sourceName=m.officeName;htInitData.mail.srvurl=news.gallery.htConf.sContextPath+"/tool/mailContents.naver?oid="+d+"&aid="+b;htInitData.blog.sourceTitle="";htInitData.cafe.sourceTitle=""}};news.gallery.photo.ListController={pHashPattern:/#(\d{3})_(\d{10})/,nPageSize:12,nItemWidth:83,hasFirstItem:false,hasLastItem:false,weCurrentItem:null,sChoiceId:null,nIntervalId:null,nInterval:3000,waItemList:null,nListNextMoreCount:0,nListPrevMoreCount:0,oTransition:null,tItemList:jindo.$Template('{for idx:item in itemList}<li id="l_{=item.oid}_{=item.aid}" _p="{=item.prior}" _n="{=item.no}"><a href="#{=item.oid}_{=item.aid}" class="nclicks(npg.photo) NCR-ASYNC"><img src="{=item.image}" _src="{=item.image2}" alt="{=item.title}" width="82" height="80" onerror="news.gallery.photo.ListController.onImageError(this);"></a></li>{/for}'),onImageError:function(b){var a=jindo.$Element(b);b.onerror=function(){b.src="https://ssl.pstatic.net/static.news/image/news/2012/presidential/noimage_82x80.gif"};b.src="https://dthumb-phinf.pstatic.net/?src="+a.attr("_src")+"&twidth=82&theight=80&opts=10"},init:function(){this._assign();this._attach();this._requestItemList()},_assign:function(){var b=this;this.HH=news.gallery.HashHistory;this.GM=news.gallery.photo.GalleryManager;this.AC=news.gallery.photo.ArticleController;var e=this.GM.elContainer;this.elCount=jindo.$$.getSingle(".p_info span.cnt em",e);var a=jindo.$$(".p_info button",e);this.weStart=jindo.$Element(a[0]);this.weStop=jindo.$Element(a[1]);var d=jindo.$$.getSingle(".photo_choice_wrap",e);this.elListUl=jindo.$$.getSingle("div ul.photo_choice",d);this.weListUl=jindo.$Element(this.elListUl);this.elPrevPage=jindo.$$.getSingle("a.btn_prev",d);this.elNextPage=jindo.$$.getSingle("a.btn_next",d);this.wePrevPage=jindo.$Element(this.elPrevPage);this.weNextPage=jindo.$Element(this.elNextPage);this.wePrevPageX=jindo.$Element(jindo.$$.getSingle("span.btn_prev",d));this.weNextPageX=jindo.$Element(jindo.$$.getSingle("span.btn_next",d));var c=this.AC.elPhotoViewer;this.wePrevX=jindo.$Element(jindo.$$.getSingle("span.btn_prev",c));this.weNextX=jindo.$Element(jindo.$$.getSingle("span.btn_next",c));this.elPrev=jindo.$$.getSingle("a.btn_prev",c);this.elNext=jindo.$$.getSingle("a.btn_next",c);this.wePrev=jindo.$Element(this.elPrev);this.weNext=jindo.$Element(this.elNext);this.oTransition=new jindo.Transition();this.oTransition.fps(100).attach("end",function(){b._slideAfter()})},_attach:function(){if(this.weStart){jindo.$Fn(this._start,this).attach(this.weStart.$value(),"click")}if(this.weStop){jindo.$Fn(this._stop,this).attach([this.weStop.$value(),this.elPrevPage,this.elNextPage,this.elPrev,this.elNext,this.elListUl],"click")}jindo.$Fn(this._prevPage,this).attach(this.elPrevPage,"click");jindo.$Fn(this._nextPage,this).attach(this.elNextPage,"click");jindo.$Fn(this._prev,this).attach(this.elPrev,"click");jindo.$Fn(this._next,this).attach(this.elNext,"click");var a=this;this.weListUl.delegate("click","a",function(b){a._click(b)})},_getItems:function(){return jindo.$$("li",this.elListUl)},_getItemsCount:function(){return this._getItems().length},_getCurrentPageIndex:function(){var b=this.elListUl.style.left.replace("px","");var a=-b/this.nItemWidth;return a},_getCurrentItemIndex:function(){var b=this.weCurrentItem.offset().left-this.weListUl.offset().left;var a=b/this.nItemWidth;return a},_isFirstPage:function(){return this._getCurrentPageIndex()===0},_isLastPage:function(){return this._getCurrentPageIndex()>=this._getItemsCount()-this.nPageSize},_hasPrevItem:function(){return !!this.weCurrentItem.prev()},_hasNextItem:function(){return !!this.weCurrentItem.next()},_getIdsFromHash:function(){var a=document.location.hash;if(this.pHashPattern.test(a)){var b=a.match(this.pHashPattern);return[b[1],b[2]]}else{return null}},_requestItemList:function(){var a=this;var b="/main/photogallery/itemList.naver?cid="+this.GM.sCid;var c=this._getIdsFromHash();if(c){b+="&oid="+c[0]+"&aid="+c[1]}var d=new jindo.$Ajax(b,{onload:function(e){a._onLoadItemList(e.json())}}).request()},_onLoadItemList:function(a){if(!a.currentId){this._reset();return}if(a.itemListNextCount<50){this.hasFirstItem=true}if(a.itemListPrevCount<50){this.hasLastItem=true}this.elListUl.innerHTML=this.tItemList.process(a);this.sChoiceId=a.currentId;if(!this._isValidHash()){document.location.hash=a.currentId.substring(2)}this.HH.init(this.choice,this)},_isValidHash:function(){var a=document.location.hash;var b="l_"+a.substring(1);var c=jindo.$(b);if(!this.pHashPattern.test(a)||!c){return false}else{return true}},_reset:function(){document.location="/main/photogallery/index.naver?cid="+this.GM.sCid},_moveBy:function(b){var d=this._getCurrentPageIndex();var a=b+d;var c=-this.nItemWidth*a;this.elListUl.style.left=c+"px"},_slideBy:function(b){var c=this._getCurrentPageIndex();var a=b+c;this._slide(c,a)},_slideTo:function(b){var c=this._getCurrentPageIndex();var a=b;this._slide(c,a)},_slide:function(g,a){var c=this;var f=this.oTransition;if(f.isPlaying()){return}var d=-this.nItemWidth*g;var b=-this.nItemWidth*a;var e=jindo.Effect.easeOut(b);f.start(500,[[{getter:function(h){return d},setter:function(h,j){c.elListUl.style.left=j+"px"}},{some_action:e}]])},_slideAfter:function(){this._getMoreItems();this._togglePrevNextPageButton()},_start:function(b){b.stopDefault();this.weStart.hide();this.weStop.show();var a=this;this.nIntervalId=setInterval(function(){a._next()},this.nInterval);this._stopAtLast()},_stop:function(a){if(a&&a.currentElement!=this.elListUl){a.stopDefault()}clearInterval(this.nIntervalId);this.nIntervalId=null;this.weStart.show();this.weStop.hide()},_stopAtLast:function(){if(!this.nIntervalId||this._hasNextItem()){return}var c=this;var b=jindo.$$.getSingle("li[_n=1]",this.elListUl);var a;if(b){a=function(){c._stop();var e=jindo.$Element(b).first().$value();var d=e.href.split("#")[1];c.HH.add(d)}}else{a=function(){c._stop();c._reset()}}setTimeout(a,this.nInterval-500)},_prevPage:function(b){if(b){b.stopDefault()}if(this.oTransition.isPlaying()){return}var c=this._getCurrentPageIndex();var a=c>=this.nPageSize?this.nPageSize:c;this._slideBy(-a)},_nextPage:function(e){if(e){e.stopDefault()}if(this.oTransition.isPlaying()){return}var d=this.nPageSize;var c=this._getItemsCount();var b=c-1;var g=this._getCurrentPageIndex();var f=g+d;var a=f+d<c?d:c-f;this._slideBy(a)},_getMoreItems:function(){var c=this._getItemsCount();var g=this._getCurrentPageIndex();var f=g+this.nPageSize;var b=this;if(!this.hasFirstItem&&g<30){var d=this._getItems()[0];var a=jindo.$Element(d);var e="/main/photogallery/itemListNextMore.naver?cid="+this.GM.sCid+"&prior="+a.attr("_p");var h=new jindo.$Ajax(e,{onload:function(j){b._prependItemList(j.json())}}).request()}if(!this.hasLastItem&&c-f<30){var d=this._getItems()[this._getItemsCount()-1];var a=jindo.$Element(d);var e="/main/photogallery/itemListPrevMore.naver?cid="+this.GM.sCid+"&prior="+a.attr("_p");var h=new jindo.$Ajax(e,{onload:function(j){b._appendItemList(j.json())}}).request()}},_prependItemList:function(c){var d=c.itemList.length;if(d<50){this.hasFirstItem=true}this.weListUl.prependHTML(this.tItemList.process(c));this._moveBy(d);var a=this._getItems();var d=a.length;if(d>120){var b=d-120;while(b-->0){this.weListUl.last().leave()}this.hasLastItem=false}this._togglePrevNextPageButton()},_appendItemList:function(f){var g=f.itemList.length;if(g<50){this.hasLastItem=true}this.weListUl.appendHTML(this.tItemList.process(f));var c=this._getItems();var g=c.length;if(g>120){var b=g-120;for(var e=b;e>=0;e--){var d=c[e];var a=jindo.$Element(c[e]);a.leave()}this._moveBy(-(b+1));this.hasFirstItem=false}this._togglePrevNextPageButton()},_go:function(b){if(!b){return}var a=b.href.split("#")[1];this.HH.add(a)},_prev:function(c){c.stopDefault();var b=this.weCurrentItem.prev();if(!b){b=this.wePrevItem}var a=b.first().$value();this._go(a)},_next:function(c){if(c){c.stopDefault()}var b=this.weCurrentItem.next();if(!b){b=this.weNextItem}var a=b.first().$value();this._go(a)},_click:function(a){a.stopDefault();if(this.oTransition.isPlaying()){return}this._go(a.element)},choice:function(){if(!this._isValidHash()){document.location.reload();return}var b=this.GM.sHash;var a=document.location.hash;if(b==a){return}this._removeHighlight();this._setCurrentItemInfo();this._addHighight();this._setPage();this._togglePrevNextButton();this._stopAtLast();this.AC.request()},_setCurrentItemInfo:function(){var a=document.location.hash;var c=a.match(this.pHashPattern);var b=c[1];var d=c[2];this.GM.sOid=b;this.GM.sAid=d;this.GM.sHash=a;this.sChoiceId="l_"+b+"_"+d;this.weCurrentItem=jindo.$Element(this.sChoiceId);this.wePrevItem=this.weCurrentItem.prev();this.weNextItem=this.weCurrentItem.next();if(this.elCount){this.elCount.innerHTML=changeNumberFormat(this.weCurrentItem.attr("_n"))}},_setPage:function(){var e=this._getItemsCount();if(e<=this.nPageSize){return}var c=this._getCurrentItemIndex();var b=e-this.nPageSize+5;var a;if(c<=5){a=0}else{if(c>b){a=e-this.nPageSize}else{a=c-5}}var d=this.oTransition;if(d.isPlaying()){d.abort()}this._slideTo(a)},_removeHighlight:function(){var a=this.weCurrentItem;if(!a){return}a.removeClass("on");a.first().last().leave()},_addHighight:function(){var a=this.weCurrentItem;if(!a){return}a.first().appendHTML('<span class="mask"></span>');a.addClass("on")},_togglePrevNextPageButton:function(){if(this._isFirstPage()){this.wePrevPage.hide();this.wePrevPageX.show()}else{this.wePrevPage.show();this.wePrevPageX.hide()}if(this._isLastPage()){this.weNextPage.hide();this.weNextPageX.show()}else{this.weNextPage.show();this.weNextPageX.hide()}},_togglePrevNextButton:function(){if(!this._hasPrevItem()){this.wePrev.hide();this.wePrevX.show()}else{this.wePrev.show();this.wePrevX.hide()}if(!this._hasNextItem()){this.weNext.hide();this.weNextX.show()}else{this.weNext.show();this.weNextX.hide()}}};news.gallery.photo.ShareController={_sTitlePrefix:"네이버 뉴스 : ",_sSnsTag:"",_sImage:"https://ssl.pstatic.net/static.news/image/navernews_200x200.jpg",init:function(){this._assign();this._attach()},_assign:function(){this.GM=news.gallery.photo.GalleryManager;this.elShareToggleBtn=jindo.$$.getSingle("a.btn_share_page",this.GM.elContainer);this.welShareArea=jindo.$Element(jindo.$$.getSingle("ul.share_page_lst",this.GM.elContainer));if(!this.welShareArea){return}this.oShareLayer=new jindo.LayerManager(this.welShareArea,{sCheckEvent:"click",nCheckDelay:0,nShowDelay:0,nHideDelay:0}).link(this.elShareToggleBtn)},_attach:function(){if(!this.welShareArea){return}jindo.$Fn(this._toggleShareArea,this).attach(this.elShareToggleBtn,"click");this.welShareArea.delegate("click","a",jindo.$Fn(this._send,this).bind())},_toggleShareArea:function(a){a.stopDefault();this.oShareLayer.toggle()},_send:function(b){b.stopDefault();var a=this._createShareData(b.element);news.util.SnsPopupSender.send(a.nSnsType,a.sTitle,a.sUrl,a.sSnsTag,a.sImage)},_createShareData:function(c){var b={};b.sTitle=this._getTitle();b.sUrl=this._getCurrentUrl();b.sImage=this._sImage;b.sSnsTag=this._sSnsTag;var a=jindo.$Element(c);if(a.hasClass("btn_band")){b.nSnsType=news.util.SnsPopupSender.type.NAVER_BAND}else{if(a.hasClass("btn_facebook")){b.nSnsType=news.util.SnsPopupSender.type.FACEBOOK}else{if(a.hasClass("btn_twitter")){b.nSnsType=news.util.SnsPopupSender.type.TWITTER}else{if(a.hasClass("btn_blog")){b.nSnsType=news.util.SnsPopupSender.type.NAVER_BLOG}else{if(a.hasClass("btn_cafe")){b.nSnsType=news.util.SnsPopupSender.type.NAVER_CAFE}}}}}return b},_getTitle:function(){return this._sTitlePrefix+jindo.$Element(this.GM.elContainer).query(".pi_h2").innerHTML},_getCurrentUrl:function(){return location.href.split("#")[0]}};news=news||{};news.gallery=news.gallery||{};news.gallery.tv=news.gallery.tv||{};news.gallery.tv.GalleryManager={elContainer:null,elArticle:null,sSid1:null,sCid:null,sOid:null,sAid:null,sLikePluginDomain:null,sBaseUrl:null,sArticleRequestUrl:null,sArticleBaseUrl:null,init:function(c){this.elContainer=jindo.$$.getSingle("#content div.photo_wrap");this.elArticle=jindo.$$.getSingle("div.photo_article",this.elContainer);var b=this.sSid1=c.sSid1;var a=this.sCid=c.sCid;this.sLikePluginDomain=c.sLikePluginDomain;this.sBaseUrl="/main/tvgallery/index.naver?cid="+a;this.sArticleRequestUrl="/main/tvgallery/item.naver?sid1="+b+"&cid="+a;this.sArticleBaseUrl="/main/hotissue/read.naver?mid=hot&ptype=011&sid1="+b+"&cid="+a;news.gallery.OptionController.init();news.gallery.tv.ArticleController.init(this);news.gallery.tv.ListController.init(this)}};news.gallery.tv.GalleryListManager={elContainer:null,elArticle:null,sMode:null,sSid1:null,sSid2:null,sOid:null,sAid:null,sLikePluginDomain:null,init:function(e){this.elContainer=jindo.$$.getSingle("#content div.photo_wrap");this.elArticle=jindo.$$.getSingle("div.photo_article",this.elContainer);var a=this.sMode=e.sMode;var d=this.sMid=e.sMid;var f=this.sOid=e.sOid;var c=this.sSid1=e.sSid1;var b=this.sSid2=e.sSid2;this.sLikePluginDomain=e.sLikePluginDomain;this.sBaseUrl="/main/tvgallery/list.naver?";this.sArticleRequestUrl="/main/tvgallery/item.naver?mode="+a;this.sArticleBaseUrl="/main/read.naver?mode="+a+"&mid=tvh&sid1="+c;if(b){this.sArticleBaseUrl+="&sid2="+b}news.gallery.OptionController.init();news.gallery.tv.ArticleController.init(this);news.gallery.tv.ListController.init(this)}};news.gallery.tv.GalleryReplayListManager={elContainer:null,elArticle:null,sMode:null,sSid1:null,sSid2:null,sSid:null,sDate:null,sOid:null,sAid:null,tArticleDate:jindo.$Template('{=officeName}<span class="bar"></span> 기사입력 <span class="pi_num">{js changeDotDateFormat(=createDate)}</span>{if createDate != modifyDate}<span class="bar"></span> 최종수정 <span class="pi_num">{js changeDotDateFormat(=modifyDate)}</span>{/if} <a href="{=href}" class="pi_btn nclicks(rep_{=clickId}.img) NCR-ASYNC _href" target="_blank"><em><span class="lo_txt">기사본문</span><span class="lo_ico"></span></em></a> <a href="#" class="pi_btn pi_btn_count nclicks(rep_{=clickId}.comment) NCR-ASYNC" target="_blank" id="article_comment"><em><span class="lo_txt" id="article_comment_count">0</span><span class="lo_ico"></span></em></a>'),init:function(k){try{this.elContainer=jindo.$$.getSingle("#content div.photo_wrap");this.elArticle=jindo.$$.getSingle("div.photo_article",this.elContainer);var j=this.sMode=k.sMode;var d=this.sOid=k.sOid;var c=this.sSid1=k.sSid1;var b=this.sSid2=k.sSid2;var a=this.sSid=k.sSid;var h=this.sDate=k.sDate;var f=this.sClickId=k.sClickId;this.sBaseUrl="/main/tvgallery/list.naver?";this.sArticleRequestUrl="/main/tvgallery/item.naver?mode="+j;this.sArticleBaseUrl="/main/read.naver?mode=LSD&mid=tvh&sid2="+a;news.gallery.tv.CalendarManager.init(a,h);news.gallery.tv.OnairProgramBoxController.init();if(!!this.elArticle){news.gallery.tv.ArticleController.init(this);news.gallery.tv.ListController.init(this)}else{lcs_do()}}catch(g){lcs_do();throw g}}};news.gallery.tv.ArticleController={bIsLoaded:false,oAjax:null,oJson:null,nHeaderHeight:135,nImageHeight:null,nTopMax:null,nScrollMargin:120,nTimeoutId:null,tArticleDate:jindo.$Template('{=officeName}<span class="bar"></span> 기사입력 <span class="pi_num">{js changeDotDateFormat(=createDate)}</span>{if createDate != modifyDate}<span class="bar"></span> 최종수정 <span class="pi_num">{js changeDotDateFormat(=modifyDate)}</span>{/if} <a href="{=href}" class="pi_btn nclicks(tgv.body) NCR-ASYNC _href" target="_blank"><em><span class="lo_txt">기사본문</span><span class="lo_ico"></span></em></a> <a href="#" class="pi_btn pi_btn_count nclicks(tgv.comment) NCR-ASYNC" target="_blank" id="article_comment"><em><span class="lo_txt" id="article_comment_count">0</span><span class="lo_ico"></span></em></a>'),init:function(a){this._assign(a);this._attach()},_assign:function(a){this.GM=a;var b=this.GM.elContainer;this.elPhotoOuter=jindo.$$.getSingle(".photo_viewer_outer",b);this.elPhotoViewer=jindo.$$.getSingle(".photo_viewer_wrap",this.elPhotoOuter);this.elArticleTitle=jindo.$("article_title");this.elArticleDate=jindo.$("article_date");this.elArticleVod=jindo.$("article_vod");this.elArticleContent=jindo.$("article_content");this.wePhotoOuter=jindo.$Element(this.elPhotoOuter);this.wePhotoViewer=jindo.$Element(this.elPhotoViewer);this.waButton=jindo.$A(jindo.$$(".ico",this.elPhotoViewer));this.weArticleVod=jindo.$Element(this.elArticleVod);if(!!this.elArticleVod){this.nTopMax=this.elArticleVod.height-jindo.$Element(this.waButton.get(0)).height()-this.nScrollMargin}else{this.nTopMax=0}},_attach:function(){jindo.$Fn(this._scroll,this).attach(window,"scroll");jindo.$Fn(this._scroll,this).attach(window,"resize")},_scroll:function(){var c=jindo.$Document().clientSize();var a=500-(c.height+132)/2;var d=jindo.$Document().scrollPosition().top;var b=this.nScrollMargin;if(d>this.nHeaderHeight+a){b+=(d-this.nHeaderHeight-a);if(b>this.nTopMax){b=this.nTopMax}}this._setButtonTop(b)},_setButtonTop:function(a){this.waButton.forEach(function(c,b,d){c.style.top=a+"px"})},request:function(){var c=this.GM;if(!c.sArticleRequestUrl||!c.sOid||!c.sAid){return}this._stop();this._setScrollTop();this.bIsLoaded=false;var b=c.sArticleRequestUrl+"&oid="+c.sOid+"&aid="+c.sAid;var a=this;this.oAjax=new jindo.$Ajax(b,{onload:function(d){a.oJson=d.json();a._onload()}}).request()},_stop:function(){if(this.oAjax){this.oAjax.abort()}if(this.nTimeoutId){clearTimeout(this.nTimeoutId);this.nTimeoutId=null}},_setScrollTop:function(){var a=this.nHeaderHeight;if(document.body.scrollTop>a){window.scrollTo(0,a)}},_onload:function(){this.oAjax=null;try{this._detachSocialPlugin();this._setArticle();this._attachSocialPlugin();news.gallery.likeEmotion.update(this.GM.sLikePluginDomain,this.GM.sOid,this.GM.sAid);news.gallery.toMainRecommend.init({oid:this.GM.sOid,aid:this.GM.sAid,templateType:this.oJson.mainRecommendTemplateType})}catch(a){throw a}finally{lcs_do()}},_attachSocialPlugin:function(){if(window.__splugin){window.__splugin.init()}},_detachSocialPlugin:function(){if(window.__splugin){window.__splugin.kill()}},_setArticle:function(){var k=this;var h=this.oJson;var f=this.GM.sSid1;var q=this.GM.sCid;var a=jindo.$Element("l_"+document.location.hash.substring(1)).attr("_i");var g=h.oid;var n=h.aid;var d=h.type;var o=h.iframeVodSrc;var t=this.GM.sArticleBaseUrl;if(a){t+="&iid="+a}t+="&oid="+g+"&aid="+n;this.sOid=g;this.sAid=n;if(!!this.GM.sClickId){h.clickId=this.GM.sClickId;this.tArticleDate=this.GM.tArticleDate}this.elArticleTitle.innerHTML=h.title;this.elArticleDate.innerHTML=this.tArticleDate.process(h);this.elArticleContent.innerHTML=h.content;this.nTimeoutId=setTimeout(function(){if(d=="2"){k.elArticleVod.src="/main/readVod.naver?width=780&height=476&oid="+h.oid+"&aid="+h.aid}else{k.elArticleVod.src=o}},500);var r=jindo.$$("a._href",this.elContainer);for(var p=0;p<r.length;p++){var b=r[p];b.href=t}var m;try{var l=jindo.$Json(h.commentCount).toObject();m=l.result.comment}catch(s){m=0}jindo.$("article_comment_count").innerHTML=m;var c=t+"&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews"+g+"%2C"+n;var j=jindo.$("article_comment");if(j){j.href=c}htInitData.title=jindo.$S(h.title).unescapeHTML().$value();htInitData.url=news.gallery.htConf.sContextPath+"/read.naver?mode=LSD&mid=sec&sid1=001&oid="+g+"&aid="+n;htInitData.serviceName="뉴스";htInitData.sourceName=h.officeName;htInitData.mail.srvUrl=news.gallery.htConf.sContextPath+"/tool/mailContents.naver?oid="+g+"&aid="+n;htInitData.blog.sourceTitle="";htInitData.cafe.sourceTitle=""}};news.gallery.tv.ListController={pHashPattern:/#(\d{3})_(\d{10})/,nPageSize:6,nItemWidth:153,hasFirstItem:false,hasLastItem:false,weCurrentItem:null,sChoiceId:null,nIntervalId:null,nInterval:3000,waItemList:null,nListNextMoreCount:0,nListPrevMoreCount:0,oTransition:null,onImageError:function(a){a.src="https://ssl.pstatic.net/static.news/image/news/2012/presidential/noimage_152x86.gif"},init:function(a){this._assign(a);this._attach();this._onLoad()},_assign:function(b){var a=this;this.HH=news.gallery.HashHistory;this.GM=b;this.AC=news.gallery.tv.ArticleController;var e=this.GM.elContainer;this.elCount=jindo.$$.getSingle(".p_info span.cnt em",e);var d=jindo.$$.getSingle(".tv_choice_wrap",e);this.elListUl=jindo.$$.getSingle("div ul.tv_choice",d);this.weListUl=jindo.$Element(this.elListUl);this.elPrevPage=jindo.$$.getSingle("a.btn_prev",d);this.elNextPage=jindo.$$.getSingle("a.btn_next",d);this.wePrevPage=jindo.$Element(this.elPrevPage);this.weNextPage=jindo.$Element(this.elNextPage);this.wePrevPageX=jindo.$Element(jindo.$$.getSingle("span.btn_prev",d));this.weNextPageX=jindo.$Element(jindo.$$.getSingle("span.btn_next",d));var c=this.AC.elPhotoViewer;this.wePrevX=jindo.$Element(jindo.$$.getSingle("span.btn_prev",c));this.weNextX=jindo.$Element(jindo.$$.getSingle("span.btn_next",c));this.elPrev=jindo.$$.getSingle("a.btn_prev",c);this.elNext=jindo.$$.getSingle("a.btn_next",c);this.wePrev=jindo.$Element(this.elPrev);this.weNext=jindo.$Element(this.elNext);this.oTransition=new jindo.Transition();this.oTransition.fps(50).attach("end",function(){a._slideAfter()})},_attach:function(){jindo.$Fn(this._prevPage,this).attach(this.elPrevPage,"click");jindo.$Fn(this._nextPage,this).attach(this.elNextPage,"click");jindo.$Fn(this._prev,this).attach(this.elPrev,"click");jindo.$Fn(this._next,this).attach(this.elNext,"click");var a=this;if(!!this.weListUl){this.weListUl.delegate("click","a",function(b){a._click(b)})}},_getItems:function(){return jindo.$$("li",this.elListUl)},_getItemsCount:function(){return this._getItems().length},_getCurrentPageIndex:function(){var b=this.elListUl.style.left.replace("px","");var a=-b/this.nItemWidth;return a},_getCurrentItemIndex:function(){var b=this.weCurrentItem.offset().left-this.weListUl.offset().left;var a=b/this.nItemWidth;return a},_isFirstPage:function(){return this._getCurrentPageIndex()===0},_isLastPage:function(){return this._getCurrentPageIndex()>=this._getItemsCount()-this.nPageSize},_hasPrevItem:function(){return !!this.weCurrentItem.prev()},_hasNextItem:function(){return !!this.weCurrentItem.next()},_onLoad:function(){if(!this._isValidHash()){var a=this._getItems()[0];document.location.hash=a.id.substring(2)}this.HH.init(this.choice,this)},_isValidHash:function(){var a=document.location.hash;var b="l_"+a.substring(1);var c=jindo.$(b);if(!this.pHashPattern.test(a)||!c){return false}else{return true}},_reset:function(){document.location=this.GM.sBaseUrl},_moveBy:function(b){var d=this._getCurrentPageIndex();var a=b+d;var c=-this.nItemWidth*a;this.elListUl.style.left=c+"px"},_slideBy:function(b){var c=this._getCurrentPageIndex();var a=b+c;this._slide(c,a)},_slideTo:function(b){var c=this._getCurrentPageIndex();var a=b;this._slide(c,a)},_slide:function(g,a){var c=this;var f=this.oTransition;if(f.isPlaying()){return}var d=-this.nItemWidth*g;var b=-this.nItemWidth*a;var e=jindo.Effect.easeOut(b);f.start(500,[[{getter:function(h){return d},setter:function(h,j){c.elListUl.style.left=j+"px"}},{some_action:e}]])},_slideAfter:function(){this._togglePrevNextPageButton()},_prevPage:function(b){if(b){b.stopDefault()}if(this.oTransition.isPlaying()){return}var c=this._getCurrentPageIndex();var a=c>=this.nPageSize?this.nPageSize:c;this._slideBy(-a)},_nextPage:function(e){if(e){e.stopDefault()}if(this.oTransition.isPlaying()){return}var d=this.nPageSize;var c=this._getItemsCount();var b=c-1;var g=this._getCurrentPageIndex();var f=g+d;var a=f+d<c?d:c-f;this._slideBy(a)},_go:function(b){if(!b){return}var a=b.href.split("#")[1];this.HH.add(a)},_prev:function(c){c.stopDefault();var b=this.weCurrentItem.prev();if(!b){b=this.wePrevItem}var a=b.first().$value();this._go(a)},_next:function(c){if(c){c.stopDefault()}var b=this.weCurrentItem.next();if(!b){b=this.weNextItem}var a=b.first().$value();this._go(a)},_click:function(a){a.stopDefault();if(this.oTransition.isPlaying()){return}this.AC._stop();this._go(a.element)},choice:function(){if(!this._isValidHash()){return}var b=this.GM.sHash;var a=document.location.hash;if(b==a){return}this._removeHighlight();this._setCurrentItemInfo();this._addHighight();this._setPage();this._togglePrevNextButton();this.AC.request()},_setCurrentItemInfo:function(){var a=document.location.hash;var c=a.match(this.pHashPattern);var b=c[1];var d=c[2];this.GM.sOid=b;this.GM.sAid=d;this.GM.sHash=a;this.sChoiceId="l_"+b+"_"+d;this.weCurrentItem=jindo.$Element(this.sChoiceId);this.wePrevItem=this.weCurrentItem.prev();this.weNextItem=this.weCurrentItem.next()},_setPage:function(){var e=this._getItemsCount();if(e<=this.nPageSize){return}var c=this._getCurrentItemIndex();var b=e-this.nPageSize+1;var a;if(c<=2){a=0}else{if(c>b){a=e-this.nPageSize}else{a=c-2}}var d=this.oTransition;if(d.isPlaying()){d.abort()}this._slideTo(a)},_removeHighlight:function(){var a=this.weCurrentItem;if(!a){return}a.removeClass("on");a.first().last().leave()},_addHighight:function(){var a=this.weCurrentItem;if(!a){return}a.first().appendHTML('<span class="mask"></span>');a.addClass("on")},_togglePrevNextPageButton:function(){if(this._isFirstPage()){this.wePrevPage.hide();this.wePrevPageX.show()}else{this.wePrevPage.show();this.wePrevPageX.hide()}if(this._isLastPage()){this.weNextPage.hide();this.weNextPageX.show()}else{this.weNextPage.show();this.weNextPageX.hide()}},_togglePrevNextButton:function(){if(!this._hasPrevItem()){this.wePrev.hide();this.wePrevX.show()}else{this.wePrev.show();this.wePrevX.hide()}if(!this._hasNextItem()){this.weNext.hide();this.weNextX.show()}else{this.weNext.show();this.weNextX.hide()}}};news.gallery.tv.CalendarManager={oStartDate:{nYear:2013,nMonth:1,nDate:1},oCalendar:null,oScrollBox:null,tYearOptionTemplate:jindo.$Template("{for yearInfo in yearInfoList}<option value='{=yearInfo.year}'>{=yearInfo.year}</option>{/for}"),tYearLiTemplate:jindo.$Template("{for yearInfo in yearInfoList}<li id='{=yearInfo.year}' class='{if yearInfo.isNow}item-selected{/if}'>{=yearInfo.year}</li>{/for}"),tChoiceDateTemplate:jindo.$Template("<em class='num{=year1}'>{=year1}</em><em class='num{=year2}'>{=year2}</em><em class='num{=year3}'>{=year3}</em><em class='num{=year4}'>{=year4}</em><em class='dot'>.</em><em class='num{=month1}'>{=month1}</em><em class='num{=month2}'>{=month2}</em><em class='dot'>.</em><em class='num{=day1}'>{=day1}</em><em class='num{=day2}'>{=day2}</em>"),init:function(a,b){this.sSid=a;this.sDate=b;this.eContainer=jindo.$("calendarDate");this.eChoiceDate=jindo.$$.getSingle("span#choice_date",this.eContainer);this.eOpenLinkHistory=jindo.$$.getSingle("a#openLink_history",this.eContainer);this.eLayerOff=jindo.$$.getSingle("a.layer_off",this.eContainer);this.eCalendarLayer=jindo.$$.getSingle("div#calendar_layer",this.eContainer);this.eCalendarDateList=jindo.$$("td.calendar-date",this.eCalendarLayer);this.eNowDate=jindo.$$.getSingle("a#nowDate",this.eContainer);this.ePrevDate=jindo.$$.getSingle("a#prev_date",this.eContainer);this.eNextDate=jindo.$$.getSingle("a#next_date",this.eContainer);this.eSelectboxLayerOfHistory=jindo.$$.getSingle("div#selectboxLayerOfHistory",this.eContainer);this.eSelectboxLayerYear=jindo.$$.getSingle("a.box",this.eSelectboxLayerOfHistory);this.eSelectboxContent=jindo.$$.getSingle("div#scrbox_of_history",this.eSelectboxLayerOfHistory);this.eSelectboxScroll=jindo.$$.getSingle("div.scrollbar-v",this.eSelectboxLayerOfHistory);this.eSelectboxUlList=jindo.$$.getSingle("ul.scrollbar-content",this.eSelectboxContent);this.weCalendarLayer=jindo.$Element(this.eCalendarLayer);this.weSelectboxUlList=jindo.$Element(this.eSelectboxUlList);this.weSelectboxContent=jindo.$Element(this.eSelectboxContent);this._choiceDate();this._attach();this._initCalendar();this._initPrevNextDateButton()},_initCalendar:function(){var a=this;this.oCalendar=new jindo.Calendar(this.eCalendarLayer,{nYear:Number(this.sDate.substring(0,4)),nMonth:Number(this.sDate.substring(4,6)),nDate:Number(this.sDate.substring(6,8)),bDrawOnload:false});this.oCalendar.attach("draw",this._draw);this.oCalendar.attach("beforeDraw",this._beforeDraw);this.oCalendar.draw()},_attach:function(){jindo.$Fn(this._toggleCalender,this).attach(this.eOpenLinkHistory,"click");jindo.$Fn(this._hideCalender,this).attach(this.eLayerOff,"click");jindo.$Fn(this._showYearSelectBox,this).attach(this.eSelectboxLayerYear,"click");jindo.$Fn(this._go,this).attach(this.eCalendarDateList,"click");jindo.$Fn(this._goToday,this).attach(this.eNowDate,"click");jindo.$Fn(this._goPrevDate,this).attach(this.ePrevDate,"click");jindo.$Fn(this._goNextDate,this).attach(this.eNextDate,"click");var a=this;this.weCalendarLayer.delegate("click","td.calendar-date",function(b){a._go(b)});this.weSelectboxUlList.delegate("click","li",function(b){a._changeYear(b)})},_closeCalenderByPosition:function(d){if(d.element.id==this.eOpenLinkHistory.id){return}if(!!d.element.parentElement&&!!d.element.parentElement.className&&d.element.parentElement.className=="scrollbar-content"){return}var a=this.weCalendarLayer.offset();var e=d.pos();var c=parseInt(a.left)+this.weCalendarLayer.width();var b=parseInt(a.top)+this.weCalendarLayer.height();if((a.left<=e.pageX&&e.pageX<=c)&&(a.top<=e.pageY&&e.pageY<=b)){}else{this._hideCalender(d)}},_draw:function(c){var e=this.getDate();var d=jindo.$Element(c.elDate);var a=c.nDate;var b=this.getToday().nDate;if(d.className().indexOf("calendar-sun")>0){d.addClass("sun")}if(e.nYear==c.nYear&&e.nMonth==c.nMonth&&e.nDate==c.nDate){d.addClass("selected")}if(c.bNextMonth||c.bPrevMonth){d.addClass("disable")}else{if(e.nMonth==c.nMonth&&c.nDate>b){d.addClass("disable")}}},_beforeDraw:function(b){if(b.nYear<2013){b.stop();return}var c=jindo.$("calendar-title-month");var a=b.nMonth.toString();c.src="https://imgnews.pstatic.net/image/news/2009/txt_month"+a+".gif";c.alt=a+"월"},_toggleCalender:function(a){if(a){a.stopDefault()}this.weCalendarLayer.toggle();if(this.weCalendarLayer.visible()){jindo.$Fn(this._closeCalenderByPosition,this).attach(jindo.$("wrap"),"click")}},_initPrevNextDateButton:function(){if(jindo.Calendar.isSameDate(this.oCalendar.getDate(),this.oStartDate)){jindo.$Element(this.ePrevDate).removeClass("pre");jindo.$Element(this.ePrevDate).addClass("pre_off")}if(jindo.Calendar.isSameDate(this.oCalendar.getToday(),this.oCalendar.getDate())){jindo.$Element(this.eNextDate).removeClass("next");jindo.$Element(this.eNextDate).addClass("next_off")}},_showYearSelectBox:function(a){if(a){a.stopDefault()}this._drawYearSelectBox()},_drawYearSelectBox:function(){var g={};g.yearInfoList=[];var c=this.oStartDate.nYear;var f=this.oCalendar.getToday().nYear;if(c==f){return}var d=this.oCalendar.getShownDate().nYear;var a=0;while(c<=f){g.yearInfoList[a]={};g.yearInfoList[a].year=c;g.yearInfoList[a].isNow=false;if(c==d){g.yearInfoList[a].isNow=true}c++;a++}this.eSelectboxUlList.innerHTML=this.tYearLiTemplate.process(g);jindo.$("selectbox_news_of_history").innerHTML=this.tYearOptionTemplate.process(g);jindo.$Element(this.eSelectboxContent).show();var b=jindo.$Element(this.eSelectboxUlList).height();var e=jindo.$Element(this.eSelectboxContent).height();if(b>e){jindo.$Element(this.eSelectboxScroll).show();this.oScrollBox=new jindo.ScrollBox("scrbox_of_history",{bAdjustThumbSize:false,sOverflowX:"hidden",sOverflowY:"auto"})}else{jindo.$Element(this.eSelectboxContent).height(b+3)}},_changeYear:function(b){if(b){b.stopDefault()}var a=b.element.id;this.oCalendar.draw(a,null);this.weSelectboxContent.hide()},_hideCalender:function(a){jindo.$Fn(this._closeCalenderByPosition,this).detach(jindo.$("wrap"),"click");this.weSelectboxContent.hide();this.weCalendarLayer.hide()},_choiceDate:function(){this.eChoiceDate.innerHTML=this.tChoiceDateTemplate.process({year1:this.sDate.charAt(0),year2:this.sDate.charAt(1),year3:this.sDate.charAt(2),year4:this.sDate.charAt(3),month1:this.sDate.charAt(4),month2:this.sDate.charAt(5),day1:this.sDate.charAt(6),day2:this.sDate.charAt(7)})},_go:function(d){var b=jindo.$Element(d.element).text();var c=this.oCalendar.getShownDate();c.nDate=b;if(jindo.Calendar.isFuture(c,this.oCalendar.getToday())){return}var f=c.nYear.toString();var a=c.nMonth.toString();var e=b.toString();if(Number(a)<10){a="0"+a}if(Number(e)<10){e="0"+e}document.location.href="/main/tvgallery/replay.naver?sid="+this.sSid+"&date="+f+a+e},_goToday:function(a){if(a){a.stopDefault()}var b=this._getTodayDate();document.location.href="/main/tvgallery/replay.naver?sid="+this.sSid+"&date="+b},_goPrevDate:function(c){if(c){c.stopDefault()}var f=jindo.$Element(c.currentElement);if(f.className().indexOf("off")>0){return}var b=jindo.Calendar.getRelativeDate(0,0,-1,this.oCalendar.getDate());var d=jindo.$Element(c.element).text();var e=b.nYear.toString();var a=b.nMonth.toString();var d=b.nDate.toString();if(Number(a)<10){a="0"+a}if(Number(d)<10){d="0"+d}document.location.href="/main/tvgallery/replay.naver?sid="+this.sSid+"&date="+e+a+d},_goNextDate:function(d){if(d){d.stopDefault()}var c=jindo.$Element(d.currentElement);if(c.className().indexOf("off")>0){return}var b=jindo.Calendar.getRelativeDate(0,0,1,this.oCalendar.getDate());var e=jindo.$Element(d.element).text();var f=b.nYear.toString();var a=b.nMonth.toString();var e=b.nDate.toString();if(Number(a)<10){a="0"+a}if(Number(e)<10){e="0"+e}document.location.href="/main/tvgallery/replay.naver?sid="+this.sSid+"&date="+f+a+e},_getTodayDate:function(){oDateMap=this.oCalendar.getToday();var c=oDateMap.nYear.toString();var a=oDateMap.nMonth.toString();if(a<10){a="0"+a}var b=oDateMap.nDate.toString();if(b<10){b="0"+b}return c+a+b}};news.gallery.tv.OnairProgramBoxController={nPageSize:6,nItemWidth:150,oTransition:null,onImageError:function(a){a.src="https://ssl.pstatic.net/static.news/image/news/2012/presidential/noimage_152x86.gif"},init:function(){this._assign();this._attach()},_assign:function(){var a=this;var b=jindo.$$.getSingle(".press");this.elCount=jindo.$$.getSingle(".p_info span.cnt em",b);this.elListUl=jindo.$$.getSingle("div ul.photo_choice",b);this.weListUl=jindo.$Element(this.elListUl);this.elPrevPage=jindo.$$.getSingle("a.btn_prev",b);this.elNextPage=jindo.$$.getSingle("a.btn_next",b);this.wePrevPage=jindo.$Element(this.elPrevPage);this.weNextPage=jindo.$Element(this.elNextPage);this.wePrevPageX=jindo.$Element(jindo.$$.getSingle("span.btn_prev",b));this.weNextPageX=jindo.$Element(jindo.$$.getSingle("span.btn_next",b));if(this.weListUl.child().length>this.nPageSize){this.oTransition=new jindo.Transition();this.oTransition.fps(50).attach("end",function(){a._slideAfter()});this._togglePrevNextPageButton()}},_attach:function(){jindo.$Fn(this._prevPage,this).attach(this.elPrevPage,"click");jindo.$Fn(this._nextPage,this).attach(this.elNextPage,"click")},_getItems:function(){return jindo.$$("li",this.elListUl)},_getItemsCount:function(){return this._getItems().length},_getCurrentPageIndex:function(){var b=this.elListUl.style.left.replace("px","");var a=-b/this.nItemWidth;return a},_isFirstPage:function(){return this._getCurrentPageIndex()===0},_isLastPage:function(){return this._getCurrentPageIndex()>=this._getItemsCount()-this.nPageSize},_moveBy:function(b){var d=this._getCurrentPageIndex();var a=b+d;var c=-this.nItemWidth*a;this.elListUl.style.left=c+"px"},_slideBy:function(b){var c=this._getCurrentPageIndex();var a=b+c;this._slide(c,a)},_slideTo:function(b){var c=this._getCurrentPageIndex();var a=b;this._slide(c,a)},_slide:function(g,a){var c=this;var f=this.oTransition;if(f!=null||f.isPlaying()){return}var d=-this.nItemWidth*g;var b=-this.nItemWidth*a;var e=jindo.Effect.easeOut(b);f.start(500,[[{getter:function(h){return d},setter:function(h,j){c.elListUl.style.left=j+"px"}},{some_action:e}]])},_slideAfter:function(){this._togglePrevNextPageButton()},_prevPage:function(b){if(b){b.stopDefault()}if(this.oTransition==null){return}if(this.oTransition.isPlaying()){return}var c=this._getCurrentPageIndex();var a=c>=this.nPageSize?this.nPageSize:c;this._slideBy(-a)},_nextPage:function(e){if(e){e.stopDefault()}if(this.oTransition==null){return}if(this.oTransition.isPlaying()){return}var d=this.nPageSize;var c=this._getItemsCount();var b=c-1;var g=this._getCurrentPageIndex();var f=g+d;var a=f+d<c?d:c-f;this._slideBy(a)},_go:function(b){if(!b){return}var a=b.href.split("#")[1];this.HH.add(a)},_togglePrevNextPageButton:function(){if(this._isFirstPage()){this.wePrevPage.hide();this.wePrevPageX.show()}else{this.wePrevPage.show();this.wePrevPageX.hide()}if(this._isLastPage()){this.weNextPage.hide();this.weNextPageX.show()}else{this.weNextPage.show();this.weNextPageX.hide()}}};news=news||{};news.gallery=news.gallery||{};news.gallery.live=news.gallery.live||{};news.gallery.live.GalleryManager={elContainer:null,elArticle:null,sId:null,sMenuId:null,sCommentUrl:null,sBaseUrl:null,sRequestUrl:null,commentStaticDomain:"https://ssl.pstatic.net/static.cbox",commentApiDomain:"https://apis.naver.com/commentBox/cbox5",commentTicket:"news",init:function(a){try{this.elContainer=jindo.$$.getSingle("#content div.photo_wrap");this.elArticle=jindo.$$.getSingle("div.photo_list",this.elContainer);this.sMenuId=a.sMenuId;this.sCommentUrl=a.sCommentUrl;this.commentNo=location.search.split("commentNo=")[1]==null?"":location.search.split("commentNo=")[1].split("&")[0];this.sBaseUrl="/main/livegallery/index.naver";this.sRequestUrl="/main/livegallery/onairDetailInfoJson.naver";this.commentStaticDomain=a.commentStaticDomain;this.commentApiDomain=a.commentApiDomain;this.commentTicket=a.commentTicket;this.elLcsLog=jindo.$("ifrLcsLog");news.gallery.live.ArticleController.init(this);news.gallery.live.ListController.init(this)}catch(b){this.callLcsLog();throw b}},callLcsLog:function(){this.elLcsLog.src="/main/livegallery/choice.naver?sectionId="+this.sMenuId}};news.gallery.live.ArticleController={bIsLoaded:false,oAjax:null,oJson:null,nHeaderHeight:133,nTimeoutId:null,tProgramHeadline:jindo.$Template('<img src="https://ssl.pstatic.net/static.news/image/news/2013/press/live_tit_{=officeId}_{=menuId}.png?dummy=2015070917" height="46" alt="{=title}">'),tArticleList:jindo.$Template('<h3 class="pi_h3 tv_pi_h3"><img src="https://ssl.pstatic.net/static.news/image/news/2013/press/live_article_{=program.officeId}_{=program.menuId}.png?2015070917" width="196" height="25" alt="{=program.title}"></h3><ul class="pl_lst">{for idx:item in list}{set differ=""}{if idx==1||idx==2}{set differ=" differ"}{/if}<li class="pl_li{=differ}"><a href="/main/tvgallery/replay.naver?sid={=program.menuId}&date={=item.date}#{=item.officeId}_{=item.articleId}" class="p_link nclicks(liv_{=program.threeLengthClickId}.title)"><strong class="r_ico r_vod_small">동영상</strong><img src="{=item.imgThumbUrl}" width="142" height="81" alt=""><span class="tl_sp">{=item.title}</span><span class="trans_border"></span></a></li>{/for}</ul><a href="/main/tvgallery/replay.naver?sid={=program.menuId}&date={=program.moreDate}" class="more nclicks(liv_{=program.threeLengthClickId}.more)">더보기</a>'),init:function(a){this._assign(a)},_assign:function(a){this.GM=a;var b=this.GM.elContainer;this.elProgramHeadline=jindo.$("press_headline");this.elArticleList=jindo.$("article_list");this.elOnairLive=jindo.$("ifrOnair");this.elOnairNoServiceImg=jindo.$("onairNoServiceImg");this.elComment=jindo.$("ifrComment");this.weArticleVod=jindo.$Element(this.elOnairLive)},request:function(){var c=this.GM;if(!c.sRequestUrl||!c.sId||!c.sMenuId){return}this._stop();this._setScrollTop();this.bIsLoaded=false;var b=c.sRequestUrl+"?tvLiveProgramId="+c.sId+"&menuId="+c.sMenuId;var a=this;this.oAjax=new jindo.$Ajax(b,{onload:function(d){a.oJson=d.json();a._onload()}}).request()},_stop:function(){if(this.oAjax){this.oAjax.abort()}if(this.nTimeoutId){clearTimeout(this.nTimeoutId);this.nTimeoutId=null}},_setScrollTop:function(){var a=this.nHeaderHeight;if(document.body.scrollTop>a){window.scrollTo(0,a)}},_onload:function(){this.oAjax=null;try{this._setOnair();this._setArticleList();this._setSocialComment();this._setMobileRedirectUrl()}catch(a){throw a}finally{this.GM.callLcsLog()}},_setOnair:function(){var a=this;var f=this.oJson.program;if(f==null){return}var d=f.id;var g=f.officeId;var c=f.menuId;var b=f.channelNumber;var e=f.onairStateYn;this.elProgramHeadline.innerHTML=this.tProgramHeadline.process(f);if(e=="Y"){this.nTimeoutId=setTimeout(function(){a.elOnairLive.src="/main/livegallery/onair.naver?channelNumber="+b},500);jindo.$Element(this.elOnairLive).show();jindo.$Element(this.elOnairNoServiceImg).hide()}else{a.elOnairNoServiceImg.src="https://ssl.pstatic.net/static.news/image/news/2013/press/noimg_"+g+"_"+c+".png?2015100517";jindo.$Element(this.elOnairLive).hide();this.elOnairLive.src="";jindo.$Element(this.elOnairNoServiceImg).show()}},_setMobileRedirectUrl:function(){var b=this;var c=jindo.$Element("_footerMobileRedirectLink");if(c){var d=c.attr("href").split("?");var a=d[0]+"?id="+document.location.hash.substring(1);c.attr("href",a)}},_setArticleList:function(){var a=this;var b=this.oJson;if(b==null||b.articleList==null||b.articleList.length==0){this.elArticleList.innerHTML="";return}this.elArticleList.innerHTML=this.tArticleList.process({list:b.articleList,program:b.program})},_setSocialComment:function(){var b=this;var c=this.oJson.program.gno;var a=false;if(jindo.$Cookie().get("NID_SES")!=null&&jindo.$Cookie().get("NID_SES")!=""){a=true}(function(e){window.__htCboxOption=e;var d=document.createElement("script");d.type="text/javascript";d.charset="euc-kr";d.src=e.sDomain+"/js/cbox.core.js?v="+Math.floor(new Date().getTime()/1200000);(document.head||document.getElementsByTagName("head")[0]).appendChild(d)})({sDomain:this.GM.commentStaticDomain,sApiDomain:this.GM.commentApiDomain,bLogin:a,sTicket:this.GM.commentTicket,sTemplateId:"default_event",sObjectId:c,sLikeItId:c,bUseAgo:false,sCategoryId:"",sCategoryImage:"",sGroupId:"",sHelp:"down",sLanguage:"ko",sCountry:"",aFormation:["count","graph","write","notice","list","page"],sGraphTitle:"누가 댓글을 썼을까요? ",sPageType:"more",nPageSize:20,nReplyPageSize:20,sCssId:"news",bByCountry:false,bManager:false,sCommentNo:this.GM.commentNo,sCategoryImage:"",sSort:"new",sCountType:"comment",aExcludeCountry:[],sAreaCodePrefix:"",sAuthType:"naver",sCharset:"euc-kr",bSortCookie:true,bShowReply:location.search.split("showReply=")[1]==null?"":location.search.split("showReply=")[1].split("&")[0],vViewAllHandler:CommentUtils.processViewAllComments,htEventHandler:{loadList:function(e){var g=e.oJson;if(g.success){if(jindo.$Element("articleTitleCommentCount")!=null){var d=g.result.count.comment;var f=jindo.$Element(jindo.$Element("articleTitleCommentCount").query(".lo_txt"));if(f!=null){f.html(changeNumberFormat(d))}}}},loadCreate:function(e){var g=e.oJson;if(g.success){if(jindo.$Element("articleTitleCommentCount")!=null){var d=g.result.count.comment;var f=jindo.$Element(jindo.$Element("articleTitleCommentCount").query(".lo_txt"));if(f!=null){f.html(changeNumberFormat(d))}}}},afterRemove:function(e){var g=e.oJson;if(g.success){if(jindo.$Element("articleTitleCommentCount")!=null){var d=g.result.count.comment;var f=jindo.$Element(jindo.$Element("articleTitleCommentCount").query(".lo_txt"));if(f!=null){f.html(changeNumberFormat(d))}if(d==0&&jindo.$Element("cbox_module").query(".u_cbox_view_comment")){jindo.$Element(jindo.$Element("cbox_module").query(".u_cbox_view_comment")).hide()}}}}},htErrorHandler:{"3003":"고객님께서는 운영원칙에서 제한하고 있는 글을 작성하셨기 때문에 글쓰기를 포함한 일부 활동이 일정 기간 제한되었습니다. 동일 내용 댓글의 반복작성이 확인된 경우 제한기간은 1일이며, 반복이 계속되면 기간이 연장될 수 있습니다.","3004":"고객님께서는 운영원칙에서 제한하고 있는 글을 다수 작성하셨기 때문에 글쓰기를 포함한 일부 활동이 일정 기간 제한되었습니다.","3005":"고객님의 IP는 운영원칙에서 제한하고 있는 글을 작성하셨기 때문에 글쓰기를 포함한 일부 활동이 제한되었습니다.","3006":"고객님께서는 운영원칙에서 제한하고 있는 글을 작성하셨기 때문에 무기한 글쓰기를 포함한 일부 활동이 제한되었습니다.","4004":"해당되는 댓글이 없습니다.","5003":"정상적으로 반영되지 않았습니다. 화면 새로고침 후 다시 시도해 주세요.","5006":"자신의 글에 공감 할 수 없습니다.","5008":"자신의 글에 비공감 할 수 없습니다.","5010":"댓글/답글은 60초 내에 한 개만 등록하실 수 있습니다.","5026":"공감/비공감은 최근 24시간내 50회까지 가능합니다.","5027":"공감/비공감은 10초 내에 한 번만 클릭하실 수 있습니다.","5029":"기사당 허용된 댓글 수 3개를 초과하였습니다. 기사에 작성한 댓글을 삭제 후 다시 작성하실 수 있습니다."},htMessage:{alert:{min_length:"내용을 최소 {0}자 이상 입력해주세요.",max_length:"{0}자까지 입력할 수 있습니다.",login_require:"로그인을 하신 후 이용해 주시기 바랍니다."},template:{duplicate_caution_title:"동일 내용 댓글의 반복 등록이<br>확인되었습니다.",duplicate_caution_cont:"반복 등록이 계속될 경우 운영규정에 따라 <br>서비스 이용이 정지될 수 있습니다.",duplicate_caution_link_title:"운영규정 자세히 알아보기",duplicate_caution_link_address_mobile:"https://m.news.naver.com/ombudsman/index.nhn?mode=rule&open=comment",duplicate_caution_link_address_pc:"https://news.naver.com/main/principle.naver",write_placeholder:"댓글을 입력해주세요",write_long_placeholder:"저작권 등 다른 사람의 권리를 침해하거나 명예를 훼손하는 게시물은 이용약관 및 관련 법률에 의해 제재를 받을 수 있습니다. 건전한 토론문화와 양질의 댓글 문화를 위해, 타인에게 불쾌감을 주는 욕설 또는 특정 계층/민족, 종교 등을 비하하는 단어들은 표시가 제한됩니다.",help_titles:function(){return["댓글이력공개안내","댓글접기기능안내","댓글노출정책"]},help_contents:function(){return["작성자가 삭제한 댓글(작성자 삭제), 운영자가 삭제한 댓글(불법스팸), 다수 사용자들의 요청에 따라 자동으로 접힌 댓글(자동접힘), 그리고 삭제되지 않은 현재 남은 댓글의 수와 이력을 투명하게 제공합니다.","내가 접기요청한 댓글은 내가 보는 화면에서 내용이 접혀 보이지만, 댓글 분류는 현재 댓글로 유지됩니다. 다수 사용자들의 요청이 누적되면 현재 댓글에서 보이지 않고 자동접힘 댓글로 분류됩니다.","호감순은 호감수(공감수에서 일정비율의 비공감수를 뺀 수치)가 많은 댓글입니다. 비정상적인 방법으로 공감수가 증가하거나 타인에게 불쾌감을 주는 경우 제외될 수 있습니다."]},view_all:"댓글 더보기",social_login_message:CommentUtils.socialLoginMessage,user:{header:{help:{title:"뉴스댓글 도움말",content:"댓글목록을 공개한 사용자의 댓글모음이 제공됩니다. 나의 댓글 모음에서 다른 사람에게 공개 또는 비공개 설정을 할 수 있습니다. 제공되는 목록에 삭제댓글/답글은 포함하지 않습니다."}},profile:{title:"뉴스 댓글모음",help:{last:{help_desc:"최근 30일간 작성한 댓글의 정보를 요약해 보여줍니다. 작성대비 본인의 삭제비율<em>(본인삭제율)</em>과 작성글이 받은 피드백 중 공감비율<em>(받은공감률)</em>을 표기합니다. <br/>이때, 받은공감률은 댓글 삭제로 변동된 정보를 반영하지 않습니다.<br/>단, 최근 30일 활동은 댓글모음 개편의 적용 이후(2020.03.19.) 작성한 댓글부터 집계합니다."}}}}},stats:{title:"누가 댓글을 썼을까요?",user_env_title:"어디에서 댓글을 썼을까요?",view:"통계보기",fold:"접기"}},vCommentLinkHandler:CommentUtils.processCommentLanding,fCommentItemHandler:CommentUtils.itemConverter})},_popupOpen:function(b){var a=620;var c=600;if(window.screen.availHeight<a){a=window.screen.availHeight-80}window.open(b,"allcomment","width="+c+",height="+a)}};news.gallery.live.ListController={sCookieName:"onair-program-list",pHashPattern:/#([0-9a-z]*)/,nPageSize:6,nItemWidth:150,hasFirstItem:false,hasLastItem:false,weCurrentItem:null,sChoiceId:null,nIntervalId:null,nInterval:3000,waItemList:null,nListNextMoreCount:0,nListPrevMoreCount:0,oTransition:null,onImageError:function(a){a.src="https://ssl.pstatic.net/static.news/image/news/2012/presidential/noimage_152x86.gif"},init:function(a){this._assign(a);this._attach();this._onLoad()},_assign:function(b){var a=this;this.HH=news.gallery.HashHistory;this.GM=b;this.AC=news.gallery.live.ArticleController;var d=this.GM.elContainer;this.elCount=jindo.$$.getSingle(".p_info span.cnt em",d);var c=jindo.$$.getSingle(".photo_choice_wrap",d);this.elListUl=jindo.$$.getSingle("div ul.photo_choice",c);this.weListUl=jindo.$Element(this.elListUl);this.elPrevPage=jindo.$$.getSingle("a.btn_prev",c);this.elNextPage=jindo.$$.getSingle("a.btn_next",c);this.wePrevPage=jindo.$Element(this.elPrevPage);this.weNextPage=jindo.$Element(this.elNextPage);this.wePrevPageX=jindo.$Element(jindo.$$.getSingle("span.btn_prev",c));this.weNextPageX=jindo.$Element(jindo.$$.getSingle("span.btn_next",c))},_attach:function(){jindo.$Fn(this._prevPage,this).attach(this.elPrevPage,"click");jindo.$Fn(this._nextPage,this).attach(this.elNextPage,"click");jindo.$Fn(this._prev,this).attach(this.elPrev,"click");jindo.$Fn(this._next,this).attach(this.elNext,"click");var a=this;this.weListUl.delegate("click","a.__program",function(b){a._click(b)})},_showProgramList:function(){var e=getCookie(this.sCookieName);if(!!e&&e!=""){var d=e.split(":");var c=d.length-2;while(c>=0){var b=jindo.$$.getSingle("#l_"+d[c],this.elListUl);if(!!b){this.weListUl.prepend("l_"+d[c])}c--}}this.weListUl.show();var a=this;if(this.weListUl.child().length>this.nPageSize){this.oTransition=new jindo.Transition();this.oTransition.fps(50).attach("end",function(){a._slideAfter()})}},_getItems:function(){return jindo.$$("li",this.elListUl)},_getOnairItems:function(){return jindo.$$("li.onairY",this.elListUl)},_getItemsCount:function(){return this._getItems().length},_getCurrentPageIndex:function(){var b=this.elListUl.style.left.replace("px","");var a=-b/this.nItemWidth;return a},_getCurrentItemIndex:function(){var b=this.weCurrentItem.offset().left-this.weListUl.offset().left;var a=b/this.nItemWidth;return a},_isFirstPage:function(){return this._getCurrentPageIndex()===0},_isLastPage:function(){return this._getCurrentPageIndex()>=this._getItemsCount()-this.nPageSize},_hasPrevItem:function(){return !!this.weCurrentItem.prev()},_hasNextItem:function(){return !!this.weCurrentItem.next()},_onLoad:function(){this._showProgramList();if(!this._isValidHash()){var b=this._getOnairItems();var h=getCookie(this.sCookieName);if(!!h&&h!=""){var f=h.split(":");var d=false;if(b.length==0){document.location.hash=f[0]}else{var g=0;while(g<b.length-1&&!d){var e=b[g];var c=e.id.substring(2);if(h.indexOf(c)>-1){document.location.hash=c;d=true}g++}if(!d){var a=Math.floor(Math.random()*b.length);var e=b[a];document.location.hash=e.id.substring(2)}}}else{if(b.length==0){b=this._getItems()}var a=Math.floor(Math.random()*b.length);var e=b[a];document.location.hash=e.id.substring(2)}}else{var c=document.location.hash.substring(1)+":";var h=getCookie(this.sCookieName);if(!h){h=""}else{h=h.replace(c,"")}h=c+h;setCookie(this.sCookieName,h,null,"news.naver.com","/")}this.HH.init(this.choice,this)},_isValidHash:function(){var a=document.location.hash;var b="l_"+a.substring(1);var c=jindo.$(b);if(!this.pHashPattern.test(a)||!c){return false}else{return true}},_moveBy:function(b){var d=this._getCurrentPageIndex();var a=b+d;var c=-this.nItemWidth*a;this.elListUl.style.left=c+"px"},_slideBy:function(b){var c=this._getCurrentPageIndex();var a=b+c;this._slide(c,a)},_slideTo:function(b){var c=this._getCurrentPageIndex();var a=b;this._slide(c,a)},_slide:function(g,a){var c=this;var f=this.oTransition;if(f==null){return}if(f.isPlaying()){return}var d=-this.nItemWidth*g;var b=-this.nItemWidth*a;var e=jindo.Effect.easeOut(b);f.start(500,[[{getter:function(h){return d},setter:function(h,j){c.elListUl.style.left=j+"px"}},{some_action:e}]])},_slideAfter:function(){this._togglePrevNextPageButton()},_prevPage:function(b){if(b){b.stopDefault()}if(this.oTransition.isPlaying()){return}var c=this._getCurrentPageIndex();var a=c>=this.nPageSize?this.nPageSize:c;this._slideBy(-a)},_nextPage:function(e){if(e){e.stopDefault()}if(this.oTransition.isPlaying()){return}var d=this.nPageSize;var c=this._getItemsCount();var b=c-1;var g=this._getCurrentPageIndex();var f=g+d;var a=f+d<c?d:c-f;this._slideBy(a)},_go:function(b){if(!b){return}var a=b.href.split("#")[1];this.HH.add(a)},_prev:function(c){c.stopDefault();var b=this.weCurrentItem.prev();if(!b){b=this.wePrevItem}var a=b.first().$value();this._go(a)},_next:function(c){if(c){c.stopDefault()}var b=this.weCurrentItem.next();if(!b){b=this.weNextItem}var a=b.first().$value();this._go(a)},_click:function(c){var a=jindo.$Element(c.element);var b=a.attr("href").replace("#","")+":";var d=getCookie(this.sCookieName);if(!d){d=""}else{d=d.replace(b,"")}d=b+d;setCookie(this.sCookieName,d,null,"news.naver.com","/");if(this.oTransition!=null&&this.oTransition.isPlaying()){return}this.AC._stop();this._go(c.element)},choice:function(){if(!this._isValidHash()){return}var b=this.GM.sHash;var a=document.location.hash;if(b==a){return}this._removeHighlight();this._setCurrentItemInfo();this._addHighight();this._setPage();this.AC.request()},_setCurrentItemInfo:function(){var a=document.location.hash;var c=a.match(this.pHashPattern);var b=c[1];this.GM.sMenuId=b;this.GM.sHash=a;this.sChoiceId="l_"+b;this.weCurrentItem=jindo.$Element(this.sChoiceId);this.GM.sId=this.weCurrentItem.attr("_i");this.wePrevItem=this.weCurrentItem.prev();this.weNextItem=this.weCurrentItem.next()},_setPage:function(){var c=this._getCurrentItemIndex();var b=this._getItemsCount()-this.nPageSize+1;var a;if(c<=2){a=0}else{if(c>b){a=this._getItemsCount()-this.nPageSize}else{a=c-2}}var d=this.oTransition;if(d==null){return}if(d.isPlaying()){d.abort()}this._slideTo(a)},_removeHighlight:function(){var a=this.weCurrentItem;if(!a){return}a.removeClass("on")},_addHighight:function(){var a=this.weCurrentItem;if(!a){return}a.addClass("on")},_togglePrevNextPageButton:function(){if(this._isFirstPage()){this.wePrevPage.hide();this.wePrevPageX.show()}else{this.wePrevPage.show();this.wePrevPageX.hide()}if(this._isLastPage()){this.weNextPage.hide();this.weNextPageX.show()}else{this.weNextPage.show();this.weNextPageX.hide()}}};news=news||{};news.gallery=news.gallery||{};news.gallery.replay=news.gallery.replay||{};news.gallery.replay.GalleryManager={elContainer:null,elArticle:null,sMode:null,sSid1:null,sSid2:null,sSid:null,sDate:null,sOid:null,sAid:null,sLikePluginDomain:null,init:function(f){this.elContainer=jindo.$$.getSingle("#content div.photo_wrap");this.elArticle=jindo.$$.getSingle("div.photo_article",this.elContainer);var b=this.sMode=f.sMode;var h=this.sOid=f.sOid;var e=this.sSid1=f.sSid1;var d=this.sSid2=f.sSid2;var c=this.sSid=f.sSid;var g=this.sDate=f.sDate;var a=this.sClickId=f.sClickId;this.sLikePluginDomain=f.sLikePluginDomain;this.sBaseUrl="/main/tvgallery/list.naver?";this.sArticleRequestUrl="/main/tvgallery/item.naver?mode="+b;this.sArticleBaseUrl="/main/read.naver?mode=LSD&mid=tvh&sid2="+c;news.gallery.replay.CalendarManager.init(c,g);news.gallery.replay.ReplayProgramSelectController.init();news.gallery.replay.OnairProgramBoxController.init();if(this.elArticle){news.gallery.replay.ArticleController.init(this);news.gallery.replay.ListController.init(this);return this}else{return false}},callback:function(a){news.gallery.replay.ListController.callback(a)}};news.gallery.replay.ArticleController={bIsLoaded:false,oAjax:null,oJson:null,nHeaderHeight:133,nImageHeight:null,nTopMax:null,nScrollMargin:120,nTimeoutId:null,nIframeCheckCount:0,tArticleDate:jindo.$Template('{=officeName}<span class="bar"></span> 기사입력 <span class="pi_num">{js changeDotDateFormat(=createDate)}</span>{if createDate != modifyDate}<span class="bar"></span> 최종수정 <span class="pi_num">{js changeDotDateFormat(=modifyDate)}</span>{/if} <a href="{=href}" class="pi_btn nclicks(rep_{=clickId}.img) NCR-ASYNC _href" target="_blank"><em><span class="lo_txt">기사본문</span><span class="lo_ico"></span></em></a> <a href="#" class="pi_btn pi_btn_count nclicks(rep_{=clickId}.comment) NCR-ASYNC" target="_blank" id="article_comment"><em><span class="lo_txt" id="article_comment_count">0</span><span class="lo_ico"></span></em></a>'),init:function(a){this._assign(a);this._attach()},_assign:function(a){this.GM=a;var b=this.GM.elContainer;this.elPhotoOuter=jindo.$$.getSingle(".photo_viewer_outer",b);this.elPhotoViewer=jindo.$$.getSingle(".photo_viewer_wrap",this.elPhotoOuter);this.elArticleTitle=jindo.$("article_title");this.elArticleDate=jindo.$("article_date");this.elArticleVod=jindo.$("article_vod");this.elArticleContent=jindo.$("article_content");this.wePhotoOuter=jindo.$Element(this.elPhotoOuter);this.wePhotoViewer=jindo.$Element(this.elPhotoViewer);this.waButton=jindo.$A(jindo.$$(".ico",this.elPhotoViewer));this.weArticleVod=jindo.$Element(this.elArticleVod);if(!!this.elArticleVod){this.nTopMax=this.elArticleVod.height-jindo.$Element(this.waButton.get(0)).height()-this.nScrollMargin}else{this.nTopMax=0}},_attach:function(){jindo.$Fn(this._scroll,this).attach(window,"scroll");jindo.$Fn(this._onloadIframe,this).attach(this.elArticleVod,"load")},_scroll:function(){var b=jindo.$Document().scrollPosition().top;var a=this.nScrollMargin;if(b>this.nHeaderHeight){a+=(b-this.nHeaderHeight);if(a>this.nTopMax){a=this.nTopMax}}this._setButtonTop(a)},_setButtonTop:function(a){this.waButton.forEach(function(c,b,d){c.style.top=a+"px"})},request:function(){var c=this.GM;if(!c.sArticleRequestUrl||!c.sOid||!c.sAid){return}this._stop();this.bIsLoaded=false;var b=c.sArticleRequestUrl+"&oid="+c.sOid+"&aid="+c.sAid;var a=this;this.oAjax=new jindo.$Ajax(b,{onload:function(d){a.oJson=d.json();a._onload()}}).request()},_stop:function(){if(this.oAjax){this.oAjax.abort()}if(this.nTimeoutId){clearTimeout(this.nTimeoutId);this.nTimeoutId=null}},_setScrollTop:function(){var a=this.nHeaderHeight;if(document.body.scrollTop>a){window.scrollTo(0,a)}},_onload:function(){this.oAjax=null;try{this._detachArticleClick();this._detachSocialPlugin();this._setArticle();this._attachSocialPlugin();this._attachArticleClick();news.gallery.likeEmotion.update(this.GM.sLikePluginDomain,this.GM.sOid,this.GM.sAid);news.gallery.toMainRecommend.init({oid:this.GM.sOid,aid:this.GM.sAid,templateType:this.oJson.mainRecommendTemplateType})}catch(a){throw a}finally{lcs_do()}},_attachSocialPlugin:function(){if(window.__splugin){window.__splugin.init()}},_detachSocialPlugin:function(){if(window.__splugin){window.__splugin.kill()}},_attachArticleClick:function(){var a=this._getArticleLinks();jindo.$Fn(this._clickArticle,this).attach(a,"click")},_detachArticleClick:function(){var a=this._getArticleLinks();jindo.$Fn(this._clickArticle,this).detach(a,"click")},_clickArticle:function(a){try{if(this.oPlayer){this.oPlayer.stop()}}catch(b){}},_getArticleLinks:function(){return jindo.$$(".tv_article a._href",this.elContainer)},_setArticle:function(){var k=this;var h=this.oJson;var f=this.GM.sSid1;var r=this.GM.sCid;var a=jindo.$Element("l_"+document.location.hash.substring(1)).attr("_i");var g=h.oid;var n=h.aid;var d=h.type;var p=h.iframeVodSrc;var o=h.foreignIP;this.sOid=g;this.sAid=n;var u=this.GM.sArticleBaseUrl;if(a){u+="&iid="+a}u+="&oid="+g+"&aid="+n;if(!!this.GM.sClickId){h.clickId=this.GM.sClickId}this.elArticleTitle.innerHTML=h.title;this.elArticleDate.innerHTML=this.tArticleDate.process(h);this.elArticleContent.innerHTML=h.content;if(o){if(k.oPlayer){k.oPlayer.stop()}alert("본 동영상은 저작권자인 언론사의 요청에 따라\n국내에서만 재생할 수 있습니다.\n해외에서는 재생되지 않는 점 양해 부탁 드립니다.");return}this.nTimeoutId=setTimeout(function(){var e=h.videoInfo;if(k.oPlayer&&e){k.oPlayer.updatePlayInfo({vid:e.videoId,inKey:e.inKey,isShowAd:false,isAutoStart:true});k.oPlayer.getElement().playNewVideo({playapi:k.oPlayer.getPlayAPIUrl(),coverImageURL:e.coverImageURL});return}if(d=="2"){k.elArticleVod.src="/main/readVod.naver?width=780&height=476&callbackHandler=parent.news.gallery.replay.GalleryManager.callback&oid="+h.oid+"&aid="+h.aid}else{k.elArticleVod.src=p}},500);var s=this._getArticleLinks();for(var q=0;q<s.length;q++){var b=s[q];b.href=u}var m;try{var l=jindo.$Json(h.commentCount).toObject();m=l.result.comment}catch(t){m=0}jindo.$("article_comment_count").innerHTML=m;var c=u+"&m_view=1&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews"+g+"%2C"+n;var j=jindo.$("article_comment");if(j){j.href=c}htInitData.title=jindo.$S(h.title).unescapeHTML().$value();htInitData.url=news.gallery.htConf.sContextPath+"/read.naver?mode=LSD&mid=sec&sid1=001&oid="+g+"&aid="+n;htInitData.serviceName="뉴스";htInitData.sourceName=h.officeName;htInitData.mail.srvUrl=news.gallery.htConf.sContextPath+"/tool/mailContents.naver?oid="+g+"&aid="+n;htInitData.blog.sourceTitle="";htInitData.cafe.sourceTitle=""},_onloadIframe:function(){var a=this;this.nPlayerTimeoutId=setTimeout(function(){try{if(window.frames.article_vod&&window.frames.article_vod.window&&window.frames.article_vod.window.rmcPlayer){a.oPlayer=window.frames.article_vod.window.rmcPlayer;a.nIframeCheckCount=0;return}}catch(b){}if(!a.oPlayer&&a.nIframeCheckCount<5){clearTimeout(a.nPlayerTimeoutId);a.nIframeCheckCount=a.nIframeCheckCount+1;a._onloadIframe()}},500)}};news.gallery.replay.ListController={pHashPattern:/#(\d{3})_(\d{10})/,nPageSize:7,nItemWidth:143,hasFirstItem:false,hasLastItem:false,weCurrentItem:null,sChoiceId:null,nIntervalId:null,nInterval:3000,waItemList:null,nListNextMoreCount:0,nListPrevMoreCount:0,oTransition:null,bAutoPlayOn:false,onImageError:function(a){a.src="https://ssl.pstatic.net/static.news/image/news/2012/presidential/noimage_152x86.gif"},init:function(a){this._assign(a);this._attach();this._initCookieInfo();this._onLoad()},_assign:function(c){var a=this;this.HH=news.gallery.HashHistory;this.GM=c;this.AC=news.gallery.replay.ArticleController;var h=this.GM.elContainer;var b=jindo.$Element(jindo.$$.getSingle(".p_info span.ico_tvtoggle",h));this.welAutoPlayTitle=b.first();this.welAutoPlayLabel=b.last();var g=jindo.$$.getSingle(".tv_choice_wrap",h);this.elListUl=jindo.$$.getSingle("div ul.tv_choice",g);this.weListUl=jindo.$Element(this.elListUl);this.elPrevPage=jindo.$$.getSingle("a.btn_prev",g);this.elNextPage=jindo.$$.getSingle("a.btn_next",g);this.wePrevPage=jindo.$Element(this.elPrevPage);this.weNextPage=jindo.$Element(this.elNextPage);this.wePrevPageX=jindo.$Element(jindo.$$.getSingle("span.btn_prev",g));this.weNextPageX=jindo.$Element(jindo.$$.getSingle("span.btn_next",g));var d=this.AC.elPhotoViewer;this.wePrevX=jindo.$Element(jindo.$$.getSingle("span.btn_prev",d));this.weNextX=jindo.$Element(jindo.$$.getSingle("span.btn_next",d));this.elPrev=jindo.$$.getSingle("a.btn_prev",d);this.elNext=jindo.$$.getSingle("a.btn_next",d);this.wePrev=jindo.$Element(this.elPrev);this.weNext=jindo.$Element(this.elNext);this.oTransition=new jindo.Transition();try{this.oTransition.fps(50).attach("end",function(){a._slideAfter()})}catch(f){}this._oCookie=jindo.$Cookie()},_attach:function(){jindo.$Fn(this._toggleAutoPlay,this).attach(this.welAutoPlayTitle,"click");jindo.$Fn(this._prevPage,this).attach(this.elPrevPage,"click");jindo.$Fn(this._nextPage,this).attach(this.elNextPage,"click");jindo.$Fn(this._prev,this).attach(this.elPrev,"click");jindo.$Fn(this._next,this).attach(this.elNext,"click");var a=this;if(!!this.weListUl){this.weListUl.delegate("click","a",function(b){a._click(b)})}},_initCookieInfo:function(){var a=this._oCookie.get("tvgallery_autoplay");if("Y"==a){this.bAutoPlayOn=true;this._setAutoPlayInfo()}},_getItems:function(){return jindo.$$("li",this.elListUl)},_getItemsCount:function(){return this._getItems().length},_getCurrentPageIndex:function(){var b=this.elListUl.style.left.replace("px","");var a=-b/this.nItemWidth;return a},_getCurrentItemIndex:function(){var b=this.weCurrentItem.offset().left-this.weListUl.offset().left;var a=b/this.nItemWidth;return a},_isFirstPage:function(){return this._getCurrentPageIndex()===0},_isLastPage:function(){return this._getCurrentPageIndex()>=this._getItemsCount()-this.nPageSize},_hasPrevItem:function(){return !!this.weCurrentItem.prev()},_hasNextItem:function(){return !!this.weCurrentItem.next()},_onLoad:function(){if(!this._isValidHash()){var a=this._getItems()[0];document.location.hash=a.id.substring(2)}this.HH.init(this.choice,this)},_isValidHash:function(){var a=document.location.hash;var b="l_"+a.substring(1);var c=jindo.$(b);if(!this.pHashPattern.test(a)||!c){return false}else{return true}},_reset:function(){document.location=this.GM.sBaseUrl},_moveBy:function(b){var d=this._getCurrentPageIndex();var a=b+d;var c=-this.nItemWidth*a;this.elListUl.style.left=c+"px"},_slideBy:function(b){var c=this._getCurrentPageIndex();var a=b+c;this._slide(c,a)},_slideTo:function(b){var c=this._getCurrentPageIndex();var a=b;this._slide(c,a)},_slide:function(g,a){var c=this;var f=this.oTransition;if(f.isPlaying()){return}var d=-this.nItemWidth*g;var b=-this.nItemWidth*a;var e=jindo.Effect.easeOut(b);f.start(500,[[{getter:function(h){return d},setter:function(h,j){if(c&&c.elListUl){if(false===isNaN(j)){c.elListUl.style.left=j+"px"}else{c.elListUl.style.left=0+"px"}}}},{some_action:e}]])},_slideAfter:function(){this._togglePrevNextPageButton()},callback:function(a){if(this.bAutoPlayOn&&a=="ad_complete"){this._next()}},_toggleAutoPlay:function(a){if(a){a.stopDefault()}if(this.bAutoPlayOn){this.bAutoPlayOn=false}else{this.bAutoPlayOn=true}this._setAutoPlayInfo()},_setAutoPlayInfo:function(){var a=this.welAutoPlayTitle.attr("title");if(this.bAutoPlayOn){this.welAutoPlayTitle.addClass("checkbox-checked");this.welAutoPlayTitle.attr("title",a.replace("시작","종료"));this.welAutoPlayLabel.html("ON");this._oCookie.set("tvgallery_autoplay","Y",1)}else{this.welAutoPlayTitle.removeClass("checkbox-checked");this.welAutoPlayTitle.attr("title",a.replace("종료","시작"));this.welAutoPlayLabel.html("OFF");this._oCookie.remove("tvgallery_autoplay")}},_prevPage:function(b){if(b){b.stopDefault()}if(this.oTransition.isPlaying()){return}var c=this._getCurrentPageIndex();var a=c>=this.nPageSize?this.nPageSize:c;this._slideBy(-a)},_nextPage:function(e){if(e){e.stopDefault()}if(this.oTransition.isPlaying()){return}var d=this.nPageSize;var c=this._getItemsCount();var b=c-1;var g=this._getCurrentPageIndex();var f=g+d;var a=f+d<c?d:c-f;this._slideBy(a)},_go:function(b){if(!b){return}var a=b.href.split("#")[1];this.HH.add(a)},_prev:function(c){c.stopDefault();var b=this.weCurrentItem.prev();if(!b){b=this.wePrevItem}var a=b.first().$value();this._go(a)},_next:function(c){if(c){c.stopDefault()}var b=this.weCurrentItem.next();if(!b){b=this.weNextItem}if(!b){return}var a=b.first().$value();this._go(a)},_click:function(a){a.stopDefault();if(this.oTransition.isPlaying()){return}this.AC._stop();this._go(a.element)},choice:function(){if(!this._isValidHash()){return}var b=this.GM.sHash;var a=document.location.hash;if(b==a){return}this._removeHighlight();this._setCurrentItemInfo();this._addHighight();this._setPage();this._togglePrevNextButton();this.AC.request()},_setCurrentItemInfo:function(){var a=document.location.hash;var c=a.match(this.pHashPattern);var b=c[1];var d=c[2];this.GM.sOid=b;this.GM.sAid=d;this.GM.sHash=a;this.sChoiceId="l_"+b+"_"+d;this.weCurrentItem=jindo.$Element(this.sChoiceId);this.wePrevItem=this.weCurrentItem.prev();this.weNextItem=this.weCurrentItem.next()},_setPage:function(){var e=this._getItemsCount();if(e<=this.nPageSize){return}var c=this._getCurrentItemIndex();var b=e-this.nPageSize+1;var a;if(c<=2){a=0}else{if(c>b){a=e-this.nPageSize}else{a=c-3}}var d=this.oTransition;if(d.isPlaying()){d.abort()}this._slideTo(a)},_removeHighlight:function(){var a=this.weCurrentItem;if(!a){return}a.removeClass("on");a.first().last().leave()},_addHighight:function(){var a=this.weCurrentItem;if(!a){return}a.first().appendHTML('<span class="mask"></span>');a.addClass("on")},_togglePrevNextPageButton:function(){if(this._isFirstPage()){this.wePrevPage.hide();this.wePrevPageX.show()}else{this.wePrevPage.show();this.wePrevPageX.hide()}if(this._isLastPage()){this.weNextPage.hide();this.weNextPageX.show()}else{this.weNextPage.show();this.weNextPageX.hide()}},_togglePrevNextButton:function(){if(!this._hasPrevItem()){this.wePrev.hide();this.wePrevX.show()}else{this.wePrev.show();this.wePrevX.hide()}if(!this._hasNextItem()){this.weNext.hide();this.weNextX.show()}else{this.weNext.show();this.weNextX.hide()}}};news.gallery.replay.CalendarManager={oStartDate:{nYear:2013,nMonth:1,nDate:1},init:function(a,b){this.sSid=a;this.sDate=b;this.eContainer=jindo.$("calendarDate");this.eChoiceDate=jindo.$("choice_date");this.eNowDate=jindo.$("nowDate");this.ePrevDate=jindo.$("prev_date");this.eNextDate=jindo.$("next_date");this.oSelectedDate={nYear:parseInt(this.sDate.substr(0,4)),nMonth:parseInt(this.sDate.substr(4,2),10),nDate:parseInt(this.sDate.substr(6,2),10)};this._choiceDate();this._attach();this._initCalendar();this._initPrevNextDateButton()},_attach:function(){jindo.$Fn(this._goToday,this).attach(this.eNowDate,"click");jindo.$Fn(this._goPrevDate,this).attach(this.ePrevDate,"click");jindo.$Fn(this._goNextDate,this).attach(this.eNextDate,"click")},_initCalendar:function(){var b=jindo.$Date();var a=b.format("Y/m/d");new news.util.Calendar({buttonId:"openLink_history",url:"/main/tvgallery/replay.naver?sid="+this.sSid+"&date=",selectedDate:this._getDateFormat(this.oSelectedDate,"Y/m/d"),minDate:this._getDateFormat(this.oStartDate,"Y/m/d"),maxDate:a})},_initPrevNextDateButton:function(){if(jindo.Calendar.isSameDate(this.oSelectedDate,this.oStartDate)){jindo.$Element(this.ePrevDate).removeClass("pre");jindo.$Element(this.ePrevDate).addClass("pre_off")}if(jindo.Calendar.isSameDate(jindo.Calendar.getToday(),this.oSelectedDate)){jindo.$Element(this.eNextDate).removeClass("next");jindo.$Element(this.eNextDate).addClass("next_off")}},_getDateFormat:function(b,a){var b=jindo.$Date(b.nYear,b.nMonth-1,b.nDate);return b.format(a)},_choiceDate:function(){this.eChoiceDate.innerHTML=this.eChoiceDate.innerHTML=this.oSelectedDate.nYear+"."+this.oSelectedDate.nMonth+"."+this.oSelectedDate.nDate+"."},_goToday:function(c){if(c){c.stopDefault()}var b=jindo.$Date();var a=b.format("Ymd");document.location.href="/main/tvgallery/replay.naver?sid="+this.sSid+"&date="+a},_goPrevDate:function(b){if(b){b.stopDefault()}var d=jindo.$Element(b.currentElement);if(d.hasClass("pre_off")){return}var a=jindo.Calendar.getRelativeDate(0,0,-1,this.oSelectedDate);var c=this._getDateFormat(a,"Ymd");document.location.href="/main/tvgallery/replay.naver?sid="+this.sSid+"&date="+c},_goNextDate:function(c){if(c){c.stopDefault()}var b=jindo.$Element(c.currentElement);if(b.hasClass("next_off")){return}var a=jindo.Calendar.getRelativeDate(0,0,1,this.oSelectedDate);var d=this._getDateFormat(a,"Ymd");document.location.href="/main/tvgallery/replay.naver?sid="+this.sSid+"&date="+d}};news.gallery.replay.ReplayProgramSelectController={sCookieName:"replay-program-list",init:function(){var a=jindo.$$.getSingle(".options");this.elHeadline=jindo.$$.getSingle("a._href",a);this.elListUl=jindo.$$.getSingle("div.options_layer_inner ul",a);this.weListUl=jindo.$Element(this.elListUl);this._attach();this.show()},_attach:function(){var a=this;jindo.$Fn(this.selectProgram,this).attach(this.elHeadline,"click");this.weListUl.delegate("click","a",function(b){a.go(b)})},selectProgram:function(a){if(a){a.stopDefault()}jindo.$Element(jindo.$$.getSingle(".options_layer",jindo.$$.getSingle(".options"))).toggle()},show:function(){var d=getCookie(this.sCookieName);if(!!d&&d!=""){var c=d.split(":");var b=c.length-2;while(b>=0){var a=jindo.$$.getSingle("#program"+c[b],this.elListUl);if(!!a){this.weListUl.prepend("program"+c[b])}b--}}this.weListUl.show()},go:function(c){if(c&&c.element){var a=jindo.$Element(c.element.parentNode);var b=a.attr("id").replace("program","")+":";var d=getCookie(this.sCookieName);if(!d){d=""}else{d=d.replace(b,"")}d=b+d;setCookie(this.sCookieName,d,null,"news.naver.com","/")}}};news.gallery.replay.OnairProgramBoxController={sCookieName:"onair-program-list",nPageSize:6,nItemWidth:150,oTransition:null,onImageError:function(a){a.src="https://ssl.pstatic.net/static.news/image/news/2012/presidential/noimage_152x86.gif"},init:function(){if(null===jindo.$$.getSingle(".press")){return}this._assign();this._showOnairProgramList();this._attach()},_assign:function(){var a=jindo.$$.getSingle(".press");this.elListUl=jindo.$$.getSingle("div ul.photo_choice",a);this.weListUl=jindo.$Element(this.elListUl);this.elPrevPage=jindo.$$.getSingle("a.btn_prev",a);this.elNextPage=jindo.$$.getSingle("a.btn_next",a);this.wePrevPage=jindo.$Element(this.elPrevPage);this.weNextPage=jindo.$Element(this.elNextPage);this.wePrevPageX=jindo.$Element(jindo.$$.getSingle("span.btn_prev",a));this.weNextPageX=jindo.$Element(jindo.$$.getSingle("span.btn_next",a))},_showOnairProgramList:function(){var e=getCookie(this.sCookieName);if(!!e&&e!=""){var d=e.split(":");var c=d.length-2;while(c>=0){var b=jindo.$$.getSingle("l_"+d[c],this.elListUl);if(!!b){this.weListUl.prepend("l_"+d[c])}c--}}this.weListUl.show();var a=this;if(this.weListUl.child().length>this.nPageSize){this.oTransition=new jindo.Transition();this.oTransition.fps(50).attach("end",function(){a._slideAfter()});this._togglePrevNextPageButton()}},_attach:function(){jindo.$Fn(this._prevPage,this).attach(this.elPrevPage,"click");jindo.$Fn(this._nextPage,this).attach(this.elNextPage,"click")},_getItems:function(){return jindo.$$("li",this.elListUl)},_getItemsCount:function(){return this._getItems().length},_getCurrentPageIndex:function(){var b=this.elListUl.style.left.replace("px","");var a=-b/this.nItemWidth;return a},_isFirstPage:function(){return this._getCurrentPageIndex()===0},_isLastPage:function(){return this._getCurrentPageIndex()>=this._getItemsCount()-this.nPageSize},_moveBy:function(b){var d=this._getCurrentPageIndex();var a=b+d;var c=-this.nItemWidth*a;this.elListUl.style.left=c+"px"},_slideBy:function(b){var c=this._getCurrentPageIndex();var a=b+c;this._slide(c,a)},_slideTo:function(b){var c=this._getCurrentPageIndex();var a=b;this._slide(c,a)},_slide:function(g,a){var c=this;var f=this.oTransition;if(f!=null||f.isPlaying()){return}var d=-this.nItemWidth*g;var b=-this.nItemWidth*a;var e=jindo.Effect.easeOut(b);f.start(500,[[{getter:function(h){return d},setter:function(h,j){if(c.elListUl){if(false===isNaN(j)){c.elListUl.style.left=j+"px"}else{c.elListUl.style.left=0+"px"}}}},{some_action:e}]])},_slideAfter:function(){this._togglePrevNextPageButton()},_prevPage:function(b){if(b){b.stopDefault()}if(this.oTransition==null){return}if(this.oTransition.isPlaying()){return}var c=this._getCurrentPageIndex();var a=c>=this.nPageSize?this.nPageSize:c;this._slideBy(-a)},_nextPage:function(e){if(e){e.stopDefault()}if(this.oTransition==null){return}if(this.oTransition.isPlaying()){return}var d=this.nPageSize;var c=this._getItemsCount();var b=c-1;var g=this._getCurrentPageIndex();var f=g+d;var a=f+d<c?d:c-f;this._slideBy(a)},_go:function(b){if(!b){return}var a=b.href.split("#")[1];this.HH.add(a)},_togglePrevNextPageButton:function(){if(this._isFirstPage()){this.wePrevPage.hide();this.wePrevPageX.show()}else{this.wePrevPage.show();this.wePrevPageX.hide()}if(this._isLastPage()){this.weNextPage.hide();this.weNextPageX.show()}else{this.weNextPage.show();this.weNextPageX.hide()}}};if(typeof news=="undefined"){news={}}if(typeof news.search=="undefined"){news.search={}}news.search.PowerSearchController={init:function(){var d=this;this.parentMap=jindo.$H();this.childrenListMap=jindo.$H();var g=jindo.$("search.category0");var h=jindo.$A();var c=[];var a=jindo.$A(jindo.$$(".select_press"));a.forEach(function(q,n,r){var p=jindo.$$("input",q);var m=p[0];var o=p.slice(1);var l=jindo.$A(o);h.push(m);d.parentMap.$(m.id,g.id);d.childrenListMap.$(m.id,l);l.forEach(function(t,s,u){d.parentMap.$(t.id,m.id)})});this.childrenListMap.$(g.id,h);var j=jindo.$$(".detail_search input");jindo.$Fn(this.toggleParent,this).attach(j,"click");jindo.$Fn(this.toggleChildren,this).attach(j,"click");var e=jindo.$$(".select_press2 input");var f=e[0];var k=e.slice(1);var b=jindo.$A(k);this.childrenListMap.$(f.id,b);b.forEach(function(m,l,n){d.parentMap.$(m.id,f.id)});jindo.$Fn(this.toggleParent,this).attach(e,"click");jindo.$Fn(this.toggleChildren,this).attach(e,"click")},toggleParent:function(a){this._changeParent(a.element)},toggleChildren:function(a){this._changeChildren(a.element)},_changeParent:function(a){var c=this;var d=this.parentMap;var f=a.id;if(d.hasKey(f)){var e=d.$(f);var b=jindo.$(e);if(this._isCheckedChildren(e)){b.checked=true}else{b.checked=false}if(d.hasKey(e)){this._changeParent(b)}}},_isCheckedChildren:function(b){var a=this.childrenListMap.$(b);return a.every(function(d,c,e){return d.checked})},_changeChildren:function(a){var c=this;var d=this.childrenListMap;var f=a.id;var b=a.checked;if(d.hasKey(f)){var e=d.$(f);e.forEach(function(h,g,k){h.checked=b;var j=h.id;if(d.hasKey(j)){c._changeChildren(h)}})}}};if(typeof news=="undefined"){news={}}if(typeof news.scrap=="undefined"){news.scrap={}}news.scrap.ScrapController={init:function(b){this.groupId=b;var a=jindo.$$.getSingle("div.snb a.snb_s96");jindo.$Fn(this.openFolderConfig,this).attach(a,"click")},initList:function(g){var f=this;this.init(g);this.folderAllButtons=jindo.$A(jindo.$$("fieldset.folder_control input.check"));jindo.$Fn(this.toggleAll,this).attach(this.folderAllButtons,"click");this.articleButtons=jindo.$A(jindo.$$("div.myscrap_list input[type=checkbox]"));jindo.$Fn(this.checkArticle,this).attach(this.articleButtons,"click");var e=jindo.$A(jindo.$$("fieldset.folder_control span.fl img"));if(this.groupId){var d=new jindo.SelectBox(jindo.$("selectbox_01_related"),{sClassPrefix:"myscrap_select-"});var b=new jindo.SelectBox(jindo.$("selectbox_02_related"),{sClassPrefix:"myscrap_select-"});d.attach("change",jindo.$Fn(this._syncReadGroupSelectBox).bind(b));b.attach("change",jindo.$Fn(this._syncReadGroupSelectBox).bind(d));this.moveButtons=e.forEach(function(j,h,k){if(h%2==0){jindo.$Fn(f.removeArticles,f).attach(j,"click")}else{jindo.$Fn(f.moveArticles,f).attach(j,"click")}})}else{jindo.$Fn(this.removeArticles,this).attach(e,"click")}var a=jindo.$$("fieldset.footer_search input");jindo.$Fn(this.searchInput,this).attach(a,"keypress");var c=jindo.$$("fieldset.footer_search img");jindo.$Fn(this.search,this).attach(c,"click")},initRead:function(d){this.init(d);var e=jindo.$$("fieldset.folder_control span.fl_end > a");jindo.$Fn(this.copyUrl,this).attach(e,"click");var c=jindo.$A(jindo.$$("fieldset.folder_control div.fr_end input"));if(c.length()>0){var b=new jindo.SelectBox(jindo.$("selectbox_01_related"),{sClassPrefix:"myscrap_select-"});var a=new jindo.SelectBox(jindo.$("selectbox_02_related"),{sClassPrefix:"myscrap_select-"});b.attach("change",jindo.$Fn(this._syncReadGroupSelectBox).bind(a));a.attach("change",jindo.$Fn(this._syncReadGroupSelectBox).bind(b));this.removeButtons=c.filter(function(g,f,h){if(f%2==0){return true}else{return false}});jindo.$Fn(this.remove,this).attach(this.removeButtons,"click");this.moveButtons=c.filter(function(g,f,h){if(f%2==1){return true}else{return false}});jindo.$Fn(this.move,this).attach(this.moveButtons,"click")}},_toggleAllSelect:function(a){this.folderAllButtons.forEach(function(c,b,d){c.checked=a})},_hasArticle:function(){if(this.articleButtons.length()>0){return true}else{return false}},_toggleAllArticle:function(a){this.articleButtons.forEach(function(c,b,d){c.checked=a})},_isCheckedAllArticle:function(){return this.articleButtons.every(function(b,a,c){return b.checked})},_hasCheckedArticle:function(){return this.articleButtons.some(function(b,a,c){return b.checked})},_syncReadGroupSelectBox:function(b,a){b.setSelectedIndex(a.nIndex)},toggleAll:function(b){var a=b.element.checked;this._toggleAllArticle(a);this.folderAllButtons.forEach(function(d,c,e){d.checked=a})},checkArticle:function(a){if(this._isCheckedAllArticle()){this._toggleAllSelect(true)}else{this._toggleAllSelect(false)}},removeArticles:function(a){a.stopDefault();if(!this._hasArticle()){alert("삭제할 기사가 없습니다.")}else{if(!this._hasCheckedArticle()){alert("삭제할 기사를 선택해 주세요.");return}else{this.remove(a)}}},remove:function(a){a.stopDefault();if(confirm("삭제하시겠습니까?")){var c="/main/scrap/deleteItem.naver";var b=jindo.$("updateForm");b.action=c;b.submit()}},moveArticles:function(a){a.stopDefault();var b=jindo.$("selectedbox_01").value;if(!this._hasArticle()){alert("이동할 기사가 없습니다.")}else{if(!this._hasCheckedArticle()){alert("이동할 기사를 선택해 주세요.")}else{if(isNaN(b)){alert("이동할 폴더를 선택해 주세요.")}else{this.move(a)}}}},move:function(a){a.stopDefault();var d=jindo.$("selectedbox_01").value;if(!d||isNaN(d)){alert("이동할 폴더를 선택해 주세요.")}else{if(this.groupId==d){alert("같은 폴더로 이동할 수 없습니다.")}else{var c="/main/scrap/moveItem.naver";var b=jindo.$("updateForm");b.newGroupId.value=d;b.action=c;b.submit()}}},searchInput:function(a){if(a.key().enter){a.stopDefault();this.search()}},search:function(a){var b=jindo.$("searchForm");b.search.value=jindo.$S(b.search.value).trim().$value();if(!b.search.value){alert("검색어를 입력 해 주세요.");b.search.focus();return}b.submit()},copyUrl:function(b){b.stopDefault();var a=jindo.$("search.url");if(!a.createTextRange){alert("지금 사용하고 있는 브라우저에서는 복사하기 기능을 지원하지 않습니다.");return}a.select();a.createTextRange().execCommand("Copy");alert("복사되었습니다.\n\n메신저나 메일에 붙여넣기(Ctrl+V)하여\n이 기사를 전달 할 수 있습니다.")},openFolderConfig:function(b){b.stopDefault();var a=b.element.href;this.popup=news.util.Window.popup({url:a,name:"naver_news_folder",features:{resizable:"yes",scrollbars:"yes",width:500,height:400}})}};news.scrap.FolderController={init:function(){this.folders=jindo.$A(jindo.$$(".content .folder_list ul li"));jindo.$Fn(this.select,this).attach(this.folders,"click");this.saveButton=jindo.$("scrap.saveBtn");jindo.$Fn(this.doSave,this).attach(this.saveButton,"click");this.closeButton=jindo.$("scrap.closeBtn");this.cancelButton=jindo.$("scrap.cancelBtn");jindo.$Fn(this.doCancel,this).attach([this.closeButton,this.cancelButton],"click");this.makeButton=jindo.$("scrap.newFolderBtn");jindo.$Fn(this.make,this).attach(this.makeButton,"click");this.renameButton=jindo.$("scrap.renameFolderBtn");jindo.$Fn(this.rename,this).attach(this.renameButton,"click");this.removeButton=jindo.$("scrap.removeFolderBtn");jindo.$Fn(this.remove,this).attach(this.removeButton,"click");this.myscrapGoButton=jindo.$Element("myscrapGo");jindo.$Fn(this.myscrapgo,this).attach(this.myscrapGoButton,"click");this.makeField=jindo.$Element("makeFolderField");this.renameField=jindo.$Element("renameFolderField");this.makeName=jindo.$("makeFolderName");this.makeSubmitButton=jindo.$$("#createFolder");jindo.$Fn(this.doMakeEnter,this).attach(this.makeName,"keydown");jindo.$Fn(this.doMake,this).attach(this.makeSubmitButton,"click");this.renameName=jindo.$("renameFolderName");this.renameSubmitButton=jindo.$$("#rename_saveBtn");jindo.$Fn(this.doRenameEnter,this).attach(this.renameName,"keydown");jindo.$Fn(this.doRename,this).attach(this.renameSubmitButton,"click");if(window.screen.availHeight<window.outerHeight){jindo.$Window().resizeTo(window.outerWidht,window.screen.availHeight)}},select:function(b){b.stopDefault();this.selectedFolder=b.element;var c=this.selectedFolder.id.split("_");this.groupId=c[1];this.isDefaultGroup=c[2];this.articleCount=c[3];var a=this;this.folders.forEach(function(e,d,f){if(e.id==a.selectedFolder.id){jindo.$Element(e).addClass("selected")}else{jindo.$Element(e).removeClass("selected")}});if(this.renameField!=null&&this.renameField.visible()){this.rename()}},make:function(a){a.stopDefault();this.action="C";if(this.renameField!=null){this.renameField.hide()}this.makeField.show()},rename:function(a){a.stopDefault();this.action="U";this.makeField.hide();if(!this.groupId){alert("수정할 폴더를 선택 하세요.")}else{if(this.isDefaultGroup=="true"){this.renameField.hide();alert("기본폴더는 수정할 수 없습니다.")}else{jindo.$("scrapGroup.id").value=this.groupId;this.renameName.value=this.selectedFolder.innerHTML.replace(/^ /,"").replace(/ $/,"");this.renameField.show()}}},remove:function(a){a.stopDefault();this.action="D";this.makeField.hide();this.renameField.hide();if(!this.groupId){alert("삭제할 폴더를 선택 하세요.")}else{if(this.isDefaultGroup=="true"){alert("기본폴더는 삭제할 수 없습니다.")}else{this.doRemove()}}},myscrapgo:function(a){a.stopDefault();window.close();window.opener.location.href="/main/scrap/index.naver"},_refineFolderName:function(a){a.value=a.value.replace(/　/g," ").replace(/  /g," ").replace(/^ /g,"").replace(/ $/g,"")},_isValidFolderName:function(a){if(!a){alert("내용이 비어 있습니다.");return false}else{if(jindo.$S(a).bytes()>32){alert("폴더명은 한글 16자, 또는 영문 32자 이내로 입력할 수 있습니다.");return false}}return true},doSave:function(a){a.stopDefault();var b=jindo.$Form("saveFolderField");if(!!this.groupId){b.value("scrapItem.groupId",this.groupId)}location.href="/main/scrap/saveItem.naver?"+b.serialize();return},doCancel:function(a){a.stopDefault();window.close()},doMakeEnter:function(a){if(a.key().enter){this.doMake(a)}},doMake:function(a){a.stopDefault();this._refineFolderName(this.makeName);if(this._isValidFolderName(this.makeName.value)){var b=jindo.$("makeAdminFolder");b.submit()}else{this.makeName.focus()}},doRenameEnter:function(a){if(a.key().enter){this.doRename(a)}},doRename:function(a){a.stopDefault();this._refineFolderName(this.renameName);if(this._isValidFolderName(this.renameName.value)){var b=jindo.$("renameFolder");b.target="reloadFrame";b.submit()}else{this.renameName.focus()}},doRemove:function(){var c="";var d="/main/scrap/numScrapItem.naver?groupId="+this.groupId;var b=jindo.$Ajax(d,{async:false,onload:function(e){if(parseInt(e.text(),10)>0){c="해당 폴더에 스크랩 된 기사가 있습니다.\n"}}}).request();c+="정말로 삭제하시겠습니까?";if(confirm(c)){var a="/main/scrap/deleteFolder.naver?scrapGroup.id="+this.groupId;var b=jindo.$Ajax(a,{method:"get",async:false}).request();this.reload()}},reload:function(){document.location.reload();if(opener){opener.document.location.reload()}}};if(typeof news=="undefined"){news={}}if(typeof news.read=="undefined"){news.read={}}news.read.Toolbar={_aFontInformations:[{name:"굴림",className:"font1",imageFile:"font_txt_gulim.png",fontFamily:["굴림","gulim"],isDefault:true},{name:"돋움",className:"font2",imageFile:"font_txt_dotum.png",fontFamily:["돋움","dotum"],isDefault:true},{name:"바탕",className:"font3",imageFile:"font_txt_batang.png",fontFamily:["바탕","batang"],isDefault:true},{name:"맑은고딕",className:"font4",imageFile:"font_txt_malgun.png",fontFamily:["맑은 고딕","malgun gothic"],isDefault:true},{name:"나눔고딕",className:"font5",imageFile:"font_txt_nanum.png",fontFamily:["나눔고딕","nanumgothic","Nanum Gothic"],isDefault:false}],init:function(a){this.options=a;var c=jindo.$$("ul.content_menu a.print");if(c!=null){jindo.$Fn(this.print,this).attach(c,"click")}var e=jindo.$$("div.article_btns_right a.media_end_head_print");if(e!=null){jindo.$Fn(this.print,this).attach(e,"click")}var d=jindo.$$("ul.content_menu a.scrap");if(d!=null){jindo.$Fn(this.scrap,this).attach(d,"click")}var b=jindo.$$("div.article_info  a.btn_scrap");if(b!=null){jindo.$Fn(this.scrap,this).attach(b,"click")}this.layerManagerOption={sCheckEvent:"click",nCheckDelay:0,nShowDelay:0,nHideDelay:0};this.initContentMenu()},initContentMenu:function(){var f=jindo.$("fontLayoutSelectbox");if(f){var e="";FONT_LIST:for(var d=0;d<this._aFontInformations.length;d++){var a=this._aFontInformations[d];if(!a.isDefault){if(!this.hasFontOfIndex(d)){continue FONT_LIST}}e+='<li><a href="#"><img class="_index'+d+'" src="https://ssl.pstatic.net/static.news/image/news/2015/10/'+a.imageFile+'" alt="'+a.name+'" width="94" height="23"></a></li>'}f.innerHTML=e}this.fontLayerBtnId="read_fontButton";var c=jindo.$(this.fontLayerBtnId);if(c){jindo.$Fn(this.toogleFontLayer,this).attach(jindo.$(this.fontLayerBtnId),"click")}this.aFontSelectBtn=jindo.$$("div.font_setup ul img");if(this.aFontSelectBtn){jindo.$Fn(this.setFont,this).attach(this.aFontSelectBtn,"click")}var b=jindo.$$("div.font_setup button[class^=fs_]");if(b){jindo.$Fn(this.setFontSize,b).attach(b,"click")}},print:function(c){c.stopDefault();var b=c.element;var a=(b.tagName=="A")?b.href:b.parentNode.href;news.util.Window.popup({url:a,name:"win",features:{scrollbars:"yes",width:737,height:975}})},scrap:function(b){b.stopDefault();var a=b.element.href;news.util.Window.popup({url:a,name:"naver_news_folder",features:{resizable:"yes",scrollbars:"yes",width:500,height:400}})},toogleFontLayer:function(c){c.stopDefault();var a=jindo.$Element("articleBody");if(a){if(!this.fontLayerManager){var b="read.fontLayer";this.fontLayerManager=new jindo.LayerManager(b,this.layerManagerOption).link(this.fontLayerBtnId)}this.fontLayerManager.toggle()}else{alert("글꼴을 변경할 본문 내용이 없습니다.")}},setFont:function(b){b.stopDefault();var a=this;jindo.$A(this.aFontSelectBtn).forEach(function(j,f,g){if(b.element==j){var c=j.className.replace("_index","");if(!a.hasFontOfIndex(c)){alert("해당 폰트가 설치되어있지 않습니다.");return}var e=jindo.$Element("articleBody");if(e){var h=jindo.$Element("articleBody");var d=(e)?/font[0-9]/.exec(e.className())[0]:"";var k="font"+(f+1);var l=jindo.$A([e,h]);l.forEach(function(m,o,n){if(m){m.removeClass(d);m.addClass(k)}});news.util.Cookie.set("newsFontName",k,1000)}else{alert("글꼴을 변경할 본문 내용이 없습니다.")}return}})},hasFontOfIndex:function(a){var b=this._aFontInformations[a];for(var c=0;c<b.fontFamily.length;c++){var d=b.fontFamily[c];if(IsInstalledFont(d)){return true}}return false},setFontSize:function(e){e.stopDefault();var a=jindo.$Element("articleBody");if(a){var d=parseInt(/size([0-9])/.exec(a.className())[1],10);var c=d+(/big/.test(e.element.className)?1:-1);if(c<1){alert("가장 작은 글꼴입니다.");return}else{if(c>5){alert("가장 큰 글꼴입니다.");return}}var b="size"+c;a.removeClass("size"+d);a.addClass(b);news.util.Cookie.set("newsFontSize",b,1000)}else{alert("글꼴을 확대하거나 축소할 본문 내용이 없습니다.")}}};news.read.OriginalImage={nOriginalMinTime:jindo.$Date("2012-04-01 00:00").time(),init:function(a){this._oOption=a;var b=jindo.$Date(this._oOption.createDate).time();if(b<=this.nOriginalMinTime){return}this.assign();this.attach()},assign:function(){this._elBody=jindo.$("articleBody");var a=jindo.$$.getSingle("img",this._elBody);var b=jindo.$Element(a);b.replace(jindo.$('<div class="end_photo_org">'+b.outerHTML()+'<a href="#" class="btn_viewsource"><span class="blind">이미지 원본보기</span></a></div>'));this._elOriginalButton=jindo.$$.getSingle("div.end_photo_org a",this._elBody)},attach:function(){jindo.$Fn(this.original,this).attach(this._elOriginalButton,"click")},original:function(b){b.stopDefault();var c=this.oJson;var a="/main/photogallery/original.naver?oid="+this._oOption.oid+"&aid="+this._oOption.aid;var d=news.util.Window.popup({url:a,name:"photogallery_original",features:{scrollbars:"1",resizable:"yes",width:416,height:294}})}};news.read.VodIframeLazyLoader={init:function(){var a=this;var b=jindo.$$("div.vod_area > iframe");if(b==null||b.length==0){return}jindo.$A(b).forEach(function(e,d,g){var c=jindo.$Element(e);if(d==0){a._checkAutoPlay(c)}var f=c.attr("_src");if(!!f){c.attr("src",f);c.$value().removeAttribute("_src")}})},_checkAutoPlay:function(a){if(!a){return}var g=window.scrollY||window.pageYOffset||document.documentElement.scrollTop;var k=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var b=k+g;var e=jindo.$Element("articleBody").offset().top;var d=a.height()/3;var j=a.offset().top+d;var f=a.offset().top>e+50;var h=b<j;if(f&&h){var c=a.attr("_src");if(!c){return}a.attr("_src",c.replace("autoPlay=true","autoPlay=false"))}}};(function(){jindo.$Fn(function(){var a=jindo.$("articleTitleCommentCount");if(!a){return}var b=location.href.replace(/#(.)*$/,"");var c=b.match(/oid=([0-9]{3})/);var e=b.match(/aid=([0-9]{10})/);var d=getSocialCommentSortType("sns.comment.detail");if(!c||c.length<2){return}if(!e||e.length<2){return}if(d==null){d="likability"}if(c[1]&&e[1]){a.href=b+"&m_view=1&includeAllCount=true&m_url=%2Fcomment%2Fall.nhn%3FserviceId%3Dnews%26gno%3Dnews"+c[1]+"%2C"+e[1]+"%26sort%3D"+d}}).attach(window,"load")})();(function(){var a=null;IsInstalledFont=function(e){var b=e=="Comic Sans MS"?"Courier New":"Comic Sans MS";if(!a){a=document.createElement("div")}var f="position:absolute !important; font-size:200px !important; left:-9999px !important; top:-9999px !important;";a.innerHTML="mmmmiiiii\uD55C\uAE00-\uD6C4\uB9AC\uC790";a.style.cssText=f+'font-family:"'+b+'" !important';document.body.insertBefore(a,document.body.firstChild);var c=a.offsetWidth+"-"+a.offsetHeight;a.style.cssText=f+'font-family:"'+e+'", "'+b+'" !important';var d=c!=(a.offsetWidth+"-"+a.offsetHeight);document.body.removeChild(a);return d}})();news.read.TopFloatingManager={init:function(){this._assign()},_assign:function(){this._oDocument=jindo.$Document();this._weHeader=jindo.$Element("header");this._nBrowserHeight=this._oDocument.clientSize().height;this._scrollTop=0;this._bindEvents()},_bindEvents:function(){jindo.$Fn(this._windowScrollEventHandler,this).attach(jindo.$Element(window),"scroll");jindo.$Fn(this._windowResizeEventHandler,this).attach(jindo.$Element(window),"resize")},_windowScrollEventHandler:function(){var a=this._oDocument.scrollPosition().top;if(a<=this._scrollTop){this._weHeader.removeClass("is_fixed")}else{this._weHeader.addClass("is_fixed")}},_windowResizeEventHandler:function(){this._nBrowserHeight=this._oDocument.clientSize().height},setScrollTop:function(a){this._scrollTop=a}};if(typeof news=="undefined"){news={}}if(typeof news.memo=="undefined"){news.memo={}}function resizeIFrame(f){var b;try{b=window.frames[f].document}catch(c){}if(!b){return}var g=b.body;var a=jindo.$(f);var k=jindo.$Element(g);var j=jindo.$Agent().navigator();if(j.ie){a.style.height=g.scrollHeight+10}else{var d=0;var h=jindo.$A(k.child());h.forEach(function(l,e,m){if(l.height){d+=l.height()}});a.style.height=d}}function cleanUpIFrame(){var a=jindo.$("ifrMemo");if(a){a.parentNode.removeChild(a)}}function mnotice(a){if(a){return news.util.Window.popup({url:a,name:"mnotice",features:{scrollbars:"yes",status:"yes",height:600,width:760}})}}function getSocialCommentSortType(a,d){var d="likability";try{if(typeof(Storage)!="undefined"){var b=localStorage.getItem(a);if(!!b){d=b}}}catch(c){}return d}function saveSocialCommentSortType(a,c){try{if(typeof(Storage)!="undefined"){localStorage.setItem(a,c)}}catch(b){}}if(typeof news=="undefined"){news={}}if(typeof news.assembly=="undefined"){news.assembly={}}news.assembly.ConfigPopup=jindo.$Class({contentsManager:null,$init:function(a,c){this.contentsManager=c;this.oPopup=new jindo.LayerManager(a,{sCheckEvent:"mousedown",nCheckDelay:0,nShowDelay:0,nHideDelay:0}).link(a);var b=this;this.oPopup.attach({beforeShow:function(d){jindo.$A(jindo.$$("input[name=check_contents]"),jindo.$("select_contents")).forEach(function(e,f,g){jindo.$(e).checked=false});b.contentsManager.getContentIdList().forEach(function(e,f,g){jindo.$("c_"+e).checked=true})}});jindo.$Fn(this.show,this).attach(jindo.$("bt_open_popup"),"click");jindo.$Fn(this.hide,this).attach(jindo.$("bt_close_popup"),"click");jindo.$Fn(this.save,this).attach(jindo.$("bt_save_contents"),"click");jindo.$Fn(this.hide,this).attach(jindo.$("bt_cancel"),"click")},save:function(){var a=jindo.$A(jindo.$$("input[name=check_contents]"),jindo.$("select_contents")).filter(function(b,c,d){if(b.checked){return true}else{return false}});a.forEach(function(b,c,d){d[c]=b.id.substring(2)});this.contentsManager.addCheckedContents(jindo.$A(a));this.oPopup.hide()},show:function(){this.oPopup.show()},hide:function(){this.oPopup.hide()},toggle:function(){this.oPopup.toggle()}});news.assembly.ModifyPopup=jindo.$Class({aOptionValues:[3,5,10,15,20],$init:function(b,a,d){this.sContentId=b;this.sItemCount=a;this.contentsManager=d;var c="modify"+this.sContentId;var e=news.assembly.Templates.getTempateResult("tModify",{id:this.sContentId,count:this.sItemCount,options:this.aOptionValues});jindo.$Element(jindo.$("head"+b)).append(e);this.oPopup=new jindo.LayerManager(c,{sCheckEvent:"mousedown",nCheckDelay:0,nShowDelay:0,nHideDelay:0}).link(c);this._addSaveButtonEvent();this.show()},_addSaveButtonEvent:function(){var a=jindo.$("modify"+this.sContentId);var b=jindo.$$("input",a);jindo.$Fn(function(c){var d=this.sItemCount;var e=jindo.$$("option",a);for(i in e){if(e[i].selected){d=e[i].value;break}}this.save(d);this.hide()},this).attach(b,"click")},_setSelected:function(){var a=jindo.$$("option",jindo.$("modify"+this.sContentId));for(i in a){if(a[i].value==this.sItemCount){a[i].selected=true}}},save:function(a){if(this.sItemCount!=a){this.sItemCount=a;this.contentsManager.modifyItemCount(this.sContentId,a);this.contentsManager.sync()}},show:function(){this._setSelected();this.oPopup.show()},hide:function(){this.oPopup.hide()},toggle:function(){this._setSelected();this.oPopup.toggle()},destroy:function(){this.oPopup=null}});news.assembly.Templates={tContentLogIn:'<div id="{=id}" class="assembly_component droppable"><div id="head{=id}" class="com_header draggable com_header_login"><h3 class="{=titleClassName}">{=title}{if categoryTitle == "위원회별 의사일정"}의사일정{/if}{if categoryTitle == "소관위원회별 계류의안"}계류의안{/if}{if categoryTitle == "소관부처별 계류법률안"}계류법률안{/if}</h3><span onmousedown="jindo.$Event(event).stop();">{if contentType != "iframe" }<a href="javascript:oContentsManager.showModifyPopup({=sId});"><img height="12" width="18" alt="수정" src="https://ssl.pstatic.net/static.news/image/news/2009/assembly/btn_layerside_modify.gif"/></a><!--N=a:{=id}.edit-->{/if}<a href="javascript:oContentsManager.reloadContent({=sId});"><img height="12" width="12" alt="새로고침" src="https://ssl.pstatic.net/static.news/image/news/2009/assembly/btn_layerside_reload.gif"/></a><!--N=a:{=id}.load--><a href="javascript:oContentsManager.removeContent({=sId}); oContentsManager.sync();"><img height="12" width="12" alt="닫기" src="https://ssl.pstatic.net/static.news/image/news/2009/assembly/btn_layerside_close.gif"/></a><!--N=a:{=id}.del--></span></div><div class="com_body" id="body{=id}"><ul class="list_type1"><li>자료를 가져오고 있습니다.</li></ul></div></div>',tContentLogOut:'<div id="{=id}" class="assembly_component"><div id="head{=id}" class="com_header"><h3 class="{=titleClassName}">{=title}{if categoryTitle == "위원회별 의사일정"}의사일정{/if}{if categoryTitle == "소관위원회별 계류의안"}계류의안{/if}{if categoryTitle == "소관부처별 계류법률안"}계류법률안{/if}</h3><span onmousedown="jindo.$Event(event).stop();"><a href="javascript:oContentsManager.reloadContent({=sId});"><img height="12" width="12" alt="새로고침" src="https://ssl.pstatic.net/static.news/image/news/2009/assembly/btn_layerside_reload.gif"/></a><!--N=a:{=id}.load--></span></div><div class="com_body" id="body{=id}"><ul class="list_type1"><li>자료를 가져오고 있습니다.</li></ul></div></div>',tModify:'<div class="modify_layer" id="modify{=id}" style="display:none"><fieldset><legend>항목수 수정</legend><label>항목수</label><select>{for optionValue in options}<option value="{=optionValue}" {if optionValue==count}selected{/if}>{=optionValue}줄</option>{/for}</select><input value="{=id}" type="image" src="https://ssl.pstatic.net/static.news/image/news/2009/assembly/btn_save.gif"/></fieldset></div>',tLoading:'<ul class="list_type1"><li>자료를 가져오고 있습니다.</li></ul>',tSpace:'<div id="space" class="space" style="display:none;"></div>',getTempateResult:function(a,b){if(a&&typeof a==="string"){return jindo.$(jindo.$Template(this[a]).process(b))}},space:function(){var a=jindo.$("space");if(a==null){var b=this.tSpace;a=jindo.$(b)}return a}};news.assembly.Util={help:function(){var a="/main/assembly/help.naver";news.util.Window.popup({url:a,name:"win",features:{width:500,height:600}})}};if(typeof news=="undefined"){news={}}news.social={_sPostBody:null,_sImageUrl:null,_sTag:null,_sOfficeName:null,_sSectionName:null,_stitle:null,_surl:null,_spublishedTime:null,_sArticle:"article",generatorMeta:function(e,d,f,c,g,b,a){this._setData(e,d,f,c,g,b,a);this._generatorMe2();this._generatorOg()},_setData:function(e,d,f,c,g,b,a){this._sPostBody=e;this._sImageUrl=d;this._sTag="네이버뉴스 "+f;this._sOfficeName=f;this._sSectionName=c;this._sTitle=g;this._sUrl=b;this._sPublishedTime=a},_generatorMe2:function(){this._generatorBasic("me2:image"," ");this._generatorBasic("me2:post_tag",this._sTag);this._generatorBasic("me2:category1",this._sOfficeName);this._generatorBasic("me2:category2",this._sSectionName)},_generatorOg:function(){this._generatorBasic("og:title",this._sTitle);this._generatorBasic("og:type",this._sArticle);this._generatorBasic("og:url",this._sUrl);this._generatorBasic("og:image",this._sImageUrl);this._generatorBasic("og:description",this._sPostBody);this._generatorBasic("og:article:author",this._sOfficeName);this._generatorBasic("og:article:published_time",this._sPublishedTime)},_generatorBasic:function(d,c){var b=jindo.$("<meta>");b.property=d;b.content=c;var a=jindo.$Document().query("head");jindo.$Element(a).append(b)}};if(typeof news=="undefined"){news={}}news.tv={init:function(){news.tv.program.init()}};news.tv.program={sCookieName:"tvhome-program-list",init:function(){var a=jindo.$$.getSingle("div.tv_press");this.elListUl=jindo.$$.getSingle("ul.lst_tv_press",a);this.weListUl=jindo.$Element(this.elListUl);if(!!this.weListUl){this.attach();this.show()}},attach:function(){var a=this;this.weListUl.delegate("click","a",function(b){a.go(b)})},show:function(){var d=getCookie(this.sCookieName);if(!!d&&d!=""){var c=d.split(":");var b=c.length-2;while(b>=0){var a=jindo.$$.getSingle("#program"+c[b],this.elListUl);if(!!a){this.weListUl.prepend("program"+c[b])}b--}}this.weListUl.show()},go:function(c){var a=jindo.$Element(c.element.parentElement);var b=a.attr("id").replace("program","")+":";var d=getCookie(this.sCookieName);if(!d){d=""}else{d=d.replace(b,"")}d=b+d;setCookie(this.sCookieName,d,null,"news.naver.com","/")}};if(typeof news=="undefined"){news={}}if(typeof news.hotissue=="undefined"){news.hotissue={}}news.hotissue.Initialize=function(a){news.hotissue.ItemHighlight.init();news.hotissue.CardManager.init();news.hotissue.NClicks.init();news.hotissue.TimelineManager.init();news.hotissue.LivePlayerManager.init(a)};news.hotissue.IssueListManager={_oTEMPLATES:{listCommentCount:jindo.$Template('<span class="ic gt_cmt_num"><span class="ic bg_left"></span>{=count}<span class="ic bg_right"></span></span>')},callbackCommentCount:function(b,c){if(!c||!c.comment||c.comment<0){return}var a=news.hotissue.IssueListManager;var e=a._oTEMPLATES.listCommentCount;var d=e.process({count:changeNumberFormat(c.comment)});jindo.$Element(b.query("a")).appendHTML(d)}};news.hotissue.ItemHighlight={nHighLightDuration:2500,init:function(){this._parseQuery();this._highlight()},_parseQuery:function(){this._oParams=changeQueryStringToObject(document.location.search.substring(1))},_highlight:function(){var c=this;var b=this._oParams;if(!b||!b.ptype||!b.iid){return}var d=jindo.$(b.ptype+"_"+b.iid);if(!d){return}var a=new jindo.Transition();a.fps(30).start(c.nHighLightDuration,d,{"@backgroundColor":jindo.Effect.easeInQuad("#fffbd5","#ffffff")})}};news.hotissue.CardManager={init:function(){this._assign();this._initCard();this._initPagingCard();this._initMentionCard()},_assign:function(){this._waCard=jindo.$A(jindo.$$("div.tmp_bx"))},_initCard:function(){this._waCard.forEach(function(b,a,c){new news.hotissue.Card(b)})},_initPagingCard:function(){var a=this._waCard.filter(function(c,b,e){var d=jindo.$$.getSingle("._pagenation",c);return !!d});a.forEach(function(c,b,d){new news.hotissue.PagingCard(c)})},_initMentionCard:function(){var a=jindo.$A(jindo.$$("._mention_hotissue",document.body));if(a!=null&&a.length()>0){a.forEach(function(c,b,d){new news.hotissue.MentionCard(c)})}}};news.hotissue.Card=jindo.$Class({$init:function(a){if(!a){return}this._welContainer=jindo.$Element(a);this._assign();this._attach()},_assign:function(){this._welHiddenContents=jindo.$Element(this._welContainer.query("._hidden"));this._welUnfoldButton=jindo.$Element(this._welContainer.query("div._unfold a"));this._welFoldButton=jindo.$Element(this._welContainer.query("div._fold a"))},_attach:function(){if(this._welUnfoldButton){jindo.$Fn(this._unfoldHiddenContents,this).attach(this._welUnfoldButton,"click")}if(this._welFoldButton){jindo.$Fn(this._foldHiddenContents,this).attach(this._welFoldButton,"click")}},_unfoldHiddenContents:function(a){a.stopDefault();if(this._welHiddenContents){this._welHiddenContents.show()}if(this._welUnfoldButton){this._welUnfoldButton.parent().hide()}if(this._welFoldButton){this._welFoldButton.parent().show()}},_foldHiddenContents:function(a){a.stopDefault();if(this._welHiddenContents){this._welHiddenContents.hide()}if(this._welUnfoldButton){this._welUnfoldButton.parent().show()}if(this._welFoldButton){this._welFoldButton.parent().hide()}}});news.hotissue.PagingCard=jindo.$Class({_nCurrentIndex:0,_nTotalPageCount:0,$init:function(a){if(!a){return}this._welContainer=jindo.$Element(a);this._assign();this._attach()},_assign:function(){this._elPrev=this._welContainer.query("a.prv");this._elNext=this._welContainer.query("a.nxt");this._elPageNumber=this._welContainer.query("._pageNumber");this._aPageList=jindo.$$("._page",this._welContainer.$value());this._nTotalPageCount=this._aPageList.length},_attach:function(){if(this._elPrev){jindo.$Fn(this._prev,this).attach(this._elPrev,"click")}if(this._elNext){jindo.$Fn(this._next,this).attach(this._elNext,"click")}},_prev:function(a){a.stopDefault();var b=(this._nCurrentIndex>0)?this._nCurrentIndex-1:this._nTotalPageCount-1;this._move(b)},_next:function(b){b.stopDefault();var a=(this._nCurrentIndex<this._nTotalPageCount-1)?this._nCurrentIndex+1:0;this._move(a)},_move:function(a){this._hide(this._nCurrentIndex);this._show(a);this._updatePageNumber(a);this._nCurrentIndex=a},_show:function(a){jindo.$Element(this._aPageList[a]).show()},_hide:function(a){jindo.$Element(this._aPageList[a]).hide()},_updatePageNumber:function(a){if(!this._elPageNumber){return}jindo.$Element(this._elPageNumber).text(a+1)}});news.hotissue.MentionCard=jindo.$Class({$init:function(a){if(!a){return}this._welContainer=jindo.$Element(a);this._assign()},_assign:function(){this._personCount=6;this._elPrev=jindo.$Element(this._welContainer.query("._mention_prev_btn"));this._elNonePrev=jindo.$Element(this._welContainer.query("._mention_prev_none_btn"));this._elNext=jindo.$Element(this._welContainer.query("._mention_next_btn"));this._elNoneNext=jindo.$Element(this._welContainer.query("._mention_next_none_btn"));this._elPeopleBox=jindo.$Element(this._welContainer.query("._mention_people"));this._elMentionBox=jindo.$Element(this._welContainer.query("._mention_content"));this._controlView();this._welContainer.css("visibility","hidden");this._rollingObj=new jindo.Rolling(this._elPeopleBox.$value(),{nDuration:1,fEffect:jindo.Effect.easeInOutQuad}).attach("afterMove",jindo.$Fn(function(a){this._rollingObj.detachAll();this._welContainer.css("visibility","");this._rollingObj.option("nDuration",600);this._attach()},this).bind());this._totalPersonCount=(this._rollingObj?this._rollingObj.getItems().length:0);if(this._isRandomFocus&&this._randomIndex>=this._personCount){startIndex=(Math.floor(this._randomIndex/this._personCount)*this._personCount);this._rollingObj.moveTo(startIndex);this._processPrevNextBtn(startIndex)}else{this._processPrevNextBtn(0);this._rollingObj.detachAll();this._welContainer.css("visibility","");this._rollingObj.option("nDuration",600);this._attach()}},_attach:function(){var a=this;if(this._elPeopleBox){jindo.$A(this._elPeopleBox.queryAll(".lst ._mention_person")).forEach(function(c,b,d){jindo.$Fn(a._selectPerson,a).attach(c,"click")})}jindo.$Fn(a._prev,a).attach(this._elPrev,"click");jindo.$Fn(a._next,a).attach(this._elNext,"click");if(this._rollingObj){this._rollingObj.attach({afterMove:jindo.$Fn(a._movePerson,a).bind()})}},_controlView:function(){var d=this._welContainer.attr("data-random")=="Y";this._isRandomFocus=this._welContainer.attr("data-randomfocus")=="Y";var a=this._welContainer.attr("data-empty-cnt");var c=null;var e=jindo.$Element(this._elPeopleBox.query(".lst"));this._randomIndex=0;if(d){var b=jindo.$A(jindo.$$("li",e.$value()));b.shuffle();b.forEach(function(h,g,j){e.append(h)})}if(this._isRandomFocus){var b=jindo.$A(jindo.$$("li",e.$value()));this._randomIndex=Math.round((b.length()-1)*Math.random());c=jindo.$Element(b.get(this._randomIndex))}else{c=this._elPeopleBox.first().first()}if(a==""){a=0}for(i=0;i<a;i++){e.append(jindo.$Element("<li></li>"))}c.addClass("selected");var f=c.attr("data-person-id");e.show();jindo.$Element("mention_"+f).addClass("_selected_mention").show()},_processPrevNextBtn:function(b){var a=b-this._personCount;if(a<0){this._elPrev.hide();this._elNonePrev.show()}else{this._elPrev.show();this._elNonePrev.hide()}a=b+this._personCount;if(a>=this._totalPersonCount){this._elNext.hide();this._elNoneNext.show()}else{this._elNext.show();this._elNoneNext.hide()}},_prev:function(c){c.stopDefault();if(this._rollingObj==null){return}var a=this._rollingObj.getIndex();var b=a-this._personCount;if(b<0){b=0}this._rollingObj.moveTo(b);this._processPrevNextBtn(b)},_next:function(c){c.stopDefault();if(this._rollingObj==null){return}var a=this._rollingObj.getIndex();var b=a+this._personCount;if(b>=this._totalPersonCount){b=a}this._rollingObj.moveTo(b);this._processPrevNextBtn(b)},_movePerson:function(b){var a=jindo.$Element(jindo.$Element(this._rollingObj.getItems()[b.nIndex]).query("._mention_person"));this._processSelectingPerson(a)},_selectPerson:function(a){a.stopDefault();this._processSelectingPerson(jindo.$Element(a.currentElement))},_processSelectingPerson:function(a){if(a){var b=a.attr("data-person-id");this._showPerson(b);this._showMention(b)}},_showPerson:function(a){jindo.$Element(this._elPeopleBox.query(".lst .selected")).removeClass("selected");jindo.$Element("person_"+a).addClass("selected")},_showMention:function(a){jindo.$Element(this._elMentionBox.query("._selected_mention")).removeClass("_selected_mention").hide();jindo.$Element("mention_"+a).addClass("_selected_mention").show()}});news.hotissue.NClicks={init:function(){this._addPageClassName()},_addPageClassName:function(){var a=jindo.$$.getSingle("div.paging");if(!a){return}var b=jindo.$$("a",a);if(!b){return}jindo.$A(b).forEach(function(e,c,f){var d=jindo.$Element(e);d.addClass("nclicks(hot.page)")})}};news.hotissue.TimelineManager={elTimeDateUlContainer:null,elTimeDateLiContainerFirst:null,elTimeDateLiContainerSecond:null,selectDate:null,selectTimeline:null,elSelectDateList:null,init:function(){if(jindo.$$("div.timeline").length>0){this.elTimeDateUlContainer=jindo.$$("ul.time_lst");this.elTimeDateLiContainerFirst=jindo.$$("li.time_date_li",this.elTimeDateUlContainer[0]);this.elTimeDateLiContainerSecond=jindo.$$("li.time_date_li",this.elTimeDateUlContainer[1]);this.elSelectDateList=jindo.$ElementList(".time_date_li");if(this.elSelectDateList.length()<20){this._onLoadEmptyTimelineDate()}for(var b=0;b<this.elTimeDateLiContainerFirst.length;b++){var a=jindo.$$("a.time_bx",this.elTimeDateLiContainerFirst[b]);jindo.$Fn(this._choice,this).attach(a,"click");a=jindo.$$("a.time_bx",this.elTimeDateLiContainerSecond[b]);jindo.$Fn(this._choice,this).attach(a,"click")}this._onLoadChoice()}},_choice:function(b){this.elSelectDateList.removeClass("selected");if(b.currentElement.className.indexOf("navi")>-1){var a=b.currentElement.hash;this.selectDate=a.substr(1);this.selectTimeline=jindo.$ElementList(".li_"+this.selectDate);this.selectTimeline.addClass("selected")}},_onLoadChoice:function(){var a=document.location.hash;this.oParams=changeQueryStringToObject(document.location.search.substring(1));if(a){this.selectDate=a.substr(1);this.selectTimeline=jindo.$ElementList(".li_"+this.selectDate);if(this.selectTimeline.length>0){this.selectTimeline.addClass("selected");return}}var b=this.elTimeDateLiContainerFirst.length-1;this.elSelectDateList.get(0).addClass("selected");this.elSelectDateList.get(b+1).addClass("selected")},_onLoadEmptyTimelineDate:function(){var a=jindo.$Element("lst_first");var b=jindo.$Element("lst_second");var c=jindo.$ElementList(".time_lst li").length()/2;for(var d=c;d<10;d++){a.appendHTML("<li class='time_date_li'><a href='#' class='time_bx'><span class='border'></span></a></li>");b.appendHTML("<li class='time_date_li'><a href='#' class='time_bx'><span class='border'></span></a></li>")}}};news.hotissue.RealtimeSnsSearch=jindo.$Class({_sApiUrl:"/main/ajax/hotissue/hotissueSnsSearch.naver",_sQuery:null,_sContainerId:null,_sTemplateId:"sns_search_template",_oTemplate:null,_elContainer:null,_elData:null,$init:function(a,b){this._sContainerId=a;this._elContainer=jindo.$(a);this._elUL=jindo.$$.getSingle("ul",this._elContainer);this._weUL=jindo.$Element(this._elUL);this._oTemplate=jindo.$Template(jindo.$(this._sTemplateId));this._sQuery=b;this._request()},_request:function(){var a=this;var b=this._getParameters();this._oAjax=new jindo.$Ajax(this._sApiUrl,{method:"get",onload:function(c){a._onload(c)}}).request(b)},_getParameters:function(){var a={};a.q=this._sQuery;a.display=10;a.sm="all.basic.first";a.dummy=new Date().getTime();a.st_twitterTime="";return a},_onload:function(o){var r=this;var n=jindo.$Json.fromXML(o.text());var l=n._object.message.result;var b=l.itemList.item;var j,e,f;var m=new Date();if(!b){return}if(b.length==null){day=b.writeDate.toString().substring(6,8);e=b.writeDate.toString().substring(8,10);f=b.writeDate.toString().substring(10,12);if(m.getHours().toString()==e&&m.getDate().toString()==day){b.timeNum=m.getMinutes()-f;b.timeText="분전"}else{var h=m.getHours()*60+m.getMinutes();var p=parseInt(e)*60+parseInt(f);if(m.getDate().toString()!=day){h=h+24*60}var c=p-p;if(c<60){b.timeNum=c;b.timeText="분전"}else{var q=m.getDate()*24+m.getHours();var k=parseInt(day)*24+parseInt(e);var a=q-k;b.timeNum=a;b.timeText="시간전"}}j=this._oTemplate.process(b);this._weUL.prependHTML(j)}else{for(var g=0;g<b.length;g++){day=b[g].writeDate.toString().substring(6,8);e=b[g].writeDate.toString().substring(8,10);f=b[g].writeDate.toString().substring(10,12);day=day-0;e=e-0;f=f-0;if(m.getHours().toString()==e&&m.getDate().toString()==day){b[g].timeNum=m.getMinutes()-f;b[g].timeText="분전"}else{var h=m.getHours()*60+m.getMinutes();var p=parseInt(e)*60+parseInt(f);if(m.getDate().toString()!=day){h=h+24*60}var c=h-p;if(c<60){b[g].timeNum=c;b[g].timeText="분전"}else{var q=m.getDate()*24+m.getHours();var k=parseInt(day)*24+parseInt(e);var a=q-k;b[g].timeNum=a;b[g].timeText="시간전"}}j=this._oTemplate.process(b[g]);this._weUL.prependHTML(j)}}}});news.hotissue.LivePlayerManager={_sApiUrl:"/main/live/checkPlayListState.naver",_parmas:"",_playListState:{},welPlayerListDivContainer:null,_liveResourceUrl:"",init:function(b){this.welPlayerListDivContainer=jindo.$ElementList(".player");if(!this.welPlayerListDivContainer||this.welPlayerListDivContainer.length()==0){return}this._initData(b);this._request();var a=this;setInterval(function(){a._request()},600000)},_initData:function(d){var a=0;while(a<this.welPlayerListDivContainer.length()){var c=this.welPlayerListDivContainer.get(a);this._playListState[c.attr("id").replace("playerArea_","")]=c.attr("data-state");a++}var b=this;this._parmas="";jindo.$A(jindo.$H(this._playListState).keys()).forEach(function(f,e,g){if(e!=0){b._parmas=b._parmas+"&"}b._parmas=b._parmas+"cids="+f});this._liveResourceUrl=d},_request:function(){var a=this;this._oAjax=new jindo.$Ajax(this._sApiUrl+"?"+this._parmas,{method:"get",async:"false",onload:function(b){a._onload(b)},timeout:3}).request()},_onload:function(e){var d=e.json();if(!d){return}var j=this;var g=0;while(g<d.length){var h=d[g];var b="";if(!h.result){g++;continue}if(h.imgUrl){b='<div class="vod_thmb"><img src="'+h.imgUrl+'" alt="" width="727" height="407"><span class="vod_dim"></span></div>'}var k=jindo.$Element("playerArea_"+h.componentId);var f=jindo.$ElementList(".video_container").length();if(h.serviceYn=="N"&&f==0){g++;var c=['<div class="vod_area __service_yn_n">'+b,'<div class="vod_icon">','<span class="vod_msg_end"><img src="https://ssl.pstatic.net/static.news/image/news/2015/04/21/txt_vod_error2.png" alt="잠시 후 다시 시도해주세요"></span>',"</div></div>"].join("");k.html(c);continue}if(j._playListState[h.componentId]==h.state){g++;continue}j._playListState[h.componentId]=h.state;if(h.state==1){var c=['<div class="vod_area">'+b,'<div class="vod_icon">','<span class="vod_msg"><img src="https://ssl.pstatic.net/static.news/image/news/2017/08/09/txt_vod_pre.png" alt="잠시 후 생중계가 시작됩니다"></span>','<span class="ic ic_vod">플레이</span>',"</div>","</div>"].join("");k.html(c)}else{if(h.state==2){k.html("");var a={chId:h.channelId,playTime:"",helpURL:"/main/ombudsman/liveHelp.naver",base:this._liveResourceUrl+"/",width:727,height:407,autoPlay:false,placeId:"playerArea_"+h.componentId};if(location.hostname!=null&&(location.hostname.split(".")[0]=="local"||location.hostname.split(".")[0]=="alpha"||location.hostname.split(".")[0]=="beta")){new nhn.nlivecast.Player("playerArea_"+h.componentId,a,"alpha").show()}else{new nhn.nlivecast.Player("playerArea_"+h.componentId,a).show()}}else{if(h.state==3){var c=['<div class="vod_area">'+b,'<div class="vod_icon">','<span class="vod_msg_end"><img src="https://ssl.pstatic.net/static.news/image/news/2017/08/09/txt_vod_end.png" alt="생중계가 종료되었습니다"></span>',"</div></div>"].join("");k.html(c)}else{if(h.state==4){var c='<iframe src="/main/event/iamsinger2/video.naver?id='+h.vodSeq+'&autoPlay=false&width=727&height=407" width="727" height="407" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>';k.html(c)}}}}g++}}};if(typeof news=="undefined"){news={}}news.startup=function(){if(!!jindo.$("error_btn_reload")){jindo.$Fn(function(){document.location.reload()}).attach(jindo.$("error_btn_reload"),"click")}jindo.$Fn(function(a){news.util.NClickHelper(a);news.util.GnbHelper(a)}).attach(document,"click");jindo.$Fn(function(){if(typeof gnb_timestamp=="undefined"){return}news.external.GNB.load()},this).attach(window,"load")};if(typeof news=="undefined"){news={}}news.stakeholder={stakeholderList:"",templateEle:"",officeId:"",articleId:"",sectionId:"",articleTitle:"",isGroupUser:"",groupName:"",groupId:"",personalId:"",latestRegisteredTime:"",seq:"",hasExposureNContent:"",isBlackId:false,tamWrite:null,tamUpdate:null,init:function(a,b){this._initVariable(b);this._initElement(a);this._initEvent();this._initFunction();this.initView()},_initVariable:function(a){if(a!=null){this.officeId=a.officeId;this.articleId=a.articleId;this.sectionId=a.sectionId;this.articleTitle=a.articleTitle;this.isGroupUser=a.isGroupUser;this.groupName=a.groupName;this.groupId=a.groupId;this.personalId=a.personalId}},_initElement:function(a){this.templateEle=a},_initEvent:function(){this._initEventCommon();this._initEventForShow();this._initEventForDetail();this._initEventForUpdate();this._initEventForWrite()},_initFunction:function(){if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}},initView:function(){var a="/api/stakeholder/list.json";var b={officeId:this.officeId,articleId:this.articleId,groupId:this.groupId};var c=new $Ajax(a,{method:"post",onload:jindo.$Fn(function(d){var e=d.json().message;if(e.success){this._filterStakeHolderList(e.stakeHolderList);this.hasExposureNContent=e.hasExposureNContent;this.isBlackId=e.isBlackId;if(this._hasNoGroupList(this.stakeholderList)){return}this.showView(this.stakeholderList)}},this).bind()});c.request(b)},showView:function(a){this._exposeTheTemplate(this.TEMPLATES.SHOW,{isGroupUser:this.isGroupUser,groupList:a})},detailView:function(a){var b=this._findGroupBySeq(a);this._exposeTheTemplate(this.TEMPLATES.DETAIL,{groupName:b.nickname,seq:a,content:b.content2,latestRegisteredTime:this.dateTransformer(b.modDate),isValidUser:this.isGroupUser&&(this.groupId==b.groupId)})},updateView:function(a){var b=this._findGroupBySeq(a);this.confirmNickname();this._exposeTheTemplate(this.TEMPLATES.UPDATE,{groupName:this.groupName,groupId:this.groupId,personalId:this.personalId,seq:a,content:b.content});this.tamUpdate.updateInputTextCount();window.scrollTo(0,jindo.$Element("loadStakeholderView").offset().top)},writeView:function(){this.confirmNickname();this._exposeTheTemplate(this.TEMPLATES.WRITE,{groupName:this.groupName,groupId:this.groupId,personalId:this.personalId});this.tamWrite.updateInputTextCount();window.scrollTo(0,jindo.$Element("loadStakeholderView").offset().top)},insert:function(b){this.confirmNickname();var a="/api/stakeholder/write.json";var c={groupId:this.groupId,personalId:this.personalId,officeId:this.officeId,articleId:this.articleId,sectionId:this.sectionId,title:this.articleTitle,content:b,nickname:this.groupName};var d=new $Ajax(a,{method:"post",onload:jindo.$Fn(function(e){var f=e.json().message;if(f.success){this.initView()}else{if(f.errorMessage!=null){alert(f.errorMessage)}}},this).bind()});d.request(c)},update:function(a,c){this.confirmNickname();var b="/api/stakeholder/update.json";var d={seq:a,content:c,groupId:this.groupId,personalId:this.personalId,officeId:this.officeId,articleId:this.articleId,nickname:this.groupName};var e=new $Ajax(b,{method:"post",onload:jindo.$Fn(function(f){var g=f.json().message;if(g.success){this.initView()}else{if(g.errorMessage!=null){alert(g.errorMessage)}}},this).bind()});e.request(d)},del:function(a){var b="/api/stakeholder/delete.json";var c={seq:a,groupId:this.groupId,officeId:this.officeId,articleId:this.articleId};var d=new $Ajax(b,{method:"post",onload:jindo.$Fn(function(e){var f=e.json().message;if(f.success){this.initView()}else{if(f.errorMessage!=null){alert(f.errorMessage)}}},this).bind()});d.request(c)},_initEventCommon:function(){this.templateEle.delegate("click",".stakeholder_btn-closecomment",jindo.$Fn(function(a){a.stopDefault();this.showView(this.stakeholderList)},this).bind())},_initEventForShow:function(){this.templateEle.delegate("click",".stakeholder_group_name",jindo.$Fn(function(a){a.stopDefault();this.detailView(parseInt(jindo.$Element($(a.element)).attr("data-seq")))},this).bind());this.templateEle.delegate("click",".stakeholder_btn-help",jindo.$Fn(function(b){b.stopDefault();var a=jindo.$Element(this.templateEle.query(".stakeholder_help"));a.show()},this).bind());this.templateEle.delegate("click",".stakeholder_btn-closehelp",jindo.$Fn(function(b){b.stopDefault();var a=jindo.$Element(this.templateEle.query(".stakeholder_help"));a.hide()},this).bind());this.templateEle.delegate("click","#stakeholderWriteBtn",jindo.$Fn(function(a){a.stopDefault();if(this.isBlackId){alert("해당 ID가 서비스 이용중지된 상태입니다.");return}if(this.hasExposureNContent){alert("게시가 중단된 의견글이 있습니다.\n의견글은 1회만 작성할 수 있습니다.");return}if(this._isNotWritten()){this.writeView()}else{alert("이미 작성된 의견이 있습니다.\n의견글은 1회만 작성할 수 있습니다.")}},this).bind())},_initEventForDetail:function(){if(JSON.parse(this.isGroupUser)){this.templateEle.delegate("click",".stakeholder_txbtn-edit",jindo.$Fn(function(b){b.stopDefault();if(this.isBlackId){alert("해당 ID가 서비스 이용중지된 상태입니다.");return}var a=parseInt(jindo.$Element($(b.element)).attr("data-seq"));this.updateView(a)},this).bind());this.templateEle.delegate("click",".stakeholder_txbtn-delete",jindo.$Fn(function(b){b.stopDefault();if(this.isBlackId){alert("해당 ID가 서비스 이용중지된 상태입니다.");return}var a=parseInt(jindo.$Element($(b.element)).attr("data-seq"));if(confirm("삭제 후 복구가 불가능합니다.\n 삭제하시겠습니까?")){this.del(a)}},this).bind())}},_initEventForUpdate:function(){this.tamUpdate=new TextAreaManager(this.templateEle,{sendClass:"tam_send_update"});this.templateEle.delegate("click",".tam_send_update",jindo.$Fn(function(c){c.stopDefault();var a=parseInt(jindo.$Element($(c.element)).attr("data-seq"));if(this.tamUpdate.canSave()){var b=jindo.$Element(this.templateEle.query(".tam_text")).text();b=b.trim().replace(/\n/gi,"\\n").replace(/&lt;/gi,"<").replace(/&gt;/gi,">");this.update(a,b)}},this).bind())},_initEventForWrite:function(){this.tamWrite=new TextAreaManager(this.templateEle,{sendClass:"tam_send_write"});this.templateEle.delegate("mouseup",".tam_text",jindo.$Fn(function(a){a.stopDefault();jindo.$Element(a.element).addClass("on")},this).bind());this.templateEle.delegate("focusout",".tam_text",jindo.$Fn(function(a){a.stopDefault();if(jindo.$Element(this.templateEle.query(".tam_text")).text().trim()==""){jindo.$Element(this.templateEle.query(".stakeholder_layer_here")).removeClass("on")}},this).bind());this.templateEle.delegate("click",".tam_send_write",jindo.$Fn(function(b){b.stopDefault();if(this.tamWrite.canSave()){var a=jindo.$Element(this.templateEle.query(".tam_text")).text();a=a.trim().replace(/\n/gi,"\\n");this.insert(a)}},this).bind())},_filterStakeHolderList:function(a){this.seq=null;a.forEach(jindo.$Fn(function(c,b,d){if((c.groupId==this.groupId)){this.seq=c.seq}c.content=c.content.replace(/&#92;n/gi,"\n")},this).bind());this.stakeholderList=a},_exposeTheTemplate:function(b,c){var a=$Template(b);this.templateEle.html(a.process(c))},_findGroupBySeq:function(b){var a;this.stakeholderList.forEach(jindo.$Fn(function(d,c,e){if(d.seq==b){a=d}},this).bind());return a},_hasNoGroupList:function(a){if(!JSON.parse(this.isGroupUser)&&a.length<=0){return true}return false},_isNotWritten:function(a){if(this.seq==null&&!(parseInt(this.seq)>0)){return true}return false},confirmNickname:function(b){var a="/api/common/getMyProfile.json";var c=new $Ajax(a,{method:"post",async:false,onload:jindo.$Fn(function(d){var e=d.json();if(e.result=="success"){this.groupName=e.returnValue.nickName}},this).bind()});c.request()},dateTransformer:function(f){var j=new Date(f);var d=j.getFullYear();var c=(j.getMonth()+1);if(c<10){c="0"+c}var a=j.getDate();if(a<10){a="0"+a}var e=j.getHours();var h="오전";if(e>12){e=e-12;h="오후"}else{if(e==12){h="오후"}}if(e==0){e="00"}else{if(e<10){e="0"+e}}var g=j.getMinutes();if(g==0){g="00"}else{if(g<10){g="0"+g}}var b=d+"."+c+"."+a+" "+h+" "+e+":"+g;return b},TEMPLATES:{SHOW:'{set nclick_aoc_cmt = "aoc.cmt"}			{set nclick_aoc_write = "aoc.write"}			{if isGroupUser == "true"}				{set class_stakeholder_p = "기사 관련된 의견을 직접 작성하실 수 있습니다."}				{set class_stakeholder_help_p = "<em>공식 의견</em>은 기사와 관련된 이해당사자나 언론사(기자)가 의견을 직접 작성할 수 <br>있는 공간입니다. 이해당사자는 본문에 명시된 단체로, 언론사(기자)는 본문을 작성한 매체로 <br>제한되며 이에 부합하지 않을 경우 삭제됩니다. 본문 내용과 관계없는 단체 또는 관련없는 <br>내용을 작성할 경우 해당 단체 ID로 의견 작성이 제한됩니다."}				{set nclick_aoc_hopen = "aoc.ghopen"}				{set nclick_aoc_hclose = "aoc.ghclose"}			{else}				{set class_stakeholder_p = "기사 관련된 이해당사자나 언론사(기자)의 의견이 있습니다."}				{set class_stakeholder_help_p = "<em>공식 의견</em>은 기사 본문에 명시된 이해당사자나 언론사(기자)가 의견을 작성할 수 있는 공간입니다.<br>글 게시는 확인절차를 거친 단체 ID에 한해 허용됩니다."}				{set nclick_aoc_hopen = "aoc.phopen"}				{set nclick_aoc_hclose = "aoc.phclose"}			{/if}			<div class="stakeholder">				<h3 class="stakeholder_subject"><i class="ico_subject"></i>공식 의견</h3>				<p class="stakeholder_p">{=class_stakeholder_p}</p>				{if groupList.length != 0}				<div class="stakeholder_group">					{for group in groupList}						<a href="#" data-seq="{=group.seq}"  class="stakeholder_group_name nclicks({=nclick_aoc_cmt})">{=group.nickname}<i class="ico_groupname"></i></a>					{/for}				</div>				{/if}				{if isGroupUser == "true"}					<div class="stakeholder_footer"><a href="#" class="stakeholder_txbtn stakeholder_txbtn-write nclicks({=nclick_aoc_write})" id="stakeholderWriteBtn">글쓰기</a></div>				{/if}				<a href="#" class="stakeholder_btn stakeholder_btn-help nclicks({=nclick_aoc_hopen})"><span class="blind">도움말</span></a>				<div class="stakeholder_help">					<div class="stakeholder_help_inner">						<p class="stakeholder_help_p">{=class_stakeholder_help_p}</p>						<a href="#" class="stakeholder_btn stakeholder_btn-closehelp nclicks({=nclick_aoc_hclose})"><span class="blind">닫기</span></a>					</div>				</div>			</div>',WRITE:'{set nclick_aoc_idchange = "aoc.idchange"}				{set nclick_aoc_writeok = "aoc.writeok"}				{set nclick_aoc_writeclose = "aoc.writeclose"}				<div class="stakeholder_layer as_general" style="display: block">					<form>						<fieldset>							<legend class="">공식 의견 작성하기</legend>							<div class="stakeholder_layer_head">								<strong class="stakeholder_layer_name">{=groupName}<span class="stakeholder_layer_name_id">({=groupId}.{=personalId})</span></strong>								<em class="stakeholder_layer_changename">작성자명 변경 <a href="http://me.naver.com/main.nhn?openProfile=true" class="nclicks({=nclick_aoc_idchange})" target="_blank">클릭</a><i class="ico_changename"></i></em>							</div>							<div class="stakeholder_layer_body">								<p class="stakeholder_layer_guide" style="margin-right: 24px">본 영역은 해당 기사에 대해 이해당사자나 언론사(기자)가 의견을 직접 작성할 수 있는 공간입니다.이해당사자는 본문에 명시된 단체로, 언론사(기자)는 본문을 작성한 매체로 제한되며, 이에 부합하지 않을 경우 삭제됩니다.본문 내용과 관계없는 단체 또는 관련없는 내용을 작성할 경우 해당 단체 ID로 의견 작성이 제한됩니다.게시글은 1000자 내외로 1회만 작성하실 수 있습니다.</p>								<textarea class="stakeholder_layer_here tam_text"></textarea>							</div>							<div class="stakeholder_layer_footer">								<p class="stakeholder_layer_count tam_count"></p>								<span class="stakeholder_txbtn stakeholder_txbtn-submit tam_send_write nclicks({=nclick_aoc_writeok})"><input type="submit" value="등록하기" class="stakeholder_txbtn-submit_input"></span>							</div>						</fieldset>					</form>					<a href="#" class="stakeholder_btn stakeholder_btn-closecomment nclicks({=nclick_aoc_writeclose})"><span class="blind">닫기</span></a>				</div>',DETAIL:'{set nclick_aoc_cmtmod = "aoc.cmtmod"}					{set nclick_aoc_cmtdel = "aoc.cmtdel"}					{set nclick_aoc_cmtclose = "aoc.cmtclose"}					<div class="stakeholder_layer as_general" style="display: block">						<div class="stakeholder_layer_head">							<strong class="stakeholder_layer_name">{=groupName}</strong>							<em class="stakeholder_layer_date">{=latestRegisteredTime}</em>						</div>						<div class="stakeholder_layer_body">							<p class="stakeholder_layer_text">{=content}</p>						</div>						{if isValidUser}							<div class="stakeholder_layer_footer">								<a href="#" class="stakeholder_txbtn stakeholder_txbtn-edit nclicks({=nclick_aoc_cmtmod})" data-seq="{=seq}">수정하기</a>								<a href="#" class="stakeholder_txbtn stakeholder_txbtn-delete nclicks({=nclick_aoc_cmtdel})" data-seq="{=seq}">삭제하기</a>							</div>						{else}							<p class="stakeholder_layer_source">본 글은 <em>{=groupName}</em>(이)가 직접 작성한 글입니다.</p>						{/if}						<a href="#" class="stakeholder_btn stakeholder_btn-closecomment nclicks({=nclick_aoc_cmtclose})"><span class="blind">닫기</span></a>					</div>',UPDATE:'{set nclick_aoc_idchange = "aoc.idchange"}					{set nclick_aoc_cmtclose = "aoc.cmtclose"}					<div class="stakeholder_layer as_general" style="display: block">						<form>							<fieldset>								<legend class="">공식 의견 작성하기</legend>								<div class="stakeholder_layer_head">									<strong class="stakeholder_layer_name">{=groupName}<span class="stakeholder_layer_name_id">({=groupId}.{=personalId})</span></strong>									<em class="stakeholder_layer_changename">작성자명 변경 <a href="http://me.naver.com/main.nhn?openProfile=true" class="nclicks({=nclick_aoc_idchange})" target="_blank">클릭</a><i class="ico_changename"></i></em>								</div>								<div class="stakeholder_layer_body">									<p class="stakeholder_layer_guide" style="margin-right: 24px"></p>									<textarea class="stakeholder_layer_here tam_text">{=content}</textarea>								</div>								<div class="stakeholder_layer_footer">									<p class="stakeholder_layer_count tam_count"></p>									<span class="stakeholder_txbtn stakeholder_txbtn-submit tam_send_update" data-seq="{=seq}"><i></i><input type="submit" value="수정하기" class="stakeholder_txbtn-submit_input"><i></i></span>								</div>							</fieldset>						</form>						<a href="#" class="stakeholder_btn stakeholder_btn-closecomment nclicks({=nclick_aoc_cmtclose})"><span class="blind">닫기</span></a>					</div>'}};var TextAreaManager=jindo.$Class({options:null,divEle:null,isReadyToWrite:false,$init:function(b,a){this._initOptions(a);this._initElement(b);this._initEvent();this._initFunction()},_initElement:function(a){this.divEle=a},_initEvent:function(){this.countText();this.alertMinimumText()},_initFunction:function(){if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}},_initOptions:function(a){this.options={maxLength:1000,minLength:10,textClass:"tam_text",countClass:"tam_count",sendClass:"tam_send"};if(a!=null){if(a.maxLength!=null){this.options.maxLength=parseInt(a.maxLength)}if(a.minLength!=null){this.options.minLength=parseInt(a.minLength)}if(a.textClass!=null){this.options.textClass=a.textClass}if(a.countClass!=null){this.options.countClass=a.countClass}if(a.sendClass!=null){this.options.sendClass=a.sendClass}}},countText:function(){this.divEle.delegate("keyup","."+this.options.textClass,jindo.$Fn(function(){this.updateInputTextCount()},this).bind());this.divEle.delegate("mouseup","."+this.options.textClass,jindo.$Fn(function(){this.updateInputTextCount()},this).bind())},updateInputTextCount:function(){this.preventMoreInputText();if(this.options.countClass!=null){jindo.$Element(this.divEle.query("."+this.options.countClass)).text(jindo.$Element(this.divEle.query("."+this.options.textClass)).text().length+"/"+this.options.maxLength)}},preventMoreInputText:function(){var a=this;if(jindo.$Element(this.divEle.query("."+this.options.textClass)).text().length>this.options.maxLength){alert("1000자 이내로 의견을 작성해주세요.");jindo.$Element(this.divEle.query("."+this.options.textClass)).text(jindo.$Element(this.divEle.query("."+this.options.textClass)).text().substring(0,this.options.maxLength))}},alertMinimumText:function(){this.divEle.delegate("click","."+this.options.sendClass,jindo.$Fn(function(a){if(jindo.$Element(this.divEle.query("."+this.options.textClass)).text().trim().length<this.options.minLength){jindo.$Element(this.divEle.query("."+this.options.textClass)).text(jindo.$Element(this.divEle.query("."+this.options.textClass)).text().trim());alert("내용을 최소 10자 이상 입력해주세요.");this.isReadyToWrite=false}else{this.isReadyToWrite=true}},this).bind())},canSave:function(){return this.isReadyToWrite}});if(typeof news=="undefined"){news={}}if(typeof news.closing2015=="undefined"){news.closing2015={}}news.closing2015.PollManager={_aIds:null,init:function(b,a){if(b){if(b=="SUCCESS"){alert("투표에 참여해주셔서 감사합니다.");window.location.href=window.location.href.replace("&pollState=SUCCESS","")}else{if(b=="VOTED"){alert("이미 투표에 참여하셨습니다.");window.location.href=window.location.href.replace("&pollState=VOTED","")}else{if(b=="NOT_EXACT"){alert("시스템 오류가 발생하였습니다. 다시 시도하여 주세요.");window.location.href=window.location.href.replace("&pollState=NOT_EXACT","")}else{if(b=="EXPIRED"){alert("투표가 종료되었습니다.");window.location.href=window.location.href.replace("&pollState=EXPIRED","")}}}}}else{this._setTotalVoteCount(a);this._assign();this._bindEvents()}this._allocatePoll()},_assign:function(){var a=this;a._aIds=jindo.$A();jindo.$A(jindo.$$(".cls_lst li.selected")).forEach(function(c,b,d){a._aIds.push(c.id)})},_bindEvents:function(){jindo.$Fn(this.clickItem,this).attach(jindo.$$(".cls_lst .ico_chk"),"click");jindo.$Fn(this.vote,this).attach(jindo.$Element("__vote"),"click")},_setTotalVoteCount:function(b){var a=jindo.$Element(jindo.$$.getSingle("span.num_info .txt"));if(a){a.text(b)}},vote:function(b){b.stopDefault();if(this.countChecked(true)){var a=jindo.$("multiPollForm");a.elements.itemList.value=jindo.$A(this._aIds).toString();a.submit()}},clickItem:function(b){b.stopDefault();var a=jindo.$Element(jindo.$Event(b).currentElement);var d=a.attr("data-item-id");var c=jindo.$Element(jindo.$$.getSingle("li.__item_"+d));if(!c.hasClass("selected")){this._aIds.push(d)}else{this._aIds.pop(d)}c.toggleClass("selected");this.countChecked()},countChecked:function(b){var d=this._aIds;var c=d.length();if(c>5){alert("5개까지만 선택하실 수 있습니다.");var e=d.pop();var a=jindo.$Element(jindo.$$.getSingle("li.__item_"+e));a.removeClass("selected");return false}else{if(b&&c<5){alert("5개를 선택하신 후에 투표해주세요.");return false}}return true},_allocatePoll:function(){var c;var d=jindo.$ElementList("#answerList_random li");var e=d.length();for(c=0;c<e;c++){var a=Math.floor(Math.random()*e);var b=d.get(0);d.get(0).replace(d.get(a)).after(b)}}};if(typeof news=="undefined"){news={}}if(typeof news.opinion=="undefined"){news.opinion={}}news.opinion.Controller={init:function(){news.opinion.OfficialEditorialController.init();var a={};a.containerId="opinionTodayEditorial";a.rollingId="opinionTodayEditorialRolling";a.moveCount=2;new news.opinion.RollingController(a);a={};a.containerId="opinionCartoon";a.rollingId="opinionCartoonRolling";a.moveCount=3;new news.opinion.RollingController(a)}};news.opinion.RollingController=jindo.$Class({_welBase:null,_totalItems:0,_default_move_count:2,_disable_prev_btn:'<span class="opinion_nav_prev"><span class="blind">이전</span></span>',_able_prev_btn:'<a href="#" class="opinion_nav_prev"><span class="blind">이전</span></a>',_disable_next_btn:'<span class="opinion_nav_next"><span class="blind">다음</span></span>',_able_next_btn:'<a href="#" class="opinion_nav_next"><span class="blind">다음</span></a>',$init:function(a){this._welBase=jindo.$Element(a.containerId);if(!this._welBase){return}this._default_move_count=a.moveCount;this._rollingObj=new jindo.Rolling(jindo.$(a.rollingId),{nDuration:250});this._totalItems=this._rollingObj.getItems().length;if(this._totalItems>this._default_move_count){this._ableNextButton()}},_disableNextButton:function(){var b=this;var a=this._able_prev_btn+this._disable_next_btn;jindo.$Element(this._welBase.query("div.opinion_nav")).empty();jindo.$Element(this._welBase.query("div.opinion_nav")).appendHTML(a);jindo.$Fn(function(c){b._prev(c)}).attach(jindo.$Element(this._welBase.query("div.opinion_nav a.opinion_nav_prev")),"click")},_ableNextButton:function(){var b=this;var a=this._disable_prev_btn+this._able_next_btn;jindo.$Element(this._welBase.query("div.opinion_nav")).empty();jindo.$Element(this._welBase.query("div.opinion_nav")).appendHTML(a);jindo.$Fn(function(c){b._next(c)}).attach(jindo.$Element(this._welBase.query("div.opinion_nav a.opinion_nav_next")),"click")},_allAbleButton:function(){var b=this;var a=this._able_prev_btn+this._able_next_btn;jindo.$Element(this._welBase.query("div.opinion_nav")).empty();jindo.$Element(this._welBase.query("div.opinion_nav")).appendHTML(a);jindo.$Fn(function(c){b._prev(c)}).attach(jindo.$Element(this._welBase.query("div.opinion_nav a.opinion_nav_prev")),"click");jindo.$Fn(function(c){b._next(c)}).attach(jindo.$Element(this._welBase.query("div.opinion_nav a.opinion_nav_next")),"click")},_prev:function(d){jindo.$(d).stopDefault();var c=this._rollingObj;if(c==null){return}var a=c.getIndex();var b=a-this._default_move_count;if(b<=0){b=0;this._ableNextButton()}else{this._allAbleButton()}c.moveTo(b)},_next:function(d){jindo.$(d).stopDefault();var c=this._rollingObj;if(c==null){return}var b=c.getIndex();var a=b+this._default_move_count;if(a>=this._totalItems-this._default_move_count){c.moveTo(this._totalItems-1);this._disableNextButton()}else{c.moveTo(a);this._allAbleButton()}}});news.opinion.OfficialEditorialController={init:function(){var a=jindo.$ElementList(".officialeditorial_toggle");if(!a){return}var b=this;jindo.$Fn(function(c){b._toggle(c)}).attach(jindo.$ElementList(".officialeditorial_toggle").$value(),"click")},_toggle:function(a){jindo.$Event(a).stopDefault();var b=jindo.$Element(a.currentElement);b.toggleClass("is_closed");b.toggleClass("is_opened");b.parent().next().toggleClass("is_hidden")}};var NewsCluster=jindo.$Class({$static:{_SELECTOR_HELP_LAYER:"._news_cluster_layer",_SELECTOR_HELP_LAYER_BTN:"._news_cluster_layer_btn",_SELECTOR_HELP_LAYER_CLOSE_BTN:"._news_cluster_layer_close_btn",_SELECTOR_CLUSTER_MORE_BTN:"._news_cluster_more_btn",_SELECTOR_CLUSTER_CONTENT:"._cluster_content",_SELECTOR_CLUSTER_MORE_LAYER:"._news_cluster_more_layer",_CLASS_IS_HIDDEN:"is_hidden",_NCLICK_PREFIX:{"100":"pol","101":"eco","102":"soc","103":"lif","104":"wor","105":"itn","106":"etn"}},$init:function(){this._fnOnClickHelpLayerBtn=jindo.$Fn(this._onClickHelpLayerBtn,this).bind();this._fnOnClickHelpLayerCloseBtn=jindo.$Fn(this._onClickHelpLayerCloseBtn,this).bind();this._fnOnClickClusterMoreBtn=jindo.$Fn(this._onClickClusterMoreBtn,this).bind()},init:function(b){if(b==null){return}var a=Persist.getPersistedData("persist-cluster-data");if(a){jindo.$$.getSingle("._persist").innerHTML=a}this._sectionId=b;this.deactivate();this._welWrapper=jindo.$Element(document);this._welHelpLayer=jindo.$Element(this._welWrapper.query(this.constructor._SELECTOR_HELP_LAYER));this._welMoreLayer=jindo.$Element(this._welWrapper.query(this.constructor._SELECTOR_CLUSTER_MORE_LAYER));Persist.addOnClickLinkListener(function(d){var c=jindo.$$.getSingle("._persist").innerHTML;d.set("persist-cluster-data",c)});this.activate();return this},_onActivate:function(){this._welWrapper.delegate("click",this.constructor._SELECTOR_HELP_LAYER_BTN,this._fnOnClickHelpLayerBtn);this._welWrapper.delegate("click",this.constructor._SELECTOR_HELP_LAYER_CLOSE_BTN,this._fnOnClickHelpLayerCloseBtn);this._welWrapper.delegate("click",this.constructor._SELECTOR_CLUSTER_MORE_BTN,this._fnOnClickClusterMoreBtn)},_onDeactivate:function(){this._welWrapper.delegate("click",this.constructor._SELECTOR_HELP_LAYER_BTN,this._fnOnClickHelpLayerBtn);this._welWrapper.delegate("click",this.constructor._SELECTOR_HELP_LAYER_CLOSE_BTN,this._fnOnClickHelpLayerCloseBtn);this._welWrapper.delegate("click",this.constructor._SELECTOR_CLUSTER_MORE_BTN,this._fnOnClickClusterMoreBtn)},_onClickHelpLayerBtn:function(a){a.stopDefault();if(this._welHelpLayer.hasClass(this.constructor._CLASS_IS_HIDDEN)){this._welHelpLayer.removeClass(this.constructor._CLASS_IS_HIDDEN)}else{this._welHelpLayer.addClass(this.constructor._CLASS_IS_HIDDEN)}},_onClickHelpLayerCloseBtn:function(a){a.stopDefault();this._welHelpLayer.addClass(this.constructor._CLASS_IS_HIDDEN)},_onClickClusterMoreBtn:function(a){a.stopDefault();var b=jindo.$ElementList(this._welWrapper.queryAll(this.constructor._SELECTOR_CLUSTER_CONTENT));if(b.length()==0){return}jindo.$ElementList(jindo.$$("._cluster_content[@display=none]")).show();if(jindo.$$("._cluster_content[@display=none]").length<=0){this._welMoreLayer.addClass(this.constructor._CLASS_IS_HIDDEN)}}}).extend(jindo.UIComponent);if(typeof news=="undefined"){news={}}news.FactcheckManager={init:function(){this._setElement();this._setEvent();news.util.CommentListCountManager.view()},_setElement:function(){var a=jindo.$Element("_fact_cont");this._factcheckMsg=jindo.$Element(a.query("._factcheck_msg"));this._factcheckBody=jindo.$Element(a.query("._factcheck_body"))},_setEvent:function(){if(this._factcheckMsg){this._factcheckMsg.delegate("click","._factcheck_msg_close",jindo.$Fn(this._hideMsg,this).bind())}this._factcheckBody.delegate("click","._factcheck_result_toggle",jindo.$Fn(this._toggleScore,this).bind()).delegate("click","._press_message_more",jindo.$Fn(this._morePressMassage,this).bind()).delegate("click","._list_view_btn",jindo.$Fn(this._goList,this).bind())},_goList:function(a){a.stopDefault();if(document.referrer&&document.referrer.indexOf("/main/factcheck/main.")!=-1&&history.state==null){location.href=document.referrer}else{location.href="/main/factcheck/main.naver"}},_hideMsg:function(a){a.stopDefault();this._factcheckMsg.hide();jindo.$Cookie().set("hide_factcheck_msg","true",365)},_toggleScore:function(a){a.stopDefault();var b=jindo.$Element(a.element);var c=b.parent(function(d){return d.hasClass("result_area")},3)[0].queryAll(".bx");c=jindo.$ElementList(c);if(b.hasClass("on")){c.hide()}else{c.show()}b.toggleClass("on")},_morePressMassage:function(a){a.stopDefault();var c=jindo.$Element(a.element);var d=c.parent(function(f){return f.hasClass("bx")},7)[0];var e=jindo.$Element(d.query("._press_message_more"));var b=jindo.$Element(d.query(".news"));if(c.hasClass("close")){if(d!=null){window.scrollTo(d.offset().left,d.offset().top-40)}e.text("더보기")}else{e.text("접기")}e.toggleClass("close");b.toggleClass("hide");news.right.RightSideFloatingManager.updatePosition()}};LiveCommonController=jindo.$Class({$static:{_TOP_HEIGHT:0},$init:function(){this._welTopButton=jindo.$Element(jindo.$$.getSingle("._live_top_btn"));this._welTopButton.attach("click",this._onClickTopBtn)},_onClickTopBtn:function(){if(jindo.$Document().scrollPosition().top>this.constructor._TOP_HEIGHT){window.scrollTo(0,nHeight)}}});LiveMiniplayerController=jindo.$Class({$static:{_LIVE_PLAYER_HEIGHT:721,_MINIPLAYER_CLASS:"media_miniplayer"},$init:function(){this._welPlayerWrap=jindo.$Element(jindo.$$.getSingle(".player_wrap"));this._welMiniplayerCloseBtn=jindo.$Element(jindo.$$.getSingle("._miniplayer_close_btn"));this._bIsClickedCloseBtn=false;jindo.$Fn(this._onScroll,this).attach(window,"scroll");jindo.$Fn(this._onClickMiniplayerCloseBtn,this).attach(this._welMiniplayerCloseBtn,"click")},_onScroll:function(){if(this._bIsClickedCloseBtn===true){return}if(jindo.$Document().scrollPosition().top>this.constructor._LIVE_PLAYER_HEIGHT){if(this._welPlayerWrap.hasClass(this.constructor._MINIPLAYER_CLASS)===false){this._welPlayerWrap.addClass(this.constructor._MINIPLAYER_CLASS)}}else{if(this._welPlayerWrap.hasClass(this.constructor._MINIPLAYER_CLASS)){this._welPlayerWrap.removeClass(this.constructor._MINIPLAYER_CLASS)}}},_onClickMiniplayerCloseBtn:function(){this._bIsClickedCloseBtn=true;this._welPlayerWrap.removeClass(this.constructor._MINIPLAYER_CLASS)}});if(typeof news=="undefined"){news={}}if(typeof news.ent=="undefined"){news.ent={}}if(typeof news.ent.live=="undefined"){news.ent.live={}}news.ent.live.VodManager={tPageOnTpl:jindo.$Template('<a class="sp_img on"><b class="blind" title="\ud604\uc7ac\ud398\uc774\uc9c0">{=page}</b></a>'),tPageTpl:jindo.$Template('<a href="#" class="sp_img"><span class="blind">{=page}</span></a>'),init:function(a){this.aContentsList=a;this.nContentIndex=0;this.nPlayListPageIndex=1;this.MAX_BTN_PAGE=Math.ceil(this.aContentsList.length/4);this._initElement();this._initEvent()},_initElement:function(){var b=jindo.$Element("playerWrapper");this.welPlayer=b.first();this.welBtnList=b.child();this.welPage=jindo.$Element("pagination");this.welPlayList=jindo.$Element("playList").queryAll("li");this.welPlayListPage=jindo.$Element("playListPage");var a=jindo.$Element("playListPageBtnWrapper");this.welPlayListPageBtn=a.child()},_initEvent:function(){this.welBtnList[2].attach("click",jindo.$Fn(this._onClickPrevButton,this).bind());this.welBtnList[4].attach("click",jindo.$Fn(this._onClickNextButton,this).bind());this.welPage.delegate("click",".sp_img",jindo.$Fn(this._onClickPage,this).bind());for(var a=0;a<this.welPlayList.length;a++){this.welPlayList[a].first().attach("click",jindo.$Fn(this._onClickPlayList,this).bind(a))}this.welPlayListPageBtn[0].attach("click",jindo.$Fn(this._onClickPlayListPagePrevButton,this).bind());this.welPlayListPageBtn[2].attach("click",jindo.$Fn(this._onClickPlayListPageNextButton,this).bind())},_onClickPrevButton:function(a){a.stop();this.nContentIndex--;this.update()},_onClickNextButton:function(a){a.stop();this.nContentIndex++;this.update()},_onClickPlayListPagePrevButton:function(a){a.stop();this.nPlayListPageIndex--;this._updatePlayList()},_onClickPlayListPageNextButton:function(a){a.stop();this.nPlayListPageIndex++;this._updatePlayList()},_onClickPage:function(a){a.stop();var b=jindo.$Element(a.element).first().html()-1;if(b!=this.nContentIndex){this.setContentIndex(b)}},_onClickPlayList:function(b,a){a.stop();this.setContentIndex(b)},update:function(){this.nPlayListPageIndex=this._getPlayListPage();this._updateContents();this._updatePage();this._updateBtn();this._updatePlayList()},_updatePlayList:function(){var a=(this.nPlayListPageIndex-1)*4;this._updatePlayListContents();this._updatePlayListPage();this._updatePlayListBtn()},_updateContents:function(){this.welPlayer.html(this.aContentsList[this.nContentIndex])},_updatePage:function(){var d=[];for(var c=0,a=this.aContentsList.length;c<a;c++){var b=c==this.nContentIndex?this.tPageOnTpl:this.tPageTpl;d.push(b.process({page:c+1}))}this.welPage.html(d.join(""))},_updateBtn:function(){this.welBtnList[1].visible(this.nContentIndex==0);this.welBtnList[2].visible(this.nContentIndex!=0);this.welBtnList[3].visible(this.nContentIndex==(this.aContentsList.length-1));this.welBtnList[4].visible(this.nContentIndex!=(this.aContentsList.length-1))},_updatePlayListContents:function(){var c=this._getPlayListFirstElementIndex();for(var a=0;a<this.welPlayList.length;a++){var b=this.welPlayList[a];b[(this.nContentIndex==a)?"addClass":"removeClass"]("on");b.visible((c<=a)&&(a<(c+4)))}},_updatePlayListPage:function(){this.welPlayListPage.html(this.nPlayListPageIndex)},_updatePlayListBtn:function(){if(this.nPlayListPageIndex==1){this.welPlayListPageBtn[0].css("display","none");this.welPlayListPageBtn[1].css("display","")}else{this.welPlayListPageBtn[0].css("display","");this.welPlayListPageBtn[1].css("display","none")}if(this.nPlayListPageIndex==this.MAX_BTN_PAGE){this.welPlayListPageBtn[2].css("display","none");this.welPlayListPageBtn[3].css("display","")}else{this.welPlayListPageBtn[2].css("display","");this.welPlayListPageBtn[3].css("display","none")}},_getPlayListFirstElementIndex:function(){return(this.nPlayListPageIndex-1)*4},_getPlayListPage:function(){return Math.ceil((this.nContentIndex+1)/4)},setContentIndex:function(a){this.nContentIndex=a;this.update()}};news.ent.live.FieldSketchManager={nPage:2,sServletPath:"/main/ent/fieldSketch.naver",tNewsItem:jindo.$Template('<li><a href="{=url}" target="_blank"><img src="{=imgUrl1}" width="230" height="235" alt="{=title}" onerror="news.ent.live.setNotFoundImage(this);"><span class="mask"></span><strong class="title">{if !!remark}[{=remark}]{/if} {=title}</strong></a></li>'),init:function(a){this.componentId=a;this._initElement();this.attachEventForClick()},_initElement:function(){this.welThmb=jindo.$Element("fieldSketchThmb");this.welNoMoreBtn=jindo.$Element("fieldSketchNoMoreBtn");this.welMoreBtn=jindo.$Element("fieldSketchMoreBtn")},attachEventForClick:function(){jindo.$Fn(this._click,this).attach(this.welMoreBtn,"click")},_click:function(a){a.stop();var b="?componentId="+this.componentId+"&page="+this.nPage;this._request(b)},_request:function(a){jindo.$Ajax(this.sServletPath+a,{onload:jindo.$Fn(function(l){var o=l.json();var d=o.itemList;var j="";for(var g=0;d.length>g;g++){var k=d[g];var c=k.linkUrl;if(!c){c="/main/read.naver?mode=LSD&mid=shm&sid1=106&oid="+k.officeId+"&aid="+k.articleId}var f=k.title.length;var h=k.remark?k.remark.length+3:0;var n=k.title.replace(/&quot;/g,'"').replace(/&lt/g,"<").replace(/&gt;/g,">");var m=n.substring(0,25-h).replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");m=(m.length+h)>=25?m+"...":m;var b={remark:k.remark,url:c,title:m,imgUrl1:k.imgUrl1};j+=this.tNewsItem.process(b)}this.welThmb.appendHTML(j);var e=o.pagerInfo.nextPage;if(e==0){this.welNoMoreBtn.css("display","block");this.welMoreBtn.css("display","none");return}this.nPage++},this).bind()}).request()}};news.ent.live.setNotFoundImage=function(b){var a=news.ent.live.noImgUrl;jindo.$(b).src=a;jindo.$(b).onerror=""};if(typeof news=="undefined"){news={}}if(typeof news.external=="undefined"){news.external={}}news.external.GNB={src:"https://ssl.pstatic.net/static.gn/templates/gnb_utf8?"+gnb_timestamp,load:function(a){jindo.LazyLoading.load(this.src,function(){getGNB()},"utf-8")}};news.external.OPS={src:"https://ssl.pstatic.net/static/common/js/cs_ops_webncc.js",_loadModule:function(a){jindo.LazyLoading.load(this.src,function(){OPS.viewOPS("ops",{url:a})},"euc-kr")},_loadNewModule:function(b,a){jindo.LazyLoading.load(this.src,function(){var c="https://help.naver.com/support/service/main.nhn";if(a&&a!=""){c=a}OPS.viewOPS("ops",{url:c,param:b})},"euc-kr")},helpNews:function(){this._loadModule("https://help.naver.com/support/alias/news/news_1.naver")},helpNewsLibrary:function(){this._loadNewModule("serviceNo=998")},helpNewsPaper:function(){var a="https://help.naver.com/support/contents/contents.nhn";this._loadNewModule("serviceNo=997&categoryNo=8066",a)},helpHotTopicKeyword:function(){var a="https://help.naver.com/support/contents/contents.nhn";this._loadNewModule("serviceNo=606&categoryNo=2012",a)}};nhn_naver_commcast_feed_popup.host="relation.commcast.naver.com";function nhn_naver_commcast_feed_popup(){return{popupFeedWindow:function(b,a){var c=document.getElementById("__feed_popup_form");if(this.isNotNull(c)){this.removePopupForm(c)}c=this.createTargetForm(b,a);c.submit()},createTargetForm:function(e,r){var j=document.createElement("form");j.setAttribute("id","__feed_popup_form");if(this.usePopup(r)){var h="applyFeedRelation";window.open("",h,"width=380,height=400,location=no");j.setAttribute("target",h)}var b=this.getSubmitUrl(r);j.setAttribute("action",b);j.setAttribute("method","post");document.body.appendChild(j);var c=this.createInputElement("hidden","serviceId",e.serviceId);var o=this.createInputElement("hidden","userId",e.userId);var g=this.createInputElement("hidden","popupType",e.popupType);var p=this.createInputElement("hidden","callbackUrl",e.callbackUrl);var q=this.createInputElement("hidden","feedGroupId",e.feedGroupId);var d=this.createInputElement("hidden","feedUrl",e.feedUrl);var n=this.createInputElementArr("hidden","feedId",e.feedId);var f=this.createInputElementArr("hidden","feedName",e.feedName);var a=this.createInputElementArr("hidden","selected",e.selected);var m=this.createInputElementArr("hidden","feedType",e.feedType);this.appendChildsTo(j,[c,o,g,p,q,d]);this.appendChildsTo(j,n);this.appendChildsTo(j,f);this.appendChildsTo(j,a);this.appendChildsTo(j,m);if(!!e.feedGroupName){var l=this.createInputElement("hidden","feedGroupName",e.feedGroupName);this.appendChildsTo(j,[l])}if(!!e.feedGroupUrl){var k=this.createInputElement("hidden","feedGroupUrl",e.feedGroupUrl);this.appendChildsTo(j,[k])}return j},usePopup:function(a){return(a&&a.usePopup==false)?false:true},getSubmitUrl:function(b){var c=nhn_naver_commcast_feed_popup.host;var a;if(b&&b.charEnc&&"EUC-KR"==b.charEnc.toUpperCase()){a="http://"+c+"/euckr/subscribe/applyFeedRelation.nhn"}else{a="http://"+c+"/subscribe/applyFeedRelation.nhn"}return a},appendChildsTo:function(c,a){if(this.isNotNull(a)){for(var b=0;b<a.length;b++){c.appendChild(a[b])}}},createInputElementArr:function(f,b,a){if(this.isNotNull(a)){try{var d=[];for(var c=0;c<a.length;c++){d[c]=this.createInputElement(f,b,a[c])}return d}catch(g){throw g}}},createInputElement:function(c,b,d){var a=document.createElement("input");a.setAttribute("type",c);a.setAttribute("name",b);a.setAttribute("value",d);return a},isNotNull:function(a){return(a==null||a=="undefined"||a=="null")?false:true},removePopupForm:function(a){a.parentNode.removeChild(a)}}}if(typeof nec=="undefined"){nec={}}if(typeof ecsrv=="undefined"){var ecsrv="ec.naver.com"}if(typeof ecModule=="undefined"){var ecModule="ec"}nec.ecImg={};nec.eccnt=0;nec.version="0.0.9";function ectrack(c,e){var f="";var b=(window.location.protocol=="https:")?"https:":"http:";f=b+"//"+ecsrv+"/"+ecModule+"?";if(c==""||typeof c=="undefined"){return}else{f+="ek="+encodeURIComponent(c)}if(e){f+="&ev="+encodeURIComponent(e)}f+="&u="+encodeURIComponent(top.document.URL);if(document.images){var a=new Date().getTime();f+="&time="+a;var d=window.nec.eccnt++;var g=new Image();window.nec.ecImg[d]=g;g.onerror=(g.onload=(g.onabort=function(){delete window.nec.ecImg[d]}));g.src=f}return true}var _MyFeedFollowGuideLayer=jindo.$Class({$static:{_CLOSE_BTN_SELECTOR:"._btn_my_feed_guide_close",_USE_FOLLOW_LAYER_ATTR:"data-use-follow-layer",_LAYER_CLASS:"_my_feed_guide_layer",_LAYER_TEMPLATE:jindo.$Template(['<div class="subscribe_layer _my_feed_guide_layer">','<p class="subscribe_layer_text">{=sMessage}</p>','<div class="subscribe_layer_btns">','<a href="{=sMyFeedUrl}" class="subscribe_layer_go">MY뉴스 바로가기</a>',"</div>",'<button type="button" class="subscribe_layer_close _btn_my_feed_guide_close">닫기</button>',"</div>"].join("\n")),_MESSAGE_TAG_MAP:{FRONT_PAGE:"<strong>{{sFeedName}}</strong>의 1면 기사를 <br>네이버 <strong>MY뉴스</strong>에서 보실 수 있습니다."}},$init:function(){this._fnOnClickCloseBtn=jindo.$Fn(this._onClickCloseBtn,this).bind();this._oLayerAutoCloseManager=LayerAutoCloseManager.get_instance()},init:function(c,b,a){this._welWrapper=c;this._sMyFeedUrl=b;this._sToggleBtnClass=a;return this},_onActivate:function(){this._welWrapper.delegate("click",this.constructor._CLOSE_BTN_SELECTOR,this._fnOnClickCloseBtn)},_onDeactivate:function(){this._welWrapper.undelegate("click",this.constructor._CLOSE_BTN_SELECTOR,this._fnOnClickCloseBtn)},_onClickCloseBtn:function(b){var a=jindo.$Element(b.element);b.stopDefault();this._hideWithLayerChild(a)},show:function(c,d,a){var b=null;this._hideAll();if(undefined===c){return}if(false===this._useLayer(c)){return}this._renderLayer(c,d,a);b=jindo.$Element(c.query("."+this.constructor._LAYER_CLASS));if(undefined===b){return}b.css("display","");this._oLayerAutoCloseManager.setCurrentVisibleLayer(this)},hide:function(a){if(undefined===a){return}jindo.$ElementList(a.queryAll("."+this.constructor._LAYER_CLASS)).css("display","none")},close:function(){this._hideAll()},isAutoCloseExceptionEl:function(d){var a=jindo.$Element(d);var c=function(f){return a.hasClass(f)||Boolean(a.parent(function(g){var h=false;try{h=g.hasClass(f)}catch(j){}return h})[0])};var e=c(this._sToggleBtnClass);var b=c(this.constructor._LAYER_CLASS);return e||b},_renderLayer:function(c,b,a){if(null!==c.query("."+this.constructor._LAYER_CLASS)){return}c.appendHTML(this.constructor._LAYER_TEMPLATE.process({sMessage:this.constructor._MESSAGE_TAG_MAP[b].replace("{{sFeedName}}",a),sMyFeedUrl:this._sMyFeedUrl}))},_hideAll:function(){this.hide(this._welWrapper)},_hideWithLayerChild:function(a){var c=this.constructor._LAYER_CLASS;var b=a.parent(function(d){return d.hasClass(c)})[0];if(undefined===b){return}b.css("display","none")},_useLayer:function(a){return"0"!==a.attr(this.constructor._USE_FOLLOW_LAYER_ATTR)}}).extend(jindo.UIComponent);var _MyFeedUnfollowLayer=jindo.$Class({$static:{_CLOSE_BTN_SELECTOR:"._my_feed_unfollow_layer_close_btn",_YES_BTN_SELECTOR:"._my_feed_unfollow_layer_yes_btn",_LAYER_CLASS:"_my_feed_unfollow_layer",_TEMPLATE:jindo.$Template(['<div class="subscribe_layer _my_feed_unfollow_layer">',"{=title}",'<p class="subscribe_layer_txt">{=sMessage}</p>','<div class="subscribe_layer_btns">','<a href="javascript:;" class="subscribe_layer_btn _my_feed_unfollow_layer_yes_btn">예</a>','<a href="javascript:;" class="subscribe_layer_btn _my_feed_unfollow_layer_close_btn">아니오</a>',"</div>",'<button type="button" class="subscribe_layer_close _my_feed_unfollow_layer_close_btn">닫기</button>',"</div>"].join("\n")),_MESSAGE_TAG_MAP:{FRONT_PAGE:{title:"",message:"<strong>{{sFeedName}}</strong>의 1면 기사<br>구독을 취소하시겠습니까?"},HOT_SERIES:{title:"<strong>{{sFeedName}}</strong>",message:"칼럼 구독을 취소하시겠습니까?"}}},$init:function(){this._fnOnClickCloseBtn=jindo.$Fn(this._onClickCloseBtn,this).bind();this._fnOnClickYesBtn=jindo.$Fn(this._onClickYesBtn,this).bind();this._oLayerAutoCloseManager=LayerAutoCloseManager.get_instance()},init:function(b,a){this._welWrapper=b;this._sToggleBtnClass=a;this._fnCallbackForYesBtn=function(){};return this},_onActivate:function(){this._welWrapper.delegate("click",this.constructor._YES_BTN_SELECTOR,this._fnOnClickYesBtn);this._welWrapper.delegate("click",this.constructor._CLOSE_BTN_SELECTOR,this._fnOnClickCloseBtn)},_onDeactivate:function(){this._welWrapper.undelegate("click",this.constructor._YES_BTN_SELECTOR,this._fnOnClickYesBtn);this._welWrapper.undelegate("click",this.constructor._CLOSE_BTN_SELECTOR,this._fnOnClickCloseBtn)},_onClickYesBtn:function(a){a.stopDefault();this._fnCallbackForYesBtn()},_onClickCloseBtn:function(b){var a=jindo.$Element(b.element);b.stopDefault();this._hideWithLayerChild(a)},show:function(d,e,a,c){var b=null;this._hideAll();if(undefined===d){return}this._renderLayer(d,e,a);b=jindo.$Element(d.query("."+this.constructor._LAYER_CLASS));if(undefined===b){return}b.css("display","");this._fnCallbackForYesBtn=c;this._oLayerAutoCloseManager.setCurrentVisibleLayer(this)},hide:function(a){if(undefined===a){return}jindo.$ElementList(a.queryAll("."+this.constructor._LAYER_CLASS)).css("display","none")},close:function(){this._hideAll()},isAlreadyShown:function(b){var a=jindo.$Element(b.query("."+this.constructor._LAYER_CLASS));return a&&a.visible()},isAutoCloseExceptionEl:function(d){var a=jindo.$Element(d);var c=function(f){return a.hasClass(f)||Boolean(a.parent(function(g){var h=false;try{h=g.hasClass(f)}catch(j){}return h})[0])};var e=c(this._sToggleBtnClass);var b=c(this.constructor._LAYER_CLASS);return e||b},_renderLayer:function(d,b,a){if(null!==d.query("."+this.constructor._LAYER_CLASS)){return}var c=this.constructor._MESSAGE_TAG_MAP[b];d.appendHTML(this.constructor._TEMPLATE.process({title:c.title.replace("{{sFeedName}}",a),sMessage:c.message.replace("{{sFeedName}}",a)}))},_hideAll:function(){this.hide(this._welWrapper)},_hideWithLayerChild:function(a){var c=this.constructor._LAYER_CLASS;try{a.parent(function(d){return d.hasClass(c)})[0].css("display","none")}catch(b){}}}).extend(jindo.UIComponent);var _MyFeedFollowerCount=jindo.$Class({$static:{_SELECTOR_FOLLOWER_COUNT:"._my_feed_follower_count",_SELECTOR_FOLLOWER_COUNT_TXT:"._txt"},$init:function(){},update:function(b,c){if(!c){return}var a=c.query(this.constructor._SELECTOR_FOLLOWER_COUNT);if(!a){return}this._performUpdate(b,a)},_performUpdate:function(c,b){var a=jindo.$Element(b);if(c>0){jindo.$Element(a.query(this.constructor._SELECTOR_FOLLOWER_COUNT_TXT)).text(String(c).replace(/(\d)(?=(?:\d{3})+(?!\d))/g,"$1,"));a.css("display","")}else{a.css("display","none")}}});var MyFeed=jindo.$Class({$static:{_CLASS_MY_FEED_WRAPPER:"_my_feed_wrapper",_SELECTOR_FOLLOW_BTN:"._my_feed_btn",_CLASS_FOLLOW_BTN:"_my_feed_btn",_CLASS_FOLLOWING:"on",_CLASS_DISABLE:"_is_preparing",_TEXT_FOLLOWING:"구독중",_TEXT_FOLLOW:"구독",_ATTR_SUBSCRIBE_CHANNEL_NAME:"data-subscribeChannelName",_ATTR_SUBSCRIBE_KEY:"data-subscribeChannelKey",_ATTR_SUBSCRIBE_NAME:"data-subscribeName",_ATTR_CLICKCODE:"data-clickcode",_MSG_FAIL_FOLLOW:"통신 에러입니다.",_URL_LOGIN_PAGE:"https://nid.naver.com/nidlogin.login"},$init:function(){this._fnOnClickFollowBtn=jindo.$Fn(this._onClickFollowBtn,this).bind();this._oFollowGuideLayer=new _MyFeedFollowGuideLayer();this._oUnfollowLayer=new _MyFeedUnfollowLayer();this._oFollowerCount=new _MyFeedFollowerCount()},init:function(a){this.deactivate();this._welWrapper=jindo.$Element(a.wrapper||document);this._apiUrlMap=a.apiUrlMap;this._oFollowGuideLayer.init(this._welWrapper,a.sMyFeedUrl,this.constructor._CLASS_FOLLOW_BTN);this._oUnfollowLayer.init(this._welWrapper,this.constructor._CLASS_FOLLOW_BTN);this.updateView();this.activate();return this},_onActivate:function(){this._welWrapper.delegate("click",this.constructor._SELECTOR_FOLLOW_BTN,this._fnOnClickFollowBtn);this._oFollowGuideLayer.activate();this._oUnfollowLayer.activate()},_onDeactivate:function(){this._welWrapper.undelegate("click",this.constructor._SELECTOR_FOLLOW_BTN,this._fnOnClickFollowBtn);this._oFollowGuideLayer.deactivate();this._oUnfollowLayer.deactivate()},updateView:function(){this._checkFollowState()},_onClickFollowBtn:function(b){var a=jindo.$Element(b.element);b.stopDefault();if(this._isDisabled(a)){return}if(this._isFollowRequest(a)){this._follow(a);this._fireClickLog(b,a,"follow");return}this._unfollow(a);this._fireClickLog(b,a,"unfollow")},_checkFollowState:function(){var a=this;var b=jindo.$A(jindo.$$(this.constructor._SELECTOR_FOLLOW_BTN)).map(function(f,d){var e=jindo.$Element(f);if(a._isUpdatedFollowState(e)){return}return e.attr(a.constructor._ATTR_SUBSCRIBE_KEY)}).filter(function(d){return Boolean(d)}).$value();if(0===b.length){return}var c=jindo.$Ajax(this._apiUrlMap.check,{type:"jsonp",timeout:15,callbackname:"callback",onload:function(f){var e=f.json();var d=(e.result&&e.result.followingStatuses)||[];if(d[0]===undefined){a._activateAllBtn();return}jindo.$A(d).forEach(jindo.$Fn(function(g){this._updateFollowState(g);this._updateFollowerCount(g)},a).bind())},ontimeout:function(){a._updateFollowState()}});c.request({ids:b.join(",")})},_updateFollowState:function(a){if(Boolean(a)===false){return}var c=a.id;var d=this.constructor._CLASS_DISABLE;var b=jindo.$Element(jindo.$$.getSingle("."+d+"["+this.constructor._ATTR_SUBSCRIBE_KEY+'="'+c+'"]'));this._activateBtn(b);if(a.isFollowing){this._changeStateTo("following",b)}else{this._changeStateTo("follow",b)}},_updateFollowerCount:function(a){var c=jindo.$$.getSingle("["+this.constructor._ATTR_SUBSCRIBE_KEY+'="'+a.id+'"]');var b=this._getMyFeedWrapper(c);this._oFollowerCount.update(a.totalCount,b)},_follow:function(c){var a=c.attr(this.constructor._ATTR_SUBSCRIBE_CHANNEL_NAME);var d=c.attr(this.constructor._ATTR_SUBSCRIBE_KEY);var f=c.attr(this.constructor._ATTR_SUBSCRIBE_NAME);var b=this;this._changeStateTo("following",c);this._oFollowGuideLayer.show(this._getGuideLayerWrapper(c),a,f);var e=jindo.$Ajax(this._apiUrlMap.follow,{type:"jsonp",timeout:15,callbackname:"callback",onload:function(h){var g=h.json();if(g.success){b._updateFollowerCount(g.result);return}b._changeStateTo("follow",c);b._hideFollowNotice(c);if(g.resultCode===401){b._goLoginPage();return}alert(b.constructor._MSG_FAIL_FOLLOW)}});e.request({group:a,id:d})},_unfollow:function(b){var a=this._getGuideLayerWrapper(b);this._hideFollowNotice(b);if(this._oUnfollowLayer.isAlreadyShown(a)){this._oUnfollowLayer.hide(a);return}this._oUnfollowLayer.show(a,b.attr(this.constructor._ATTR_SUBSCRIBE_CHANNEL_NAME),b.attr(this.constructor._ATTR_SUBSCRIBE_NAME),jindo.$Fn(this._performUnfollow,this).bind(b))},_performUnfollow:function(c){var a=c.attr(this.constructor._ATTR_SUBSCRIBE_CHANNEL_NAME);var d=c.attr(this.constructor._ATTR_SUBSCRIBE_KEY);var b=this;this._oUnfollowLayer.hide(this._getGuideLayerWrapper(c));this._changeStateTo("follow",c);var e=jindo.$Ajax(this._apiUrlMap.unfollow,{type:"jsonp",timeout:15,callbackname:"callback",onload:function(g){var f=g.json();if(f.success){b._updateFollowerCount(f.result);return}b._changeStateTo("following",c);if(f.resultCode===401){b._goLoginPage();return}alert(b.constructor._MSG_FAIL_FOLLOW)}});e.request({group:a,id:d})},_changeStateTo:function(b,a){if("following"===b){a.addClass(this.constructor._CLASS_FOLLOWING).text(this.constructor._TEXT_FOLLOWING);return}a.removeClass(this.constructor._CLASS_FOLLOWING).text(this.constructor._TEXT_FOLLOW)},_getGuideLayerWrapper:function(a){return a.parent()},_getMyFeedWrapper:function(b){var a=this.constructor._CLASS_MY_FEED_WRAPPER;return jindo.$Element(b).parent(function(c){return c.hasClass(a)})[0]},_isFollowRequest:function(a){return false===a.hasClass(this.constructor._CLASS_FOLLOWING)},_goLoginPage:function(){location.href=this.constructor._URL_LOGIN_PAGE},_isUpdatedFollowState:function(a){return false===this._isDisabled(a)},_activateAllBtn:function(){var a=this;jindo.$A(jindo.$$(this.constructor._SELECTOR_FOLLOW_BTN)).forEach(function(b){a._activateBtn(jindo.$Element(b))})},_activateBtn:function(a){a.removeClass(this.constructor._CLASS_DISABLE)},_isDisabled:function(a){return a.hasClass(this.constructor._CLASS_DISABLE)},_hideFollowNotice:function(a){this._oFollowGuideLayer.hide(this._getGuideLayerWrapper(a))},_fireClickLog:function(c,b,a){var e=b.attr(this.constructor._ATTR_CLICKCODE).split("/");var d=("follow"===a)?e[0]:e[1];if(undefined===d){return}nclk(c.$value(),d,"","","")}}).extend(jindo.UIComponent);(function(A){var u={nnb:true};var v="v0.6.0";var h={};var g={};var D={};var o=0;function t(H){if(!window.lcs_SerName){window.lcs_SerName="lcs.naver.com"}var I="";var L;var K;var N=document;var G=window.location;var O;try{O=(G.protocol?G.protocol:"http:")+"//"+window.lcs_SerName+"/m?"}catch(M){return}try{I=O+"u="+encodeURIComponent(G.href)+"&e="+(N.referrer?encodeURIComponent(N.referrer):"")}catch(M){}try{if(typeof h.i=="undefined"){h.i=""}if(o<1){w();if(u.nnb){r()}h.ct=y();k();b();n()}for(L in g){if(typeof g[L]!=="function"){I+="&"+L+"="+encodeURIComponent(g[L])}}for(L in h){K=h[L];if(K!==undefined&&typeof K!=="function"){I+="&"+L+"="+encodeURIComponent(K)}}if(o<1){for(L in D){K=D[L];if(K){I+="&"+L+"="+encodeURIComponent(K)}}}for(L in H){if((L.length>=3&&typeof H[L]!=="function")||L==="qy"){I+="&"+L+"="+encodeURIComponent(H[L])}}if(!!H===false||!!H.pid===false){var F;if(window.g_pid){F=g_pid}else{F=j()}I+="&pid="+encodeURIComponent(F)}var E=new Date().getTime();I+="&ts="+E;I+="&EOU";var J=document.createElement("img");J.src=I;J.onload=function(){J.onload=null;return};o++}catch(M){return}}function a(F,E){try{if(F){h.i=F;if(E){t(E)}else{t()}}}catch(G){}}function r(){try{var F=localStorage;if(F){if(F.ls){var G=F.ls;if(G.length==13){h.ls=G;return}}var E=f();if(E!=null&&E!=""){F.ls=E;h.ls=E}}}catch(H){}}function w(){g.os=l();g.ln=C();g.sr=c();g.pr=window.devicePixelRatio||1;var E=p();g.bw=E.bw;g.bh=E.bh;g.c=B();g.j=d();g.k=z()}function l(){var E="";try{navigator.platform?(E=navigator.platform):""}catch(F){}return E}function C(){var E="";try{navigator.userLanguage?(E=navigator.userLanguage):navigator.language?(E=navigator.language):""}catch(F){}return E}function c(){var G="";try{if(window.screen&&screen.width&&screen.height){G=screen.width+"x"+screen.height}else{if(window.java||self.java){var E=java.awt.Toolkit.getDefaultToolkit().getScreenSize();G=E.width+"x"+E.height}}}catch(F){G=""}return G}function p(){var G=document;var E={bw:"",bh:""};try{E.bw=G.documentElement.clientWidth?G.documentElement.clientWidth:G.body.clientWidth;E.bh=G.documentElement.clientHeight?G.documentElement.clientHeight:G.body.clientHeight}catch(F){}return E}function B(){var E="";try{if(window.screen){E=screen.colorDepth?screen.colorDepth:screen.pixelDepth}else{if(window.java||self.java){var G=java.awt.Toolkit.getDefaultToolkit().getColorModel().getPixelSize();E=G}}}catch(F){E=""}return E}function d(){var E="";try{E=navigator.javaEnabled()?"Y":"N"}catch(F){}return E}function z(){var E="";try{E=navigator.cookieEnabled?"Y":"N"}catch(F){}return E}function f(){try{var H=document.cookie;var G,F,I,E=H.split(";");for(I=0;I<E.length;I++){G=E[I].substr(0,E[I].indexOf("="));F=E[I].substr(E[I].indexOf("=")+1);G=G.replace(/^\s+|\s+$/g,"");if(G=="NNB"){return unescape(F)}}}catch(J){}}function y(){var J="";try{var H=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(H&&typeof H.type!="undefined"){switch(H.type){case H.CELL_2G:J="2g";break;case H.CELL_3G:J="3g";break;case H.CELL_4G:J="4g";break;case H.WIFI:J="wifi";break;case H.ETHERNET:J="eth";break;case H.UNKNOWN:J="unknown";break;case H.NONE:J="none";break;default:J=""}}else{if(typeof blackberry!="undefined"&&typeof blackberry.network!="undefined"){var G=blackberry.network;if(G=="Wi-Fi"){J="wifi"}else{if(G=="3G"){J="3g"}else{J=G}}}else{var F=navigator.appName=="Microsoft Internet Explorer";var E=navigator.userAgent.indexOf("MAC")>=0;if(F&&!E&&K&&K.addBehavior){var K=document.body;var M="";var I=K.addBehavior("#default#clientCaps");J=K.connectionType;K.removeBehavior(I)}}}}catch(L){console.warn(L)}return J}function k(){var H=window.performance||{};if(H.timing){var G=H.timing;for(var E in G){var F=G[E];if(typeof F==="number"){D[E]=F}}}}function b(){var G=window.performance||{};try{if(G.getEntriesByType){var F=G.getEntriesByType("paint");F.forEach(function(J,K,H){var I=J.name;switch(I){case"first-paint":case"first-contentful-paint":D[I]=J.startTime;break;default:break}})}else{}}catch(E){console.warn(E)}}function n(){var E=x();if(E!==undefined){D.ngt=E}}function x(){var E=window.performance||{};if(E.navigation){return E.navigation.type}return}var s=null;function e(){var I;var E=localStorage.ls;if(E){I=E}else{var F;F=navigator.userAgent+Math.random();I=F}var J=window.performance||{};var H=location.href;var G;if(J.now){G=J.now()}else{G=new Date().getTime()}s=m.md5(I+H+G);return s}function j(){if(s===null){s=e()}return s}function q(){s=e();return s}var m={};(function(T){function S(Y,ab){var aa=(Y&65535)+(ab&65535);var Z=(Y>>16)+(ab>>16)+(aa>>16);return(Z<<16)|(aa&65535)}function R(Y,Z){return(Y<<Z)|(Y>>>(32-Z))}function M(ad,aa,Z,Y,ac,ab){return S(R(S(S(aa,ad),S(Y,ab)),ac),Z)}function E(aa,Z,ae,ad,Y,ac,ab){return M((Z&ae)|(~Z&ad),aa,Z,Y,ac,ab)}function J(aa,Z,ae,ad,Y,ac,ab){return M((Z&ad)|(ae&~ad),aa,Z,Y,ac,ab)}function P(aa,Z,ae,ad,Y,ac,ab){return M(Z^ae^ad,aa,Z,Y,ac,ab)}function W(aa,Z,ae,ad,Y,ac,ab){return M(ae^(Z|~ad),aa,Z,Y,ac,ab)}function G(ai,ad){ai[ad>>5]|=128<<ad%32;ai[(((ad+64)>>>9)<<4)+14]=ad;var aa;var ac;var ab;var Z;var Y;var ah=1732584193;var ag=-271733879;var af=-1732584194;var ae=271733878;for(aa=0;aa<ai.length;aa+=16){ac=ah;ab=ag;Z=af;Y=ae;ah=E(ah,ag,af,ae,ai[aa],7,-680876936);ae=E(ae,ah,ag,af,ai[aa+1],12,-389564586);af=E(af,ae,ah,ag,ai[aa+2],17,606105819);ag=E(ag,af,ae,ah,ai[aa+3],22,-1044525330);ah=E(ah,ag,af,ae,ai[aa+4],7,-176418897);ae=E(ae,ah,ag,af,ai[aa+5],12,1200080426);af=E(af,ae,ah,ag,ai[aa+6],17,-1473231341);ag=E(ag,af,ae,ah,ai[aa+7],22,-45705983);ah=E(ah,ag,af,ae,ai[aa+8],7,1770035416);ae=E(ae,ah,ag,af,ai[aa+9],12,-1958414417);af=E(af,ae,ah,ag,ai[aa+10],17,-42063);ag=E(ag,af,ae,ah,ai[aa+11],22,-1990404162);ah=E(ah,ag,af,ae,ai[aa+12],7,1804603682);ae=E(ae,ah,ag,af,ai[aa+13],12,-40341101);af=E(af,ae,ah,ag,ai[aa+14],17,-1502002290);ag=E(ag,af,ae,ah,ai[aa+15],22,1236535329);ah=J(ah,ag,af,ae,ai[aa+1],5,-165796510);ae=J(ae,ah,ag,af,ai[aa+6],9,-1069501632);af=J(af,ae,ah,ag,ai[aa+11],14,643717713);ag=J(ag,af,ae,ah,ai[aa],20,-373897302);ah=J(ah,ag,af,ae,ai[aa+5],5,-701558691);ae=J(ae,ah,ag,af,ai[aa+10],9,38016083);af=J(af,ae,ah,ag,ai[aa+15],14,-660478335);ag=J(ag,af,ae,ah,ai[aa+4],20,-405537848);ah=J(ah,ag,af,ae,ai[aa+9],5,568446438);ae=J(ae,ah,ag,af,ai[aa+14],9,-1019803690);af=J(af,ae,ah,ag,ai[aa+3],14,-187363961);ag=J(ag,af,ae,ah,ai[aa+8],20,1163531501);ah=J(ah,ag,af,ae,ai[aa+13],5,-1444681467);ae=J(ae,ah,ag,af,ai[aa+2],9,-51403784);af=J(af,ae,ah,ag,ai[aa+7],14,1735328473);ag=J(ag,af,ae,ah,ai[aa+12],20,-1926607734);ah=P(ah,ag,af,ae,ai[aa+5],4,-378558);ae=P(ae,ah,ag,af,ai[aa+8],11,-2022574463);af=P(af,ae,ah,ag,ai[aa+11],16,1839030562);ag=P(ag,af,ae,ah,ai[aa+14],23,-35309556);ah=P(ah,ag,af,ae,ai[aa+1],4,-1530992060);ae=P(ae,ah,ag,af,ai[aa+4],11,1272893353);af=P(af,ae,ah,ag,ai[aa+7],16,-155497632);ag=P(ag,af,ae,ah,ai[aa+10],23,-1094730640);ah=P(ah,ag,af,ae,ai[aa+13],4,681279174);ae=P(ae,ah,ag,af,ai[aa],11,-358537222);af=P(af,ae,ah,ag,ai[aa+3],16,-722521979);ag=P(ag,af,ae,ah,ai[aa+6],23,76029189);ah=P(ah,ag,af,ae,ai[aa+9],4,-640364487);ae=P(ae,ah,ag,af,ai[aa+12],11,-421815835);af=P(af,ae,ah,ag,ai[aa+15],16,530742520);ag=P(ag,af,ae,ah,ai[aa+2],23,-995338651);ah=W(ah,ag,af,ae,ai[aa],6,-198630844);ae=W(ae,ah,ag,af,ai[aa+7],10,1126891415);af=W(af,ae,ah,ag,ai[aa+14],15,-1416354905);ag=W(ag,af,ae,ah,ai[aa+5],21,-57434055);ah=W(ah,ag,af,ae,ai[aa+12],6,1700485571);ae=W(ae,ah,ag,af,ai[aa+3],10,-1894986606);af=W(af,ae,ah,ag,ai[aa+10],15,-1051523);ag=W(ag,af,ae,ah,ai[aa+1],21,-2054922799);ah=W(ah,ag,af,ae,ai[aa+8],6,1873313359);ae=W(ae,ah,ag,af,ai[aa+15],10,-30611744);af=W(af,ae,ah,ag,ai[aa+6],15,-1560198380);ag=W(ag,af,ae,ah,ai[aa+13],21,1309151649);ah=W(ah,ag,af,ae,ai[aa+4],6,-145523070);ae=W(ae,ah,ag,af,ai[aa+11],10,-1120210379);af=W(af,ae,ah,ag,ai[aa+2],15,718787259);ag=W(ag,af,ae,ah,ai[aa+9],21,-343485551);ah=S(ah,ac);ag=S(ag,ab);af=S(af,Z);ae=S(ae,Y)}return[ah,ag,af,ae]}function Q(Z){var aa;var Y="";var ab=Z.length*32;for(aa=0;aa<ab;aa+=8){Y+=String.fromCharCode((Z[aa>>5]>>>aa%32)&255)}return Y}function L(Z){var ab;var Y=[];Y[(Z.length>>2)-1]=undefined;for(ab=0;ab<Y.length;ab+=1){Y[ab]=0}var aa=Z.length*8;for(ab=0;ab<aa;ab+=8){Y[ab>>5]|=(Z.charCodeAt(ab/8)&255)<<ab%32}return Y}function K(Y){return Q(G(L(Y),Y.length*8))}function X(aa,ad){var Z;var ac=L(aa);var Y=[];var ab=[];var ae;Y[15]=ab[15]=undefined;if(ac.length>16){ac=G(ac,aa.length*8)}for(Z=0;Z<16;Z+=1){Y[Z]=ac[Z]^909522486;ab[Z]=ac[Z]^1549556828}ae=G(Y.concat(L(ad)),512+ad.length*8);return Q(G(ab.concat(ae),512+128))}function V(ab){var aa="0123456789abcdef";var Z="";var Y;var ac;for(ac=0;ac<ab.length;ac+=1){Y=ab.charCodeAt(ac);Z+=aa.charAt((Y>>>4)&15)+aa.charAt(Y&15)}return Z}function N(Y){return unescape(encodeURIComponent(Y))}function H(Y){return K(N(Y))}function O(Y){return V(H(Y))}function F(Y,Z){return X(N(Y),N(Z))}function U(Y,Z){return V(F(Y,Z))}function I(Z,aa,Y){if(!aa){if(!Y){return O(Z)}return H(Z)}if(!Y){return U(aa,Z)}return F(aa,Z)}T.md5=I})(m);A.lcs_do=t;A.lcs_do_gdid=a;A.lcs_get_lpid=j;A.lcs_update_lpid=q;A.lcs_version=v})(window);(function(b){var h=function(w,y,s,j,k,u,t){var p,q,A,x;var z=w;var n=w;if("nodeType" in w&&w.nodeType>=1){z=window.event||w}else{if(w){var v=w.srcElement||w.currentTarget||w.target;if(v){n=h.findLink(v)}}}if(!u){u=""}x=h.gcp(n,z);A=h.gl(y,s,j,x,"",0,h.st,u,t);q=h.l(n,A);h.sd(q);return true};var a=b.ccsrv||"cc.naver.com";var g=b.nsc||"decide.me";h.vs="0.4.1";h.md="cc";h.pt=(window.location.protocol=="https:")?"https:":"http:";h.ct=0;h.ec=encodeURIComponent;h.st=1;function e(q,k,m,p,l,n){var j=b.g_nclk_proxy||"";if(j&&q.href){q.href=j+h.ec(q.href)}return h(q,k,m,p,l,n)}function c(v,x,q,j,t,s){var n,p,z,w;var y=v;var k=v;if("nodeType" in v&&v.nodeType>=1){y=window.event||v}else{if(v){var u=v.srcElement||v.currentTarget||v.target;if(u){k=h.findLink(u)}}}if(!t){t=""}w=h.gcp(k,y);z=h.gl(x,q,j,w,"",0,h.st,t,s);p=h.l(k,z);h.sd(p);return true}h.findLink=function(k){var j=k;while(j&&j.tagName!=="BODY"&&j.tagName!=="HTML"){if(j.tagName==="A"){break}j=j.parentNode}if(j.tagName!=="A"){j=k}return j};h.l=function(n,k){var j,p,m;if(n&&n.href){p=n.tagName.toLowerCase();m=n.href.toLowerCase();if(m&&m.indexOf(h.pt+"//"+a)==0){j=n.href}else{if(m&&m.indexOf(h.pt+"//"+a)!=0&&p&&p!="img"){j=k+"&u="+h.ec(n.href)}}return j}return k+"&u=about%3Ablank"};h.sd=function(j,m){var n=0;var q;if(h.ct>0){var k=new Date().getTime();j+="&nt="+k}if(typeof m=="function"){n=1}var p=new Image();p.src=j;p.onload=function(){if(q){clearTimeout(q)}if(n){m()}p.onload=null;return};p.onerror=function(){if(q){clearTimeout(q)}if(n){m()}p.onerror=null;return};if(n){q=setTimeout(function(){m()},5000)}h.ct++};h.gl=function(z,q,j,x,A,n,C,v,t){var B=b.g_ssc||"";var w=b.g_query||"";var k=b.lcs_get_lpid||null;var y=b.g_pid||"";var p=b.g_sid||"";if(n==undefined){n=1}if(C==undefined){C=1}var o=h.pt+"//"+a+"/"+h.md+"?a="+z+"&r="+j+"&i="+q+"&m="+n;if(C==1){if(B){o+="&ssc="+B}if(w){o+="&q="+h.ec(w)}if(p){o+="&s="+p}if(t){o+="&p="+t}else{if(y){o+="&p="+y}else{if(k){o+="&p="+k()}else{console.warn("'g_pid / lcs_get_lpid' is not exist.")}}}}else{o+="&nsc="+g;console.warn("[DEPRECATED] NSC mode")}if(v){o+="&g="+v}if(A){o+="&u="+h.ec(A)}if(x){o+=x}return o};h.al=function(l,k){var j=window;if(j.addEventListener){j.addEventListener(l,k,false)}else{if(j.attachEvent){j.attachEvent("on"+l,k)}}};h.oo="";h.of="";if("onpageshow" in window){h.al("pageshow",function(){h.oo.onclick=h.of})}h.go=function(l){var k;var j=l.onclick;l.onclick="";h.oo=l;h.of=j;if(document.createEvent){k=document.createEvent("MouseEvents");k.initMouseEvent("click",false,false,window,0,0,0,0,0,false,false,false,false,0,null);l.dispatchEvent(k)}else{if(document.createEventObject){l.fireEvent("onclick")}else{if(MouseEvent){k=new MouseEvent("click",{bubbles:false,cancelable:false,view:window});l.dispatchEvent(k)}}}l.onclick=j};h.gsbw=function(){var l=document.createElement("p");l.style.width="200px";l.style.height="200px";var m=document.createElement("div");m.style.position="absolute";m.style.top="0px";m.style.left="0px";m.style.visibility="hidden";m.style.width="200px";m.style.height="150px";m.style.overflow="hidden";m.appendChild(l);document.body.appendChild(m);var k=l.offsetWidth;m.style.overflow="scroll";var j=l.offsetWidth;if(k==j){j=m.clientWidth}document.body.removeChild(m);return(k-j)};h.fp=function(k){var l=curtop=0;try{if(k.offsetParent){do{l+=k.offsetLeft;curtop+=k.offsetTop}while(k=k.offsetParent)}else{if(k.x||k.y){if(k.x){l+=k.x}if(k.y){curtop+=k.y}}}}catch(j){}return[l,curtop]};h.ws=function(l){if(!l){l=window}var j=0;if(l.innerWidth){j=l.innerWidth;if(typeof(l.innerWidth)=="number"){var k=h.gsbw();j=l.innerWidth-k}}else{if(document.documentElement&&document.documentElement.clientWidth){j=document.documentElement.clientWidth}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){j=document.body.clientWidth}}}return j};h.ci=function(r){var n=document.URL;var q=r.parentNode;var j;var m;var k;if(q==null||q==undefined){return false}while(1){if(q.nodeName.toLowerCase()=="#document"){if(q.parentWindow){j=q.parentWindow}else{j=q.defaultView}try{if(j.frameElement!=null&&j.frameElement!=undefined){if(j.frameElement.nodeName.toLowerCase()=="iframe"){m=j.frameElement.id;if(!m){return false}return m}else{return false}}else{return false}}catch(o){return false}}else{q=q.parentNode;if(q==null||q==undefined){return false}}}};h.gcp=function(p,r){var t=-1;var s=-1;var v=-1;var u=-1;var k,j,n;var m="";var o=window.event?window.event:p;if(r){o=r||window.event}try{bw=h.ws(window);n=h.ci(p);if(n){var q=h.fp(document.getElementById(n));if(o.clientX&&o.clientX!=undefined){k=document.body;if(k.clientLeft&&k.clientTop){ifrSx=o.clientX-k.clientLeft;ifrSy=o.clientY-k.clientTop}else{ifrSx=o.clientX;ifrSy=o.clientY}}v=q[0]+ifrSx;u=q[1]+ifrSy;if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){k=document.body;t=v-k.scrollLeft;s=u-k.scrollTop}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){j=document.documentElement;t=v-j.scrollLeft;s=u-j.scrollTop}else{t=v;s=u}}}else{if(o.clientX&&o.clientX!=undefined){k=document.body;if(k.clientLeft&&k.clientTop){t=o.clientX-k.clientLeft;s=o.clientY-k.clientTop}else{t=o.clientX;s=o.clientY}}if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){v=document.body.scrollLeft+(t<0?0:t);u=document.body.scrollTop+(s<0?0:s)}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){j=document.documentElement;if(j.scrollLeft!=undefined){v=j.scrollLeft+(t<0?0:t)}if(j.scrollTop!=undefined){u=j.scrollTop+(s<0?0:s)}}else{v=(t<0?0:t);u=(s<0?0:s)}}if(o.pageX){v=o.pageX}if(o.pageY){u=o.pageY}}}catch(r){}if((v!=-1)&&(u!=-1)){m+="&px="+v+"&py="+u}if((t!=-1)&&(s!=-1)){m+="&sx="+t+"&sy="+s}return m};function d(j,l,n,k,m){window.location.href=h.gl(j,l,n,k,1,h.st,m)}function f(k,n,p,q,o,m){var m=m||"about:blank";var j=h.gl(k,n,p,m,0,h.st,o);h.sd(j,q)}b.nclk_proxy=e;b.nclk=h;b.nclk_v2=c;b.nclkR=d;b.nclkF=f})(window);nhn=nhn||{};(function(){function f(h,j){if(!h&&h!==false){throw new Error("Invalidate"+(!!j?j:""))}}function d(j,h,k){if(!(new jindo.$Date(j).time()<new jindo.$Date(h).time())){throw new Error("Not Before"+(!!k?k:""))}}function e(h,j){if(!/\d{4}-\d{2}-\d{2}/.test(h)){throw new Error("Invalidate"+(!!j?j:""))}}function b(h,j){if(!/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/.test(h)){throw new Error("Invalidate"+(!!j?j:""))}}var c={DAYS_OF_WEEK:["sun","mon","tue","wed","thu","fri","sat"],closeDayOfWeekHasRepetition:function(j,k){for(var h=0;h<7;h++){if(j.repetition[c.DAYS_OF_WEEK[(k+h)%7]]===true){return h}}throw nhn.util.CalendarRepetition.INVALID_REPETITION},hasDayOfWeek:function(h){return jindo.$A(c.DAYS_OF_WEEK).some(function(j){return h.repetition[j]===true})},between:function(j,k,h){return(!!j&&!!k&&!!h&&k<=h&&j>=k&&j<=h)}};var g={week:function(h){if(!c.hasDayOfWeek(h)){throw new Error("Invalidate"+(!!msg?msg:""))}},"default":function(){},instance:function(h){return !!this[h]?this[h]:this["default"]}};var a=jindo.$Class({instance:function(h){return !!this[h]?this[h]:this["default"]}});closeRepeatDay=new a();closeRepeatDay.day=function(m,j){var k=(!!j)?new jindo.$Date(j).time():new Date().getTime();var h=new jindo.$Date(m.startDate).time();var l=1000*60*60*24*m.repetition.repeatCycle;var n=k+((l-((k-h)%l))%l);return new Date(n)};closeRepeatDay.week=function(o,k){var l=(!!k)?new jindo.$Date(k).time():new Date().getTime();var j=new jindo.$Date(o.startDate);var h=j.time();h+=(c.closeDayOfWeekHasRepetition(o,j.day())*1000*60*60*24);var n=1000*60*60*24*7*o.repetition.repeatCycle;var p=l+((n-((l-h)%n))%n);var m=jindo.$Date(p).day();return new Date(p+c.closeDayOfWeekHasRepetition(o,m)*1000*60*60*24)};nhn.Schedule=jindo.$Class({$init:function(h){this._htSchedule=h},validate:function(){f(this._htSchedule.startDate,"startDate");b(this._htSchedule.startDate,"startDate");f(this._htSchedule.endDate,"endDate");b(this._htSchedule.endDate,"endDate");d(this._htSchedule.startDate,this._htSchedule.endDate);f(this._htSchedule.content,"content");f(this._htSchedule.pageInfo,"pageInfo");if(this._htSchedule.repetitive){f(this._htSchedule.repetition);f(this._htSchedule.repetition.type);f(this._htSchedule.repetition.repeatCycle);f(this._htSchedule.repetition.infinite);if(!this._htSchedule.repetition.infinite){f(this._htSchedule.repetition.endDate);e(this._htSchedule.repetition.endDate)}g.instance(this._htSchedule.repetition.type)(this._htSchedule)}},_isRepetitive:function(){return !!this._htSchedule.repetitive},_isInfinite:function(){return !!this._htSchedule.repetition.infinite},_getCloseRepeatDay:function(h){return closeRepeatDay.instance(this._htSchedule.repetition.type)(this._htSchedule,h)},_getRepeatEndDateTime:function(){return new jindo.$Date(this._htSchedule.repetition.endDate+this._htSchedule.startDate.substr(10)).$value()},_getIntervalWithStartAndEndDate:function(){return new jindo.$Date(this._htSchedule.endDate).time()-new jindo.$Date(this._htSchedule.startDate).time()},adjustedSchedule:function(j){if(!this._htSchedule.serviceId){this._htSchedule.serviceId="58"}if(!this._htSchedule.pageUrl){this._htSchedule.pageUrl=location.href}if(!this._htSchedule.alarm){this._htSchedule.notifiable=true;this._htSchedule.alarm={serviceCode:"58",scheduleTime:"10M",mediaType:{mail:1,sms:1}}}this._htSchedule.stickerId=this._htSchedule.stickerId||64;this._htSchedule.isAlldaySchedule=this._htSchedule.isAlldaySchedule||false;this._htSchedule.important=this._htSchedule.important||false;if(!!this._isRepetitive()){var h=this._getCloseRepeatDay(j);if(!this._isInfinite()&&h.getTime()>this._getRepeatEndDateTime().getTime()){throw new Error("")}var k=jindo.$Date(h).format("Y-m-d H:i:00");var l=jindo.$Date(h.getTime()+this._getIntervalWithStartAndEndDate()).format("Y-m-d H:i:00");this._htSchedule.startDate=k;this._htSchedule.endDate=l}return this._htSchedule}})})();var oWebAccessibilityUtil={preventLayerOutFocusByTabEvent:function(b){var a=$Element(b);a.attach({keydown:function(f){var e=f.key();var d=9;if(e.keyCode===d){var c=a.queryAll("a");if(f.element===b&&f.key().shift){f.stopDefault()}else{if(c.length>0&&c[c.length-1].$value()===f.element&&!f.key().shift){f.stopDefault()}}}}})},registerLayerTabEvent:function(b,a){a=a||{};$Element(b).attach("focus",function(c){a.onFocus&&a.onFocus(c)});$Element(b).attach("blur",function(c){a.onBlur&&a.onBlur(c)});$Element(b).attach("keydown",function(e){var d=e.key();var c=9;if(d.keyCode===c){a.onTabKeyDown&&a.onTabKeyDown(e)}})},moveFocus:function(a){if(!a){return}var b=a.getAttribute("tabindex");a.setAttribute("tabindex",0);a.focus();if(b===null){a.removeAttribute("tabindex")}else{a.setAttribute("tabindex",b)}},aFocusStack:[],pushFocusStack:function(b){var a=jindo.$A(this.aFocusStack).indexOf(b);if(a>=0){this.aFocusStack.splice(a,1)}this.aFocusStack.push(b)},popFocusStack:function(b){var c=this.aFocusStack.pop()||document.body;var a=this;b=b||function(d){if(d){a.moveFocus(d)}};b(c)},clearFocusStack:function(){this.aFocusStack.length=0}};CommentUtils={CBOX_MODULE_ID:"cbox_module",resetCountId:"articleTitleCommentCount",socialLoginMessage:'계정을 선택하시면 <span class="u_cbox_msg_point">로그인&middot;계정인증</span>을 통해<br> 댓글을 남기실 수 있습니다.<br>뉴스서비스에서는 소셜 계정 사용이 불가하며<br>댓글모음만 확인하실 수 있습니다.',NO_COMMENT_TEMPLATE:jindo.$Template(['<div class="article_nocmt" id="nocmt_text">','<h5 class="nocmt_h blind">댓글 미제공</h5>','<p class="nocmt_p">{=text}</p>',"</div>"].join("")),OPTION_ADAPTED_TEMPLATE:jindo.$Template(['<div class="article_changecmt" id="changecmt_text">','<h5 class="changecmt_h blind">댓글 정렬 옵션 변경</h5>','<p class="changecmt_p">{=title}','<span class="changecmt_info">','<button type="button" class="changecmt_info_icon _layer_notice_btn">안내</button>','<span class="changecmt_layer _layer_notice is_hidden">','<strong class="changecmt_info_title"><span class="changecmt_ico_help"></span>{=layerTitle}</strong>','<span class="changecmt_info_txt">{=layerBody}</span>','<button class="changecmt_btn_info_close _close_layer">레이어 닫기</button>',"</span>","</span>","</p>","</div>"].join("")),parseParameter:function(c,b,a){return c.split(b+"=")[1]==null?a:c.split(b+"=")[1].split("&")[0]},coord:function(a){return function(){for(var b in a){var c=arguments[0];if(a[b]!=null){c=a[b]}CommentUtils[b](c)}}},copyOptions:function(a,b){for(var c in b){if(typeof a[c]==="undefined"){a[c]=b[c]}else{if((typeof a[c]===typeof b[c])&&typeof a[c]==="object"){a[c]=CommentUtils.copyOptions(a[c],b[c])}else{a[c]=b[c]}}}return a},resetCount:function(b){var e=b.oJson;if(e.success){if(jindo.$Element(CommentUtils.resetCountId)!=null){var a=e.result.count.comment;var c=e.result.count.delCommentByUser;var d=jindo.$Element(jindo.$Element(CommentUtils.resetCountId).query(".lo_txt"));if(d!=null){if(a==0){jindo.$Element(CommentUtils.resetCountId).removeClass("num");d.html("댓글")}else{jindo.$Element(CommentUtils.resetCountId).addClass("num");d.html(changeNumberFormat(a))}}}}news.right.RightSideFloatingManager.updatePosition()},loadOptionNotice:function(b){if(b.sNoticeMessage==""||b.sNoticeMessage==null){return}if(b.exposureStatus==="COMMENT_OFF"){return}var c=jindo.$Element("changecmt_text");if(c==null){jindo.$Element(CommentUtils.CBOX_MODULE_ID).prepend(CommentUtils.OPTION_ADAPTED_TEMPLATE.process(b.sNoticeMessage));c=jindo.$Element("changecmt_text");var a=jindo.$Element(c.query("._layer_notice"));c.delegate("click","._layer_notice_btn",function(d){d.stopDefault();if(a.hasClass("is_hidden")){a.removeClass("is_hidden")}else{a.addClass("is_hidden")}});c.delegate("click","._close_layer",function(d){d.stopDefault();a.addClass("is_hidden")})}},loadNoCommentNotice:function(a){if(a==""||a==null){return}if(jindo.$Element("nocmt_text")==null){jindo.$Element(CommentUtils.CBOX_MODULE_ID).html(CommentUtils.NO_COMMENT_TEMPLATE.process({text:a}))}},checkHighLight:function(c){var b=window.location.href;if(b.indexOf("highlight=on")>-1){var a=location.search.split("commentNo=")[1].split("&")[0];jindo.$Element(jindo.$$.getSingle(".cbox_module__comment_"+a)).addClass("highlight")}},processCommentLanding:function(j){if(j==null||j=="undefined"){return}var b=j.url;if(location.href.indexOf("//local")>-1){b=b.replace("beta","local")}else{if(location.href.indexOf("//alpha")>-1){b=b.replace("beta","alpha")}}var g=j.objectId;var d=j.commentNo;if(b!=null&&b!=""){if(g!=null&&(g.indexOf("event.star.")>-1)){var c="real";if(location.href.indexOf("//local")>-1){c="beta"}else{if(location.href.indexOf("//alpha")>-1){c="beta"}else{if(location.href.indexOf("//dev")>-1){c="beta"}else{if(location.href.indexOf("//beta")>-1){c="beta"}else{if(location.href.indexOf("//test")>-1){c="beta"}}}}}var e=("real"!=c)?"test-":"";b="https://"+e+"m.star.naver.com/comment/redirect?objectId="+g}else{if(b.indexOf("m.entertain.naver.com/read")!=-1){b=b.replace("m.entertain.naver.com/read","entertain.naver.com/read")}else{if(b.indexOf("m.news.naver.com/read.nhn")!=-1){b=b.replace("m.news.naver.com/read.nhn","news.naver.com/main/read.naver")+"&mode=LSD&mid=sec&sid1=001"}}}if(d!=null&&d!=""){var a=b.split("?");var h=a[0];var f=a[1];if(a!=null){if(a.length==2){if(h.indexOf("news.naver.com/main/read.")!=-1){b=h+"?commentNo="+d+"&m_view=1&"+f}else{if(h.indexOf("entertain.naver.com/read")!=-1){h=h.replace("entertain.naver.com/read","entertain.naver.com/comment/list");b=h+"?commentNo="+d+"&"+f}else{if(h.indexOf("m.news.naver.com/poll/vote.nhn")!=-1&&f.indexOf("pollId=188")!=-1){h=h.replace("m.news.naver.com/poll/vote.nhn","m.news.naver.com/election/nation2016/event/votePromise/index.nhn");b=h+"?commentNo="+d}else{b=h+"?commentNo="+d+"&"+f}}}}else{b=h+"?commentNo="+d}}}else{if(b.indexOf("m.news.naver.com/poll/vote.nhn?pollId=188")!=-1){b=b.replace("m.news.naver.com/poll/vote.nhn?pollId=188","m.news.naver.com/election/nation2016/event/votePromise/index.nhn")}}}if(b!=null&&b!=""){window.location.href=b}},processViewAllCommentsWithOption:function(a){var b=location.href.split("?");var c;if(b.length==2){c=b[0]+"?m_view=1&includeAllCount="+a.allCountType+"&"+b[1]}else{c=b}window.location.href=c},processViewAllComments:function(){var a=location.href.split("?");var b;if(a.length==2){b=a[0]+"?m_view=1&"+a[1]}else{b=a}window.location.href=b},itemConverter:function(f){if(f.objectImage){f.objectImage=HTTPConverter.convert(f.objectImage,HTTPConverter.IMAGE)}if(f.metaInfo&&f.metaInfo.imageUrl){var a=f.metaInfo.imageUrl;var c="nf128_122";var d=new RegExp("[?&]type=[A-Za-z0-9+_]*","g");var b=new RegExp("[?&]");if(d.test(a)){a=a.replace(d,"")}var e="?type="+c;if(b.test(a)){a=a.replace(b,e+"&")}else{a+=e}f.metaInfo.imageUrl=a}}};var HTTPConverter={PROTOCAL:0,IMAGE:1,EXTERNAL_IMAGE:2,MOBILE_DOMAIN_RELATIVE:3,MOBILE_DOMAIN_ABSOLUTE:4,PC_DOMAIN_ABSOLUTE:5,YOUTUBE:6,ENCODING_MOBILE_DOMAIN:7,convert:function(d,b){if(d==null||d==""){return d}var a=new String(d);try{switch(b){case HTTPConverter.PROTOCAL:a=a.replace("http","https");break;case HTTPConverter.IMAGE:a=a.replace("http://beta.imgnews.naver.net","https://beta.ssl.phinf.net/imgnews");a=a.replace("http://beta.mimgnews1.naver.net","https://beta.ssl.phinf.net/mimgnews");a=a.replace("http://beta.mimgnews2.naver.net","https://beta.ssl.phinf.net/mimgnews");a=a.replace("http://imgnews.naver.net","https://imgnews.pstatic.net");a=a.replace("http://mimgnews1.naver.net","https://mimgnews.pstatic.net");a=a.replace("http://mimgnews2.naver.net","https://mimgnews.pstatic.net");a=a.replace("http://static.news.naver.net","https://ssl.pstatic.net/static.news");a=a.replace("http://static.naver.net","https://ssl.pstatic.net/static");break;case HTTPConverter.EXTERNAL_IMAGE:a=a.replace("http://post.phinf.naver.net","https://post-phinf.pstatic.net");break;case HTTPConverter.MOBILE_DOMAIN_RELATIVE:a=a.replace(/http:\/\/(\w*\.?)m.news.naver.com\//g,"/");break;case HTTPConverter.MOBILE_DOMAIN_ABSOLUTE:a=a.replace(/http:\/\/(\w*\.?)m.news.naver.com/g,"https://$1m.news.naver.com");break;case HTTPConverter.PC_DOMAIN_ABSOLUTE:a=a.replace(/http:\/\/(\w*\.?)news.naver.com/g,"https://$1news.naver.com");break;case HTTPConverter.YOUTUBE:a=a.replace(/http:\/\/(www\.|m\.)?(youtu\.be\\\/|youtube\\.com)/g,"https://www.youtube.com");break;case HTTPConverter.ENCODING_MOBILE_DOMAIN:a=a.replace("http%3A%2F%2Fm.news.naver.com","https://m.news.naver.com");break;default:a=d;break}}catch(c){return d}return a}};
/*!
 * hand-off 1.4.1 - 20210311 11:48:14
 *
 * Copyright (c) 2021
 * Licensed under the NAVER corp. license.
 */
(function(){function s(I){var G=I.$static;function H(){this.$constructor.apply(this,arguments)}if(G){for(var F in G){if(G.hasOwnProperty(F)){H[F]=G[F]}}delete I.$static}H.prototype=I;H.prototype.constructor=H;return H}function E(G,F){return function(){return G.apply(F,arguments)}}function C(){return window.pageYOffset||(document.documentElement||document.body).scrollTop||0}function c(F){var G=F.getBoundingClientRect().top;return G+C()}function p(F){return Object.prototype.toString.call(F)==="[object Array]"}function o(F){return Object.prototype.toString.call(F)==="[object Object]"}function B(J,G){var F=G.length;var K;for(var I=0;I<F;I++){K=G[I];if(J===undefined&&p(K)){J=[]}else{if(J===undefined){J={}}}L(J,K)}function L(M,N){for(var O in N){if(N.hasOwnProperty(O)===false){continue}if(H(N[O])){M[O]=B(M[O],[N[O]])}else{M[O]=N[O]}}}function H(M){return o(M)||p(M)}return J}function d(I,H){if(I.indexOf){return I.indexOf(H)}var G=I.length;for(var F=0;F<G;F++){if(I[F]===H){return F}}return -1}function h(F,P){var K=F.split("?");var H=K[0];var O=K[1]||"";var G=O.split("&");var L="";var I="";var N=[];for(var J=0,M=G.length;J<M;J++){L=G[J];I=L.split("=")[0];if(L===""||I===""){continue}if(d(P,I)>-1){continue}N.push(L)}return(N.length>0)?H+"?"+N.join("&"):H}function n(F,G){return(F===G)||F.contains(G)}function v(){var F=window.performance&&window.performance.navigation;return(Boolean(F)===false)?false:(F.type===(F.TYPE_NAVIGATE||0))}function t(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}function r(F){return F.offsetHeight}function l(F){return F.href&&(F.href.substr(0,4)==="http")}function e(G,F){return(G.ctrlKey||G.shiftKey||G.metaKey||G.button===1||F.getAttribute("target")==="_blank")}function m(){return{title:(function(){var F=k("og:title");return Boolean(F)?F:null})(),thumbnail:(function(){var F=k("og:image");return Boolean(F)?F.split("?")[0]:null})()}}function k(F){var G=null;try{G=document.querySelector('meta[property="'+F+'"]').getAttribute("content")}catch(H){}return G}function D(G,F){return new RegExp("[&?]"+G+"=").test(F||location.href)}function w(G,F){return new RegExp("[&?]"+G+"=([^&]+)").test(F||location.href)?RegExp.$1:null}function y(F){return F.replace(/^\s+|\s+$/g,"")}function j(J,G){var H=h(a(),[J]);var I=(H.indexOf("?")===-1)?"?":"&";var F=J+"="+G;return H+I+F}function a(){var G=location.href;var F=location.host;if(G.indexOf("entertain.naver.com/")>-1){return G}if(/n\.news\.naver\.com\/entertain\/(?:.+\/)?([0-9]+)\/([0-9]+)/g.test(G)){return"https://entertain.naver.com/read?oid="+RegExp.$1+"&aid="+RegExp.$2}if(F.indexOf("sports")>-1&&w("oid",G)){return"https://sports.news.naver.com/news.nhn?oid="+w("oid",G)+"&aid="+w("aid",G)}if(/n\.news\.naver\.com\/sports\/(?:.+\/)?([0-9]+)\/([0-9]+)/g.test(G)){return"https://sports.news.naver.com/news.nhn?oid="+RegExp.$1+"&aid="+RegExp.$2}if(F.indexOf("sports")>-1){return"https://sports.naver.com/video.nhn?id="+(w("id",G)||w("id",k("og:url")))}if(F.indexOf("tv.")>-1){return G.replace(/\/\/(?:.+)?m\./g,"//")}if(/n\.news\.naver\.com\/(?:.+\/)?([0-9]+)\/([0-9]+)/g.test(G)){return"https://news.naver.com/main/read.naver?oid="+RegExp.$1+"&aid="+RegExp.$2}if(F.indexOf("news.naver.com")>-1){return"https://news.naver.com/main/read.naver?oid="+w("oid",G)+"&aid="+w("aid",G)}}var x={};(function(){x.on=function(H,F,G){if(H.addEventListener){H.addEventListener(F,G)}else{H.attachEvent("on"+F,G)}};x.off=function(H,F,G){if(H.removeEventListener){H.removeEventListener(F,G)}else{H.detachEvent("on"+F,G)}}})();(function(){var F=[];x.delegateClick=function(G,I){var H=function(N){var O=N.target||N.srcElement;var M=document.querySelectorAll(G);var K=null;for(var L=0,J=M.length;L<J;L++){K=M[L];if(n(K,O)){I(N,{delegatedEl:K})}}};F.push({selector:G,originHandler:I,attachedHandler:H});x.on(window.document,"click",H)};x.undelegateClick=function(H,L){var K;var I=[];for(var J=0,G=F.length;J<G;J++){K=F[J];if(K.selector===H&&K.originHandler===L){x.off(window.document,"click",K.attachedHandler);continue}I.push(K)}F=I}})();(function(){var H;var G;var F=[];if(document.hidden!==undefined){H="hidden";G="visibilitychange"}else{if(document.msHidden!==undefined){H="msHidden";G="msvisibilitychange"}else{if(document.webkitHidden!==undefined){H="webkitHidden";G="webkitvisibilitychange"}}}x.onVisibilityChange=function(J){if(H===undefined){return}function I(K){J(K,{isHidden:window.document[H]})}F.push({originHandler:J,attachedHandler:I});x.on(window.document,G,I)};x.offVisibilityChange=function(M){var L;var J=[];for(var K=0,I=F.length;K<I;K++){L=F[K];if(L.originHandler===M){x.off(window.document,G,L.attachedHandler);continue}J.push(L)}F=J}})();var A=s({$static:{_API_PATH_TEMPLATE:{put:"/nudge/v2/messages/{{messageId}}/create",remove:"/nudge/v2/messages/{{messageId}}/delete"}},$constructor:function(F){this._apiPut=F.apiDomain+this.constructor._API_PATH_TEMPLATE.put.replace("{{messageId}}",F.contentId);this._apiRemove=F.apiDomain+this.constructor._API_PATH_TEMPLATE.remove.replace("{{messageId}}",F.contentId);this._isAlreadyPut=false},put:function(H){if(this._isAlreadyPut){return false}var F=this._apiPut;var G=this._getQueryAsMap(H);if(this._sendByBeacon(F,G)===false){this._sendByImg(F,G)}this.changeToUnputtable();return true},remove:function(H){var F=this._apiRemove;var G={categories:H};if(this._sendByBeacon(F,G)===false){this._sendByImg(F,G)}this.changeToPuttable()},removeIfPut:function(F){if(this._isAlreadyPut){this.remove(F)}},changeToUnputtable:function(){this._isAlreadyPut=true},changeToPuttable:function(){this._isAlreadyPut=false},_getQueryAsMap:function(F){return{categories:F.category,url:encodeURIComponent(j(F.restore.key,F.restore.value)),agentDeviceType:this._getPlatform(),data:(function(){var G={};var H;for(var I in F.meta){H=F.meta[I];G[I]=H?encodeURIComponent(H):null}return encodeURIComponent(JSON.stringify(G))})()}},_sendByImg:function(H,I){var F=new Image();var G=[];for(var J in I){G.push(J+"="+I[J])}F.src=H+"?"+G.join("&")},_sendByBeacon:function(F,G){var I=Boolean(navigator.sendBeacon)&&Boolean(window.FormData);if(I===false){return false}var H=new FormData();for(var J in G){H.append(J,G[J])}return navigator.sendBeacon(F,H)},_getPlatform:function(){var F=location.href;if(/m\.(?:.+)\.naver\.com/g.test(F)||/n\.(?:.+)\.naver\.com/g.test(F)||location.host.indexOf("mobile")>-1){return"mobile"}return"pc"}});function q(){var F="NID_SES";return document.cookie.indexOf(F+"=")>-1}function u(){if(Boolean(document.referrer)===false){return false}var F=document.createElement("a");F.href=document.referrer;return F.hostname.indexOf("m.naver.com")>-1||F.hostname.indexOf("www.naver.com")>-1}function f(){return navigator.userAgent&&navigator.userAgent.indexOf("Whale")>=0}var z=new (s({$static:{_CONFIG:{PUT_TRY_CONDITION:{SCROLL_IDLE_TIME_MAX_MS:1000*60*2},PUT_CONDITION:{MIN_STAY_TIME:1000*10,MIN_READING_PROGRESS_RATE:0.2,MIN_STAY_TIME_IN_LAST_PARAGRAPH_FOR_READ_COMPLETE:1000*20},LAST_PARAGRAPH_POSITION_MIN_RATE_IN_VIEWPORT:0.7,VIEWPORT_RATE_TO_SCROLL_UP_FOR_RESTORE_READABILITY:0.25,PARAM_FOR_RESTORE:"hstate"},_SCROLL_EVENT_DELAY_TIME:100},$constructor:function(){},init:function(F,G){try{return this._init(F,G)}catch(H){}},_init:function(F,G){this.deactivate();if(q()===false){return}this._config=this.constructor._CONFIG;this._category=G.category;this._articleEl=F;this._pageEntryTime=new Date().getTime();this._isReadComplete=false;this._timerIdForDelayScrollEvent=null;this._timerIdForOverScrollIdleTime=null;this._timerIdForReadLastParagraph=null;this._sender=new A({apiDomain:G.apiDomain,contentId:G.contentId});this._onUnloadPage=E(this._onUnloadPage,this);this._onScroll=E(this._onScroll,this);this._onClickLink=E(this._onClickLink,this);this._onTabVisibilityChange=E(this._onTabVisibilityChange,this);if(this._isAccessingByRestoreUrl()){setTimeout(E(function(){if(v()===false){return}this._restoreReadingProgressRate()},this),500)}this.activate();return this},activate:function(){x.on(window,"beforeunload",this._onUnloadPage);x.on(window,"pagehide",this._onUnloadPage);x.on(window,"unload",this._onUnloadPage);x.on(window,"scroll",this._onScroll);x.delegateClick("a",this._onClickLink);x.onVisibilityChange(this._onTabVisibilityChange)},deactivate:function(){x.off(window,"beforeunload",this._onUnloadPage);x.off(window,"pagehide",this._onUnloadPage);x.off(window,"unload",this._onUnloadPage);x.off(window,"scroll",this._onScroll);x.undelegateClick("a",this._onClickLink);x.offVisibilityChange(this._onTabVisibilityChange);this._clearTimeoutForDelayScrollEvent();this._clearTimeoutForOverScrollIdleTime();this._clearTimeoutForReadLastParagraph()},_onUnloadPage:function(){this._put()},_onScroll:function(){this._clearTimeoutForDelayScrollEvent();this._timerIdForDelayScrollEvent=setTimeout(E(function(){this._checkReadLastParagraph();this._putAfterOverScrollIdleTime();this._remove("scroll");this._sender.changeToPuttable()},this),this.constructor._SCROLL_EVENT_DELAY_TIME)},_onClickLink:function(G,F){if(l(F.delegatedEl)&&e(G,F.delegatedEl)===false){this.deactivate();this._remove("click")}},_onTabVisibilityChange:function(G,F){if(F.isHidden){this._put()}},_put:function(){if(this._isLessThanMinStayTime()){return}if(this._isLessThanMinReadingProgressRate()){return}if(this._isScrollPositionInArticleBody()===false){return}if(this._isReadComplete){return}this._sender.put({category:this._category,meta:this._getPageMetaData(),restore:{key:this._config.PARAM_FOR_RESTORE,value:this._getReadingProgressRateForRestore()}})},getRestoringUrl:function(){return j(this._config.PARAM_FOR_RESTORE,this._getReadingProgressRateForRestore())},_remove:function(F){switch(F){case"scroll":this._sender.removeIfPut(this._category);break;case"readComplete":case"click":if(this._isAccessingByRestoreUrl()){this._sender.remove(this._category)}else{this._sender.removeIfPut(this._category)}break}},_putAfterOverScrollIdleTime:function(){this._clearTimeoutForOverScrollIdleTime();this._timerIdForOverScrollIdleTime=setTimeout(E(this._put,this),this._config.PUT_TRY_CONDITION.SCROLL_IDLE_TIME_MAX_MS)},_restoreReadingProgressRate:function(){var F=Number(w(this._config.PARAM_FOR_RESTORE)||0);var G=t().height*this._config.VIEWPORT_RATE_TO_SCROLL_UP_FOR_RESTORE_READABILITY;if(F===0||isNaN(F)){return}window.scrollTo(0,(r(this._articleEl)*F)+c(this._articleEl)-G)},_checkReadLastParagraph:function(){this._clearTimeoutForReadLastParagraph();if(this._isLastProgressRate()===false){return}this._timerIdForReadLastParagraph=setTimeout(E(function(){this._isReadComplete=true;this._remove("readComplete")},this),this._config.PUT_CONDITION.MIN_STAY_TIME_IN_LAST_PARAGRAPH_FOR_READ_COMPLETE)},_isLastProgressRate:function(){var F=this._getReadingProgressRate();var G=this._getLastProgressRateRange();return(F>=G.min)&&(F<=G.max)},_isScrollPositionInArticleBody:function(){return this._getReadingProgressRate()<1},_isLessThanMinStayTime:function(){var F=new Date().getTime()-this._pageEntryTime;return F<this._config.PUT_CONDITION.MIN_STAY_TIME},_isLessThanMinReadingProgressRate:function(){return this._getReadingProgressRate()<this._config.PUT_CONDITION.MIN_READING_PROGRESS_RATE},_getReadingProgressRate:function(){return C()/r(this._articleEl)},_getReadingProgressRateForRestore:function(){var F=(C()-c(this._articleEl))/r(this._articleEl);return F.toFixed(5)},_getLastProgressRateRange:function(){var H=r(this._articleEl);var F=t().height;var G=this._config.LAST_PARAGRAPH_POSITION_MIN_RATE_IN_VIEWPORT;return{min:Math.max(1-((F*G)/H),0),max:1}},_getPageMetaData:function(){var F=m();F.pressName=(function(){var G="";try{var H=document.querySelector('meta[property="og:article:author"]').getAttribute("content").split("|");for(var I=0;I<H.length;I++){if(H[I].indexOf("?ㅼ?대?")===-1){G=H[I];break}}}catch(J){}return y(G)})();F.contentCreateTime=(function(){var G=document.querySelector(".article_info .t11")||document.querySelector(".news_headline .info span")||document.querySelector(".media_end_head_info .media_end_head_info_datestamp_time")||document.querySelector(".article_info .author em");return G?y(G.innerText.replace("湲곗?ъ????","")):null})();return F},_clearTimeoutForReadLastParagraph:function(){clearTimeout(this._timerIdForReadLastParagraph)},_clearTimeoutForDelayScrollEvent:function(){clearTimeout(this._timerIdForDelayScrollEvent)},_clearTimeoutForOverScrollIdleTime:function(){clearTimeout(this._timerIdForOverScrollIdleTime)},_isAccessingByRestoreUrl:function(){return D(this._config.PARAM_FOR_RESTORE)}}))();var g=s({$static:{},$constructor:function(F){this.deactivate();this._player=F;this._isFirstPlay=true;this.properties={};this.properties.callbackFunction=function(G){};this.properties.callbackHandler=null;this._onLoadStart=E(this._onLoadStart,this);this._onPause=E(this._onPause,this);this._onPlay=E(this._onPlay,this);this._onEnded=E(this._onEnded,this);this._activate()},_activate:function(){this._player.addEventListener("loadstart",this._onLoadStart);this._player.addEventListener("pause",this._onPause);this._player.addEventListener("play",this._onPlay);this._player.addEventListener("ended",this._onEnded)},deactivate:function(){try{this._player.removeEventListener("loadstart",this._onLoadStart);this._player.removeEventListener("pause",this._onPause);this._player.removeEventListener("play",this._onPlay);this._player.removeEventListener("ended",this._onEnded)}catch(F){}},_onLoadStart:function(){this._isFirstPlay=true;this.properties.callbackFunction("ready")},_onPause:function(){this.properties.callbackFunction("pause")},_onPlay:function(){if(this._isFirstPlay){this.properties.callbackFunction("onContentFirstPlay");this._isFirstPlay=false}this.properties.callbackFunction("play")},_onEnded:function(){this.properties.callbackFunction("complete")},getCurrentTime:function(){return this._player.currentTime},currentTime:function(F){this._player.currentTime=F},getDuration:function(){return this._player.duration},getVideoInfo:function(){return{subject:this._player.srcObject.data.meta.subject,coverImage:this._player.poster}}});var b=new (s({$static:{_CONFIG:{DEFAULT:{MIN_DURATION_TIME_SEC:30,PUT_TRY_CONDITION:{PAUSE_IDLE_TIME_MAX_MS:1000*3},PUT_CONDITION:{MIN_PLAY_TIME_SEC:20},PARAM_FOR_RESTORE:"hstate"},tv_video:{MIN_DURATION_TIME_SEC:30,PUT_CONDITION:{MIN_PLAY_TIME_SEC:20}}}},$constructor:function(){},init:function(G,F){try{return this._init(G,F)}catch(H){}},_init:function(G,F){this.deactivate();if(q()===false){return}this._config=this.constructor._CONFIG.DEFAULT;if(this.constructor._CONFIG[F.category]){this._config=B({},[this._config,this.constructor._CONFIG[F.category]])}this._category=F.category;this._player=G;if(this._player.properties===undefined){this._player=new g(G)}if(Boolean(this._player)===false||this._player.getCurrentTime===undefined||this._player.currentTime===undefined){return}this._isActivating=false;this._isMainVideo=false;this._isPlayEnded=false;this._isRestored=false;this._isPlaying=false;this._timerIdForOverPauseIdleTime=null;this._sender=new A({apiDomain:F.apiDomain,contentId:F.contentId});this._onUnloadPage=E(this._onUnloadPage,this);this._onClickLink=E(this._onClickLink,this);this._onTabVisibilityChange=E(this._onTabVisibilityChange,this);(E(function(){var J=this._player.properties.callbackHandler;var I=(window[J]||this._player.properties.callbackFunction||function(){});var H=E(function(K){I.apply(null,arguments);switch(K){case"ready":this._isMainVideo=false;this._isPlayEnded=false;this._isPlaying=false;this._clearTimeoutForOverPauseIdleTime();this.deactivate();break;case"pause":this._isPlaying=false;this._putAfterOverPauseIdleTime();break;case"play":this._clearTimeoutForOverPauseIdleTime();this._remove("play");this._sender.changeToPuttable();this._isPlaying=true;if((u()||f())&&v()){this._restoreOnce()}break;case"onContentFirstPlay":case"content_loadstart":this._isMainVideo=true;if(this._isLessThanMinDuration()){this.deactivate();return}this.activate();break;case"complete":case"contentended":if(this._isPlayEnded){return}this._isPlayEnded=true;this._remove("complete");break}},this);if(window[J]){window[J]=H}else{if(this._player.properties.callbackFunction||this._player.properties.callbackFunction!==undefined){this._player.properties.callbackFunction=H}}},this))();return this},activate:function(){if(this._isActivating){return}x.on(window,"beforeunload",this._onUnloadPage);x.on(window,"pagehide",this._onUnloadPage);x.on(window,"unload",this._onUnloadPage);x.delegateClick("a",this._onClickLink);x.onVisibilityChange(this._onTabVisibilityChange);this._isActivating=true},deactivate:function(){if(this._isActivating!==true){return}x.off(window,"beforeunload",this._onUnloadPage);x.off(window,"pagehide",this._onUnloadPage);x.off(window,"unload",this._onUnloadPage);x.undelegateClick("a",this._onClickLink);x.offVisibilityChange(this._onTabVisibilityChange);this._clearTimeoutForOverPauseIdleTime();this._isActivating=false},_onUnloadPage:function(){this._put()},_onClickLink:function(G,F){if(l(F.delegatedEl)&&e(G,F.delegatedEl)===false){this.deactivate();this._remove("click")}},_onTabVisibilityChange:function(G,F){if(F.isHidden){this._put();return}if(this._isPlaying){this._remove("visible")}},_put:function(){if(this._isActivating!==true){return}if(this._isMainVideo===false){return}if(this._isPlayEnded){return}if(this._isLessThanMinPlayTime()){return}this._sender.put({category:this._category,meta:this._getPageMetaData(),restore:{key:this._config.PARAM_FOR_RESTORE,value:this._player.getCurrentTime()}})},getRestoringUrl:function(){return j(this._config.PARAM_FOR_RESTORE,this._player.getCurrentTime())},_remove:function(F){switch(F){case"play":case"visible":this._sender.removeIfPut(this._category);break;case"complete":case"click":if(this._isAccessingByRestoreUrl()){this._sender.remove(this._category)}else{this._sender.removeIfPut(this._category)}break}},_putAfterOverPauseIdleTime:function(){this._clearTimeoutForOverPauseIdleTime();this._timerIdForOverPauseIdleTime=setTimeout(E(this._put,this),this._config.PUT_TRY_CONDITION.PAUSE_IDLE_TIME_MAX_MS)},_restoreOnce:function(){if(this._isRestored){return}var H=this._getRestoreValue();var F=null;var G=E(function(){this._player.currentTime(H);clearTimeout(F);if(parseInt(this._player.getCurrentTime(),10)!==parseInt(H,10)){F=setTimeout(G,10)}},this);if(H){G()}this._isRestored=true},_getPageMetaData:function(){var F=m();var H=null;try{H=this._player.getVideoInfo();F.title=H.subject;F.thumbnail=H.coverImage.split("?")[0]}catch(G){}F.contentCreateTime=(function(){var I=document.querySelector(".video_summary .date")||document.querySelector(".playlist_info .time")||document.querySelector(".title_info .date")||document.querySelector(".rating_list dd");return I?y(I.innerText.replace("?깅?","")):null})();return F},_getRestoreValue:function(){var F=Number(w(this._config.PARAM_FOR_RESTORE)||0);if(F===0||isNaN(F)){return}return F},_isAccessingByRestoreUrl:function(){return D(this._config.PARAM_FOR_RESTORE)},_isLessThanMinDuration:function(){var F=this._getDuration();if(Boolean(F)===false){return false}return F<this._config.MIN_DURATION_TIME_SEC},_isLessThanMinPlayTime:function(){return this._player.getCurrentTime()<this._config.PUT_CONDITION.MIN_PLAY_TIME_SEC},_getDuration:function(){var G=0;try{G=this._player.getDuration()}catch(F){}return G||0},_clearTimeoutForOverPauseIdleTime:function(){clearTimeout(this._timerIdForOverPauseIdleTime)}}))();window.handOff={version:"1.4.1 (03/11 2021 11:48:14)",Article:z,Video:b}})();if(typeof nhn=="undefined"){nhn={}}nhn.FlashObject=(function(){var d={};var a="F"+new Date().getTime()+parseInt(Math.random()*1000000);var l=/MSIE/i.test(navigator.userAgent);var k=/FireFox/i.test(navigator.userAgent);var j=/Chrome/i.test(navigator.userAgent);var b="className, style, __flashID, classid, codebase, class, width, height, name, src, align, id, type, object, embed, movie";var h=function(o,q,p){if(typeof o.attachEvent!="undefined"){o.attachEvent("on"+q,p)}else{o.addEventListener(q,p,true)}};var f=function(o,r){var t="";var w=true;var q="";var u;for(var v in o){if(w){w=false}else{t+=r}u=o[v];switch(typeof(u)){case"string":t+=v+"="+encodeURIComponent(u);break;case"number":t+=v+"="+encodeURIComponent(u.toString());break;case"boolean":t+=v+"="+(u?"true":"false");break;default:}}return t};var n=function(){obj=document.getElementsByTagName("OBJECT");for(var p=0,o;o=obj[p];p++){o.style.display="none";for(var r in o){if(typeof(o[r])=="function"){try{if(o.hasOwnProperty(r)){o[r]=null}}catch(q){}}}}};var e=function(s){s=s||window.event;var r=s.wheelDelta/(j?360:120);if(!r){r=-s.detail/3}var p=s.target||s.srcElement;if(!(new RegExp("(^|\b)"+a+"_([a-z0-9_$]+)(\b|$)","i").test(p.className))){return}var o=RegExp.$2;var u="layerX" in s?s.layerX:s.offsetX;var t="layerY" in s?s.layerY:s.offsetY;try{if(!p[o](r,u,t)){if(s.preventDefault){s.preventDefault()}else{s.returnValue=false}}}catch(q){}};var g=function(p){var q=null;var s=/Safari/.test(navigator.userAgent);var o=/MSIE/.test(navigator.userAgent);var t=function(v){var u={left:0,top:0};if(v.parentNode.tagName.toLowerCase()=="object"){v=v.parentNode}for(var x=v,w=x.offsetParent;x=x.parentNode;){if(x.offsetParent){u.left-=x.scrollLeft;u.top-=x.scrollTop}if(x==w){u.left+=v.offsetLeft+x.clientLeft;u.top+=v.offsetTop+x.clientTop;if(!x.offsetParent){u.left+=x.offsetLeft;u.top+=x.offsetTop}w=x.offsetParent;v=x}}return u};var r=function(v){var u={left:0,top:0};for(var w=v;w;w=w.offsetParent){u.left+=w.offsetLeft;u.top+=w.offsetTop}for(var w=v.parentNode;w;w=w.parentNode){if(w.tagName=="BODY"){break}if(w.tagName=="TR"){u.top+=2}u.left-=w.scrollLeft;u.top-=w.scrollTop}return u};return(s?t:r)(p)};var c=function(){var o=/MSIE/.test(navigator.userAgent);if(o){var q=document.documentElement.scrollLeft||document.body.scrollLeft;var p=document.documentElement.scrollTop||document.body.scrollTop;return{scrollX:q,scrollY:p}}else{return{scrollX:window.pageXOffset,scrollY:window.pageYOffset}}};var m=function(){var o=/MSIE/.test(navigator.userAgent);var p={};if(o){p.nInnerWidth=document.documentElement.clientWidth||document.body.clientWidth;p.nInnerHeight=document.documentElement.clientHeight||document.body.clientHeight}else{p.nInnerWidth=window.innerWidth;p.nInnerHeight=window.innerHeight}return p};d.showAt=function(o,p){document.getElementById(o).innerHTML=p};d.show=function(r,s,t,u,w,o,v,q){var p=d.generateTag(s,t,u,w,o,v,q);jindo.$Element(r).appendHTML(p)};d.generateTag=function(w,x,y,B,p,z,t){y=0;B="0";t=t||"9,0,0,0";z=z||"middle";var A=d.getDefaultOption();var D="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000";var s="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+t;var q="position:relative !important;";var r=a;if(p){if(p.flashVars){if(typeof(p.flashVars)=="object"){p.flashVars=f(p.flashVars,"&")}p.flashVars+="&"}else{p.flashVars=""}p.flashVars+="__flashID="+x;q=p.style||q;r=p.className||(r+"_"+p.wheelHandler);for(var C in p){if(b.indexOf(C)>=0){continue}A[C]=p[C]}}var u=[];var o=[];u.push('<object classid="'+D+'" codebase="'+s+'" class="'+r+'" style="'+q+'" width="'+y+'" height="'+B+'" id="'+x+'" align="'+z+'">');u.push('<param name="movie" value="'+w+'" />');o.push('<embed width="'+y+'" height="'+B+'" name="'+x+'" class="'+r+'" style="'+q+'" src="'+w+'" align="'+z+'" ');if(!l){o.push('id="'+x+'" ')}for(var v in A){u.push('<param name="'+v+'" value="'+A[v]+'" />');o.push(v+'="'+A[v]+'" ')}o.push('type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />');u.push(o.join(""));u.push("</object>");if(h){h(window,"unload",n);h(document,!k?"mousewheel":"DOMMouseScroll",e);h=null}return(l)?u.join(""):o.join("")};d.getDefaultOption=function(){return{quality:"high",bgColor:"#FFFFFF",allowScriptAccess:"always",wmode:"window",menu:"false",allowFullScreen:"true"}};d.find=function(p,o){o=o||document;try{return o[p]||o.all[p]}catch(q){return null}};d.setWidth=function(o,p){d.find(o).width=p};d.setHeight=function(o,p){d.find(o).height=p};d.setSize=function(q,p,o){d.find(q).height=o;d.find(q).width=p};d.getPositionObj=function(p){var q=d.find(p);if(q==null){return null}var o=g(q);var r=c();var s={};s.absoluteX=o.left;s.absoluteY=o.top;s.scrolledX=s.absoluteX-r.scrollX;s.scrolledY=s.absoluteY-r.scrollY;s.browserWidth=m().nInnerWidth;return s};d.getSSCLogParam=function(){var o=[];if(window.g_ssc){o.push("ssc="+g_ssc)}else{o.push("ssc=decide.me")}if(window.g_pid){o.push("&p="+g_pid)}if(window.g_query){o.push("&q="+encodeURIComponent(g_query))}if(window.g_sid){o.push("&s="+g_sid)}return o.join("")};return d})();nhn.FlashAudioPlayer=jindo.$Class({_term:0,_uniqid:"mp3_swf",_mp3_url:null,_document_id:null,_flash_obj:"/main/js/tts/mp3_nhn.swf",$init:function(b){var a=this;this._document_id=b;this._uniqid="mp3_swf";this._loadFlash();window.flashSoundStart=function(){a.fireEvent("start")};window.flashSoundEnd=function(){a.fireEvent("end")}},_loadFlash:function(){var a={};a.wmode="window";a.bgColor="#888888";a.allowAccessScript="always";nhn.FlashObject.show(this._document_id,this._flash_obj,this._uniqid,1,1,a)},_getFlash:function(){return nhn.FlashObject.find(this._uniqid)},play:function(a){this._mp3_url=a;try{this._getFlash().callback_play(this._mp3_url)}catch(b){}},resume:function(){try{if(!this._mp3_url){this._mp3_url==""}this._getFlash().callback_play(this._mp3_url)}catch(a){}},pause:function(){try{this._getFlash().callback_pause()}catch(a){}},stop:function(){try{this._getFlash().callback_stop()}catch(a){}},setTerm:function(a){try{if(typeof a!="undefined"){this._term=a}this._getFlash().flashSetTerm(this._term)}catch(b){}},isStopped:function(){return false},$static:{supportFlash:function(){var a=jindo.$Agent().navigator();return a.ie||((typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]=="object")||(typeof window.ActiveXObject!="undefined"&&(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))!=false))}}}).extend(jindo.Component);nhn.Html5AudioPlayer=jindo.$Class({$init:function(){this.playing=false;this.loading=false;this.loaded=false;this.stoped=false;this.playCount=0;this.term=0;var b=(document.createDocumentFragment)?document.createDocumentFragment():document.createElement("div");var a=document.createElement("div");a.id="nhn_html_stack";b.appendChild(a);a.innerHTML="<audio></audio>";this.audio=a.firstChild;this._nTimeoutId=null;this._attachEvents()},$static:{canPlayMp3:function(){var b=document.createElement("audio");return !!(b.canPlayType&&b.canPlayType("audio/mpeg;").replace(/no/,""))}},play:function(a){this._mp3_url=a;this.pause();this.playCount=0;this.stoped=false;this._loadAudio()},resume:function(){this.loading=true;this.playing=false;this.audio.play()},pause:function(){if(this.loading||this.playing){this.audio.pause();this.loading=false;this.playing=false}},stop:function(){this.stoped=true;this.audio.pause();this.loaded=false;this.loading=false;this.playing=false;this._eventEnded()},setTerm:function(a){if(typeof a!="undefined"){this.term=a}},_loadAudio:function(){this.loaded=false;if(this._mp3_url==""){this.audio.pause();this._eventEnded()}else{if(this.audio.src!=this._mp3_url||this.loaded==false){this.audio.src=this._mp3_url;this.loaded=false;this.audio.load();this.loading=true;this.playing=false;this._delayLoading()}else{try{this.audio.currentTime=0}catch(a){}this.loading=true;this.playing=false;this.audio.play()}}},_attachEvents:function(){var a=this;jindo.$Fn(this._eventCanplay,this).attach(this.audio,"canplay");jindo.$Fn(this._eventLoadstart,this).attach(this.audio,"loadstart");jindo.$Fn(this._eventPlay,this).attach(this.audio,"play");jindo.$Fn(this._eventEnded,this).attach(this.audio,"ended");jindo.$Fn(this._eventError,this).attach(this.audio,"error");jindo.$Fn(this._eventWaiting,this).attach(this.audio,"waiting");jindo.$Fn(function(){a.stop()},this).attach(window,"pagehide");if(!this._nIntervalId){this._nIntervalId=setInterval(jindo.$Fn(function(){if(this.audio.ended===true&&!this.loading&&this.playing){this._eventEnded()}},this).bind(),300)}},_eventCanplay:function(){if(0.1>this.audio.volume){this.audio.volume=1}this.audio.play()},_eventLoadstart:function(){this.loading=true},_eventPlay:function(){this.loading=false;this.playing=true;this.loaded=true;this.playCount++;if(this.playCount==1){this.fireEvent("start")}},_eventEnded:function(a){this.loading=false;this.playing=false;this.fireEvent("end");sendToJavaScript("end")},_eventError:function(a){this.audio.pause();this._eventEnded()},_eventWaiting:function(){this.audio.pause();this._eventEnded()},_clearTimeout:function(){if(this._nTimeoutId){clearTimeout(this._nTimeoutId);this._nTimeoutId=null}},_delayLoading:function(){this._clearTimeout();this._nTimeoutId=setTimeout(jindo.$Fn(function(){if(this.loading&&!this.playing){alert("로딩이 지연되었습니다.\n다시 시도해 주시기 바랍니다.");this._eventEnded()}},this).bind(),30000)},isStopped:function(){return this.stoped}}).extend(jindo.Component);nhn.NewsTTSPlayer=jindo.$Class({_TTS_URL:null,_COOKIE_KEY_PLAYBACK_RATE:"tts_playback_rate_new",_COOKIE_KEY_GENDER_TYPE:"tts_gender_new",_oAjax:null,_oPlayer:null,_sPlayerContainer:"tts_player_div",_welArticleTitle:null,_welControlButton:null,_welControlText:null,_welPopup:null,_welPopConfirm:null,_welSpeedSelectBox:null,_welTTSSettingButton:null,_sServiceDate:null,_sOfficeId:null,_sArticleId:null,__bAutoPlay:false,_nPlaybackRate:null,_nPlaybackGender:null,_tts_voice:null,_isPlaying:false,_tts_btn_end_text:"본문듣기",_tts_btn_do_text:"본문듣기중",_play_count:0,_piece_count:0,$init:function(a){this._initVariables(a);this._initTTSSettingLayer();this._attachEvents();this._autoPlay();this._tts_voice=jindo.$Element(jindo.$$.getSingle(".tts_voice"))},_initVariables:function(e){var f=jindo.$$.getSingle("div.tts_svc");var d=jindo.$Element(f);var b=jindo.$Element("tts_player_div");if(nhn.Html5AudioPlayer.canPlayMp3()){this._oPlayer=new nhn.Html5AudioPlayer();b.show()}else{this._oPlayer={}}this._TTS_URL=e.sTTSUrl;this._sServiceDate=e.sServiceDate;this._sOfficeId=e.sOfficeId;this._sArticleId=e.sArticleId;this._bAutoPlay=e.bAutoPlay;this._sNationText=e.sNationText;this._welArticleTitle=jindo.$Element("articleTitle");this._welArticleTitle.addClass("tts_head");this._welControlButton=jindo.$Element(jindo.$$.getSingle("button",f));this._welControlText=jindo.$Element(jindo.$$.getSingle("span",this._welControlButton.$value()));this._welPopup=jindo.$Element(jindo.$$.getSingle("div.tts_popup",f));this._welGenderDiv=jindo.$Element(this._welPopup.query("div._tts_gender_select"));this._welSpdDiv=jindo.$Element(this._welPopup.query("div._tts_spd_select"));this._welBtnText=jindo.$Element(jindo.$$.getSingle(".tts_voice_txt",f));this._welTTSSettingButton=jindo.$Element(jindo.$$.getSingle(".tts_setting",f));var a=jindo.$Cookie().get(this._COOKIE_KEY_PLAYBACK_RATE);this._nPlaybackRate=(!!a)?a:2;var c=jindo.$Cookie().get(this._COOKIE_KEY_GENDER_TYPE);this._nPlaybackGender=this._initPlaybackGender(c)},_initTTSSettingLayer:function(){this._initGenderRadioButton();this._initRateRadioButton()},_initGenderRadioButton:function(b){var a=this;var c=(b)?b:this._nPlaybackGender;jindo.$A(this._welGenderDiv.queryAll("span.spd_btn--on")).forEach(function(e,f,d){jindo.$Element(e).removeClass("spd_btn--on").html("")});jindo.$A(this._welPopup.queryAll("a._gender_btn")).forEach(function(e,f,d){var h=jindo.$Element(e).attr("data-value");if(h==c){var g=jindo.$Element(e).query("span.spd_btn");jindo.$Element(g).addClass("spd_btn--on").html("선택된 성별")}})},_initRateRadioButton:function(c){var a=this;var b=(c)?c:this._nPlaybackRate;jindo.$A(this._welSpdDiv.queryAll("span.spd_btn--on")).forEach(function(e,f,d){jindo.$Element(e).removeClass("spd_btn--on").html("")});jindo.$A(this._welPopup.queryAll("a._spdbar_btn")).forEach(function(e,f,d){var h=jindo.$Element(e).attr("data-value");if(h==b){var g=jindo.$Element(e).query("span.spd_btn");jindo.$Element(g).addClass("spd_btn--on").html("선택된 속도")}})},_attachEvents:function(){var a=this;jindo.$Fn(this._clickTTS,this).attach(this._welControlButton.$value(),"click");this._welPopup.delegate("click","._gender_btn",jindo.$Fn(function(b){a._initGenderRadioButton(b.element.getAttribute("data-value"))},this).bind());this._welPopup.delegate("click","._spdbar_btn",jindo.$Fn(function(b){a._initRateRadioButton(b.element.getAttribute("data-value"))},this).bind());jindo.$Fn(function(b){a._welPopup.toggle();a._initGenderRadioButton();a._initRateRadioButton()},this).attach(this._welTTSSettingButton,"click");jindo.$Fn(function(b){a._welPopup.hide()},this).attach(this._welPopup.query("a._spd_cancel_btn"),"click");jindo.$Fn(function(b){a._saveOption();a._welPopup.hide();if(a._welControlButton.hasClass("on")){a._play()}},this).attach(this._welPopup.query("a._spd_save_btn"),"click");window.sendToJavaScript=function(){a._callback()}},_saveOption:function(){var a=this;var c=null;var b=null;jindo.$A(this._welGenderDiv.queryAll("span.spd_btn--on")).forEach(function(e,f,d){b=jindo.$Element(e).parent().$value().getAttribute("data-value")});jindo.$A(this._welSpdDiv.queryAll("span.spd_btn--on")).forEach(function(e,f,d){c=jindo.$Element(e).parent().$value().getAttribute("data-value")});jindo.$Cookie().set(this._COOKIE_KEY_PLAYBACK_RATE,c,365);jindo.$Cookie().set(this._COOKIE_KEY_GENDER_TYPE,b,365);this._nPlaybackRate=c;this._nPlaybackGender=b},_clickTTS:function(a){if(this._welControlButton.hasClass("on")){if(confirm("음성 서비스가 제공중입니다. 종료하시겠습니까?")){this._oPlayer.stop();this._buttonOff()}}else{if(Math.abs(this._welControlButton.offset().top-this._welArticleTitle.offset().top)>10){this._welPopup.addClass("tts_rgt")}this._welControlButton.addClass("on");this._welBtnText.text(this._tts_btn_do_text);this._play()}},_initPlaybackGender:function(a){if(!!a){return a}else{var b=Math.floor(Math.random()*10);return b%2===0?"f":"m"}},_getGenderSpeaker:function(){if(this._sNationText=="en"){return(this._nPlaybackGender=="f")?"clara":"matt"}if(this._sNationText=="ko"){return(this._nPlaybackGender=="f")?"dsubin":"dsangjin"}},_getPlaybackRate:function(){if(this._sNationText=="ko"){if(this._nPlaybackRate==0){return -1}if(this._nPlaybackRate==2){return 0}if(this._nPlaybackRate==3){return 1}}return this._nPlaybackRate},_isPC:function(){var b=jindo.$Agent().navigator().mobile;var a=jindo.$Agent().os();return !(b||a.android||a.ipad||a.iphone||a.blackberry)},_autoPlay:function(){if(!this._isPC()){return}var c=jindo.$S(document.location.href).parseString();if(c.autoTTSPlay!="true"){return}this._play_count=0;this._get_piece_count();var b=this._TTS_URL+"/ttsChunkPlay.nhn?speaker="+this._getGenderSpeaker()+"&speed="+this._getPlaybackRate()+"&oid="+this._sOfficeId+"&aid="+this._sArticleId+"&from=pc&piece="+this._play_count;b+="";var a=this;jindo.$Fn(function(){a._oPlayer.play(b);a._buttonOn()}).attach(window,"load");this._play_count++;if(Math.abs(this._welControlButton.offset().top-this._welArticleTitle.offset().top)>10){this._welPopup.addClass("tts_rgt")}},_play:function(a){var b="";this._play_count=0;this._get_piece_count();b=this._TTS_URL+"/ttsChunkPlay.nhn?speaker="+this._getGenderSpeaker()+"&speed="+this._getPlaybackRate()+"&oid="+this._sOfficeId+"&aid="+this._sArticleId+"&from=pc&piece="+this._play_count;this._oPlayer.play(b);this._play_count++;this._buttonOn()},_after_play:function(){if(this._oPlayer.isStopped()){return}var a="";if(this._play_count>=this._piece_count){this._buttonOff();return}a=this._TTS_URL+"/ttsChunkPlay.nhn?speaker="+this._getGenderSpeaker()+"&speed="+this._getPlaybackRate()+"&oid="+this._sOfficeId+"&aid="+this._sArticleId+"&from=pc&piece="+this._play_count;this._oPlayer.play(a);this._play_count++},_get_piece_count:function(){var a=this;var b=new jindo.$Ajax(this._TTS_URL+"/ttsChunkCount.nhn?oid="+this._sOfficeId+"&aid="+this._sArticleId,{timeout:5,type:"jsonp",onload:function(d){try{a._piece_count=d.json().count}catch(c){a._piece_count=0}}});b.request()},_buttonOn:function(){this._welControlButton.addClass("on");this._welBtnText.text(this._tts_btn_do_text);this._welControlText.text("뉴스 음성지원 서비스 듣는 중")},_buttonOff:function(){this._welControlButton.removeClass("on");this._welBtnText.text(this._tts_btn_end_text);this._welControlText.text("뉴스 음성지원 서비스 듣기")},_playButtonOn:function(){if(_isPlaying){this._welControlButton.addClass("on");this._welBtnText.text(this._tts_btn_do_text);this._welControlText.text("뉴스 음성지원 서비스 듣는 중");return true}else{return false}},_playButtonOff:function(){_isPlaying=this._tts_voice.hasClass("on");if(_isPlaying){this._welControlButton.removeClass("on");this._welBtnText.text(this._tts_btn_end_text);this._welControlText.text("뉴스 음성지원 서비스 듣기");return true}else{return false}},pause:function(){if(this._playButtonOff()){this._oPlayer.pause()}},resume:function(){if(this._playButtonOn()){this._oPlayer.resume()}},_callback:function(){this._after_play()}}).extend(jindo.Component);if(typeof news=="undefined"){news={}}if(typeof news.template=="undefined"){news.template={}}news.template.gallery=jindo.$Class({weBase:null,oScrollBar:null,oRolling:null,weMainView:null,nImageListSize:0,nScrollMaxMoveStep:0,$init:function(a){this.weBase=a;this.oScrollBar=new jindo.ScrollBar(jindo.$$.getSingle(".scroll",this.weBase));this.oRolling=new jindo.Rolling(jindo.$$.getSingle(".r_gallery_view.rolling",this.weBase),{nDuration:0});this.weMainView=jindo.$Element(jindo.$$.getSingle(".r_gallery_view.rolling",this.weBase));this.nImageListSize=jindo.$A(jindo.$$(".scroll .r_gallery_li",this.weBase)).length();this._bindEvents();this._calculateScrollMaxMoveStep()},_calculateScrollMaxMoveStep:function(){this.nScrollMaxMoveStep=this.oScrollBar.getDefaultContentSize().nWidth-this.oScrollBar.getDefaultBoxSize().nWidth},_bindEvents:function(){jindo.$Fn(this._movePrevious,this).attach(jindo.$$.getSingle(".r_gallery .arrow.btn_prev",this.weBase),"click");jindo.$Fn(this._moveNext,this).attach(jindo.$$.getSingle(".r_gallery .arrow.btn_next",this.weBase),"click");jindo.$Fn(this._selectItem,this).attach(jindo.$$(".scroll .r_gallery_li",this.weBase),"click");jindo.$Fn(this._initImageSize,this).attach(this.weMainView.xpathAll("img"),"load")},_selectItem:function(c){var b=jindo.$Element(jindo.$$.getSingle(".scroll ul",this.weBase));var a=b.indexOf(jindo.$Element(c.currentElement));this.oRolling.moveTo(a);this._controlScrollArea(a)},_controlScrollArea:function(a){this._changeSelectedCss(a);this._moveScrollBar(a)},_moveScrollBar:function(a){this.oScrollBar.setScrollLeft(a/(this.nImageListSize-1)*this.nScrollMaxMoveStep)},_changeSelectedCss:function(c){var a=jindo.$Element(jindo.$$.getSingle(".scroll .selected",this.weBase));var b=jindo.$Element(jindo.$$(".scroll .r_gallery_li",this.weBase)[c]);a.removeClass("selected");b.addClass("selected")},_movePrevious:function(b){if(this.oRolling.getIndex()==0){this.oRolling.moveLastTo(0)}else{this.oRolling.moveBy(-1)}var a=this.oRolling.getIndex();this._controlScrollArea(a)},_moveNext:function(b){var c=this.nImageListSize-1;if(this.oRolling.getIndex()==c){this.oRolling.moveTo(0)}else{this.oRolling.moveBy(1)}var a=this.oRolling.getIndex();this._controlScrollArea(a)},_initImageSize:function(b){var a=jindo.$Element(b.currentElement);if(a._element.height>374){a.attr("height","374");a.attr("width",null)}}});if(typeof news=="undefined"){news={}}if(typeof news.imagemontage=="undefined"){news.imagemontage={}}news.imagemontage.HashHistory={_sIFrameUrl:"http://"+document.location.host+"/main/imagemontage/history.naver",_sHash:null,_nCheckInterval:100,_fCallback:null,_pHashComponent:/#(\d+)/,init:function(){this._attach()},_attach:function(){var c=this._getLocationHash();var a=jindo.$Agent().navigator();if((a.ie&&(document.documentMode||a.version)>=8&&jindo.$Document().renderingMode()=="Standards")||(a.firefox&&a.version>=3.6)||(a.chrome&&a.version>3)||(a.safari&&a.version>=5)||(a.opera&&a.version>=10.6)){jindo.$Fn(this._checkLocationChange,this).attach(window,"hashchange");this._sCheckType="hashchangeevent"}else{if(a.ie){var b=this;this._welIFrame=jindo.$Element("<IFRAME>");this._welIFrame.hide();this._welIFrame.appendTo(document.body);this._sCheckType="iframe"}else{this._nIntervalId=setInterval(jindo.$Fn(this._checkLocationChange,this).bind(),this._nCheckInterval);this._sCheckType="setinterval"}}if(c){if(this._sCheckType=="iframe"){this.reloadIFrame(c)}else{this._sHash=c}}else{var b=this;if(a.ie&&(document.documentMode||a.version)<8){var d=this._welIFrame.$value();d.onreadystatechange=function(){if(d.readyState=="complete"){b._load();d.onreadystatechange=function(){}}};d.src=this._sIFrameUrl}else{setTimeout(function(){b._load()},0)}}return this},checkIFrameChange:function(b){var a=jindo.$S(b.search.substring(1)).parseString();this._checkLocationChange(a.hash)},_getLocationHash:function(){return location.hash.substring(1)},_setLocationHash:function(a){location.hash=a},reloadIFrame:function(a){if(typeof a=="undefined"){a=""}if(this._welIFrame){this._welIFrame.$value().src=this._sIFrameUrl+"?hash="+a.replace("#","")}},add:function(a){if(this._sHash!=a){this._setLocationHash(a);if(this._sCheckType=="iframe"){this.reloadIFrame(a)}}},_load:function(){},_change:function(){var a=location.hash;news.imagemontage.Aside.hideShareAndComment();if(this._pHashComponent.test(a)){news.imagemontage.ArticleController.hidden();var d=a.substring(1);var b="/main/imagemontage/moveImageMontageInfo.naver?cid="+d;var c=new jindo.$Ajax(b,{onload:jindo.$Fn(function(f){var e=f.json();if(!e.result){alert("데이터 갱신 실패");return}news.imagemontage.ListController.updateContent(e.data.componentId);news.imagemontage.ViewController.updateImagemontagePrevNext();news.imagemontage.ViewController.updateContent(e.data);news.imagemontage.Aside.updateCommentArea(e.data);news.imagemontage.ArticleController.clearCache()},this).bind(),timeout:10,ontimeout:function(){alert("Timeout!")}});c.request()}},_checkLocationChange:function(a){a=(a&&typeof(a)=="string")?a:this._getLocationHash();if(a&&a!=this._sHash){this._sHash=a;if(this._sCheckType=="iframe"){this._setLocationHash(a)}this._change()}}};if(typeof news=="undefined"){news={}}if(typeof news.imagemontage=="undefined"){news.imagemontage={}}news.imagemontage.ListController={_pHashComponent:/#(\d+)/,_pHashRead:/#r(\d+)::(\d{10}\/\d{3})/,_nCurrentIndex:0,_welCurrentList:null,_nPage:1,_nTotalPage:1,_sPageButtonDisplayStyle:"inline-block",_sEmptyList:'<li class="_empty"><span class="btn_list"><span class="sp list_img"><span class="blind">준비중</span></span><span class="trans_border"></span></span></li>',init:function(a,b){this._oImageMontageNavigationJson=a;this._sCid=b;this._initElement();this._initEvent();this._initNavigation()},_initElement:function(){this.welHeader=jindo.$Element("header");this.welBody=jindo.$Element("body");this.welImagemontageListBtn=jindo.$Element(jindo.$$.getSingle(".btn_openlist",this.welHeader));this.welImagemontageListCloseBtn=jindo.$Element(jindo.$$.getSingle(".btn_lyr_close",this.welHeader));this.welImagemontageList=jindo.$Element(jindo.$$.getSingle(".lyr_lst",this.welHeader));this.welCurrentPage=jindo.$Element("currentPage");this.welTotalPage=jindo.$Element("totalPage");this.welPrevNavBtn=jindo.$Element("prevNavBtn");this.welPrevNavDimBtn=jindo.$Element("prevNavDimBtn");this.welNextNavBtn=jindo.$Element("nextNavBtn");this.welNextNavDimBtn=jindo.$Element("nextNavDimBtn");this.oTemplate=jindo.$Template("imageMontageNavigationTpl");this.welCloseBtn=jindo.$Element("closeBtn");this.welCloseDimBtn=jindo.$Element("closeDimBtn");this.welWindow=jindo.$Element(window);this.welBody=jindo.$Element(document.body);this.welTileImg=jindo.$Element("tileImg");this.welLargeTileLayer=jindo.$Element("largeTileLayer");var a=jindo.$Agent().navigator();this._bUnderIE8=a.ie&&(document.documentMode||a.version)<8},_initEvent:function(){this.welImagemontageListBtn.attach("click",jindo.$Fn(this._toggleImagemontageList,this).bind());this.welImagemontageListCloseBtn.attach("click",jindo.$Fn(this._toggleImagemontageList,this).bind());this.welImagemontageListCloseBtn.attach("focusout",jindo.$Fn(this._imagemontageListCloseBtnFocusout,this).bind());this.welHeader.delegate("click",".btn_list",jindo.$Fn(this._clickNavigation,this).bind());this.welPrevNavBtn.attach("click",jindo.$Fn(this._prev,this).bind());this.welNextNavBtn.attach("click",jindo.$Fn(this._next,this).bind());this.welWindow.attach("resize",jindo.$Fn(this._updatePage,this).bind())},_initNavigation:function(){var b=this._oImageMontageNavigationJson;var e=this.oTemplate.process({aNavigationList:b});this.welImagemontageList.html(e);var a=location.hash;if(this._pHashComponent.test(a)){var c=a.substring(1);this._requestContent(c)}else{if(this._pHashRead.test(a)){var d=a.match(this._pHashRead);var c=d[1];this._requestContent(c)}else{if(!!this._sCid){this.updateContent(this._sCid);location.hash="#"+this._sCid}else{var c=this._oImageMontageNavigationJson[0].componentId;this.updateContent(c);location.hash="#"+c}}}},updateBy:function(a){document.location.hash=a;news.imagemontage.HashHistory.reloadIFrame(a)},_requestContent:function(c){var a="/main/imagemontage/moveImageMontageInfo.naver?cid="+c;var b=new jindo.$Ajax(a,{onload:jindo.$Fn(function(e){var d=e.json();if(!d.result){alert("데이터 갱신 실패");return}this.updateContent(d.data.componentId);news.imagemontage.ViewController.updateImagemontagePrevNext();news.imagemontage.ViewController.updateContent(d.data);news.imagemontage.Aside.updateCommentArea(d.data);news.imagemontage.ArticleController.clearCache()},this).bind(),timeout:10,ontimeout:function(){alert("Timeout!")}});b.request()},updateContent:function(a){this._updateCurrentInfo(a);this._updatePage()},_updateCurrentInfo:function(c){if(this._welCurrentList){this._welCurrentList.removeClass("selected")}for(var a=0;a<this._oImageMontageNavigationJson.length;a++){var b=this._oImageMontageNavigationJson[a];if(b.componentId==c){this._nCurrentIndex=a;this._welCurrentList=jindo.$Element("list"+c);break}}if(this._welCurrentList){this._welCurrentList.addClass("selected")}},_updatePage:function(){var b=this.welBody.width();var c=b-234;var d=Math.floor(c/216);this._nPageSize=d>0?d:1;this._nTotalPage=Math.ceil(this._oImageMontageNavigationJson.length/this._nPageSize);this.welTotalPage.html(this._nTotalPage);var a=Math.floor(this._nCurrentIndex/this._nPageSize);this._nPage=a+1;this._updatePageList()},_updatePageList:function(){this._updateNavPrevNextBtn();this._removeEmptyList();this.welCurrentPage.html(this._nPage);var b=this._getList();var e=(this._nPage-1)*this._nPageSize;var d=e+this._nPageSize;for(var c=0;c<b.length;c++){var a=jindo.$Element(b[c]);if(c>=e&&c<d){if(this._bUnderIE8){a.css("display","");a.css("*display","inline")}else{a.show(this._sPageButtonDisplayStyle)}}else{a.hide();if(this._bUnderIE8){a.css("*display","none")}}}var f=d-b.length;this._addEmptyList(f);this.welTileImg.hide();this.welLargeTileLayer.hide()},_getList:function(){return jindo.$$("li",this.welImagemontageList)},_removeEmptyList:function(){var b=jindo.$$("._empty",this.welImagemontageList);for(var c=b.length-1;c>=0;c--){var a=jindo.$Element(b[c]);a.leave()}},_addEmptyList:function(b){if(this._nTotalPage>1&&b>0){for(var a=0;a<b;a++){this.welImagemontageList.appendHTML(this._sEmptyList)}}},_toggleImagemontageList:function(a){if(a.element.className!="btn_list"){a.stopDefault()}if(this.welHeader.hasClass("list_opened")){this.welHeader.removeClass("list_opened")}else{this.welHeader.addClass("list_opened")}this.welBody.toggleClass("list_dimmed");news.imagemontage.Aside.hideShareAndComment();this._toggleCloseBtn()},_toggleCloseBtn:function(){this.welCloseBtn.toggle();this.welCloseDimBtn.toggle()},_imagemontageListCloseBtnFocusout:function(){this.welHeader.removeClass("list_opened");this.welBody.removeClass("list_dimmed")},_clickNavigation:function(b){var a=jindo.$Element(b.element);if(a.tag=="span"){return}var c=a.attr("href").split("#")[1];if(!c){c=a.attr("href").split("%23")[1]}this.updateBy(c);nclk(b.$value(),"men.list","");this._toggleImagemontageList(b);this.welTileImg.hide();this.welLargeTileLayer.hide()},_prev:function(a){a.stopDefault();--this._nPage;this._updatePageList()},_next:function(a){a.stopDefault();++this._nPage;this._updatePageList()},_updateNavPrevNextBtn:function(){if(this._nPage>1){this.welPrevNavBtn.show(this._sPageButtonDisplayStyle);this.welPrevNavDimBtn.hide()}else{this.welPrevNavBtn.hide();this.welPrevNavDimBtn.show(this._sPageButtonDisplayStyle)}if(this._nPage<this._nTotalPage){this.welNextNavBtn.show(this._sPageButtonDisplayStyle);this.welNextNavDimBtn.hide()}else{this.welNextNavBtn.hide();this.welNextNavDimBtn.show(this._sPageButtonDisplayStyle)}},getPrevImagemontage:function(){var a=this._nCurrentIndex-1;if(a<0){return null}return this._oImageMontageNavigationJson[a]},getNextImagemontage:function(){var a=this._nCurrentIndex+1;if(a>=this._oImageMontageNavigationJson.length){return null}return this._oImageMontageNavigationJson[a]}};news.imagemontage.ViewController={_nTileDefaultSize:375,_nTileSize:30,_oMontageImg:{width:0,height:0},_oMaxPosition:{x:0,y:0},_INIT_CURRENT:{x:-1,y:-1,times:9999999999999},_oCurrent:{x:-1,y:-1,times:9999999999999},_imageCache:{},_TAB_KEY_CODE:9,_bOverImage:false,_bTileUpdate:false,_bOverPrevNextBtn:false,cid:null,_oImageInfoMap:null,_oArticleInfoMap:null,_photoInfraUrlIndex:0,init:function(){this._initElement();this._initEvent();this._initInterval();this._resetVerticalAlignment();this._setupLowResolution()},_initElement:function(){this.welWindow=jindo.$Element(window);this.welBody=jindo.$Element(document.body);this.welContainer=jindo.$Element("container");this.welMosaic=jindo.$Element(jindo.$$.getSingle(".mosaic_image",this.welContainer));this.welImgArea=jindo.$Element("imgArea");this.welTileImg=jindo.$Element("tileImg");this.welLargeTileLayer=jindo.$Element("largeTileLayer");this.welLargeTileLayerImg=this.welLargeTileLayer.first();this.tImageInfo=jindo.$Template("imageInfoTpl");this.welHeader=jindo.$Element("header");this.welImageInfo=jindo.$Element(jindo.$$.getSingle(".image_info",this.welHeader));this.welPrevImgBtn=jindo.$Element("prevImgBtn");this.welPrevImgDimBtn=jindo.$Element("prevImgDimBtn");this.welNextImgBtn=jindo.$Element("nextImgBtn");this.welNextImgDimBtn=jindo.$Element("nextImgDimBtn")},_initEvent:function(){var c=jindo.$Fn(this._hideTile,this).bind();var b=jindo.$Fn(this._clickPrevNext,this).bind();var a=jindo.$Fn(this._stopEvent,this).bind();this.welWindow.attach("resize",jindo.$Fn(this._resetVerticalAlignment,this).bind());this.welBody.attach("mousemove",jindo.$Fn(this._offFocusMove,this).bind());this.welBody.attach("keydown",jindo.$Fn(this._onFocusMoveWhenTabKeydown,this).bind());this.welMosaic.attach("focus",jindo.$Fn(this._focusMasic,this).bind());if("ontouchstart" in window){this.welMosaic.attach("touchstart",jindo.$Fn(this._touchImage,this).bind());this.welPrevImgBtn.attach("touchstart",jindo.$Fn(this._addClass,this).bind(this.welPrevImgBtn,"over"));this.welPrevImgBtn.attach("touchend",jindo.$Fn(this._removeClass,this).bind(this.welPrevImgBtn,"over"));this.welNextImgBtn.attach("touchstart",jindo.$Fn(this._addClass,this).bind(this.welNextImgBtn,"over"));this.welNextImgBtn.attach("touchend",jindo.$Fn(this._removeClass,this).bind(this.welNextImgBtn,"over"))}else{this.welMosaic.attach("mousemove",jindo.$Fn(this._overImage,this).bind());this.welMosaic.attach("mouseleave",c);this.welMosaic.attach("click",jindo.$Fn(this._readArticle,this).bind());this.welPrevImgBtn.attach("mouseenter",jindo.$Fn(this._addClass,this).bind(this.welPrevImgBtn,"over"));this.welPrevImgBtn.attach("mouseleave",jindo.$Fn(this._removeClass,this).bind(this.welPrevImgBtn,"over"));this.welNextImgBtn.attach("mouseenter",jindo.$Fn(this._addClass,this).bind(this.welNextImgBtn,"over"));this.welNextImgBtn.attach("mouseleave",jindo.$Fn(this._removeClass,this).bind(this.welNextImgBtn,"over"))}this.welPrevImgBtn.attach("focus",c);this.welPrevImgBtn.attach("mousemove",c);this.welPrevImgBtn.attach("click",b);this.welPrevImgDimBtn.attach("mousemove",c);this.welPrevImgDimBtn.attach("click",b);this.welNextImgBtn.attach("focus",c);this.welNextImgBtn.attach("mousemove",c);this.welNextImgBtn.attach("click",b);this.welNextImgDimBtn.attach("mousemove",c);this.welNextImgDimBtn.attach("click",b);this.welTileImg.attach("focus",jindo.$Fn(this._focusTileImg,this).bind());this.welTileImg.attach("focusout",jindo.$Fn(this._focusLargeTileLayer,this).bind());this.welTileImg.attach("mousemove",a);this.welLargeTileLayer.attach("focusout",jindo.$Fn(this._focusoutLargeTileLayer,this).bind());this.welLargeTileLayer.attach("mousemove",a)},_initInterval:function(){this.interval=setInterval(jindo.$Fn(function(){var a=(new Date()).getTime()>=(this._oCurrent.times+20);if(a&&this._bOverImage&&this._bTileUpdate){this._oCurrent.times=this._INIT_CURRENT.times;this._loadLayerAndTileImg()}},this).bind(),10)},_offFocusMove:function(){this._enableFocusMove=false},_onFocusMoveWhenTabKeydown:function(a){if(a.key().keyCode===this._TAB_KEY_CODE){this._enableFocusMove=true}},_focusMasic:function(){if(!this._enableFocusMove){return}this._oCurrent.x=0;this._oCurrent.y=0;this.welTileImg.show();this.welTileImg.$value().focus()},_focusTileImg:function(){if(!this._enableFocusMove){return}this._loadLayerAndTileImg();var b=this.welTileImg.attr("tabindex");if(b){this.welLargeTileLayer.attr("tabindex",parseInt(b)+1)}var e=this.welLargeTileLayer.data("articleInfo");if(!e){return}var a=e.split("/");var g=a[0];var d=a[1];var c="/main/imagemontage/articleTitle.naver?oid="+d+"&aid="+g;var f=new jindo.$Ajax(c,{timeout:10,onload:jindo.$Fn(function(j){var h=j.json();if(!h.result){return}this.welTileImg.attr("alt",h.data);this.welLargeTileLayerImg.attr("alt",jindo.$S(h.data).escapeHTML())},this).bind()});f.request()},_focusLargeTileLayer:function(){this.welLargeTileLayer.$value().focus()},_focusoutLargeTileLayer:function(){if(!this._enableFocusMove){return}this.welTileImg.attr("tabindex",parseInt(this.welLargeTileLayer.attr("tabindex"))+1);this._oCurrent.x++;if(this._oCurrent.x>=this._oMaxPosition.x&&this._oCurrent.y>=(this._oMaxPosition.y-1)){return}if(this._oCurrent.x>=this._oMaxPosition.x){this._oCurrent.y++;this._oCurrent.x=0}this.welTileImg.$value().focus()},_readArticle:function(a){var b=this.welLargeTileLayer.data("articleInfo");if(!b){this._overImage(a);this._loadLayerAndTileImg();b=this.welLargeTileLayer.data("articleInfo")}location.href="#r"+this.cid+"::"+b;news.imagemontage.ArticleController.show(this.cid,b,a);news.imagemontage.ArticleController.setHashCloseBtn(this.cid)},_stopEvent:function(a){a.stop()},_hideTile:function(a){a.stop();this._bOverImage=false;this._oCurrent=this._INIT_CURRENT;this.welTileImg.hide();this.welLargeTileLayer.hide()},_overImage:function(d){this._bOverImage=true;var b=d.pos().layerX;var e=d.pos().layerY;var c=Math.floor(b/this._nTileSize);var a=Math.floor(e/this._nTileSize);if(((this._oCurrent.x==c)&&this._oCurrent.y==a)){return}this._bTileUpdate=true;this._oCurrent.x=c;this._oCurrent.y=a;this._oCurrent.times=(new Date()).getTime()},_touchImage:function(d){if(jindo.$Element(d.element).hasClass("ie7_fix")){return}this._bOverImage=true;var f=jindo.$Element(d.currentElement).offset();var e=d.$value().touches[0];var b=e.pageX-f.left;var g=e.pageY-f.top;var c=Math.floor(b/this._nTileSize);var a=Math.floor(g/this._nTileSize);if(((this._oCurrent.x==c)&&this._oCurrent.y==a)){this._readArticle(d);return}this._bTileUpdate=true;this._oCurrent.x=c;this._oCurrent.y=a;this._oCurrent.times=(new Date()).getTime()},_loadLayerAndTileImg:function(){var b=this._oCurrent.x;var a=this._oCurrent.y;if(b>=this._oMaxPosition.x){b=this._oMaxPosition.x-1}if(a>=this._oMaxPosition.y){a=this._oMaxPosition.y-1}var h=this._oArticleInfoMap.$(b+"@"+a);var f=this._oImageInfoMap.$(b+"@"+a);if(!f||this._bOverPrevNextBtn){this._bOverPrevNextBtn=false;this.welTileImg.hide();this.welLargeTileLayer.hide();return}this.welLargeTileLayer.attr("href","#r"+this.cid+"::"+h);this.welLargeTileLayer.data("articleInfo",h);var g=this.welLargeTileLayerImg.$value();g.onload=jindo.$Fn(function(){this.welLargeTileLayer.show("block");this.welLargeTileLayerImg.width(this._nTileDefaultSize);if(g.height>this._oMontageImg.height-this._nTileSize){var j=(this._oMontageImg.height-this._nTileSize-10)/g.height;this.welLargeTileLayerImg.width(parseInt(this._nTileDefaultSize*j))}var k={x:b*this._nTileSize,y:a*this._nTileSize};this._arrangeTile(k,f,g.width,g.height);this._bTileUpdate=false},this).bind();this.welLargeTileLayerImg.attr("src","https://mimgnews.pstatic.net/image/origin/"+f+"?type=w480");var e=(b*this._nTileSize);var d=(a*this._nTileSize);this.welTileImg.attr("src","https://mimgnews.pstatic.net/image/origin/"+f+"?type=ff69_69");this.welTileImg.css("left",e);this.welTileImg.css("top",d);var c=this.welTileImg.$value();c.onload=jindo.$Fn(function(){this.welTileImg.show()},this).bind()},_findArea:function(b,e,d,a){var c="";c=(e+this._nTileSize+a<=this._oMontageImg.height)?"t":"b";c=c+((b+this._nTileSize+d<=this._oMontageImg.width)?"l":"r");return c},_arrangeTile:function(d,g,c,a){var f=this._findArea(d.x,d.y,c,a);var b=0;var e=0;if(f=="tl"){e=d.x+this._nTileSize+10;b=d.y+this._nTileSize+10}else{if(f=="tr"){e=d.x-c;b=d.y+this._nTileSize+10}else{if(f=="bl"){e=d.x+this._nTileSize+10;b=d.y-a}else{if(f=="br"){e=d.x-c-10;b=d.y-a-10}else{this.welLargeTileLayer.hide();return}}}}if(b+a>this._oMontageImg.height){b=this._oMontageImg.height-a-10}if(b<0){b=this._nTileSize+10}this.welLargeTileLayer.css("left",e);this.welLargeTileLayer.css("top",b)},_addClass:function(b,a){b.addClass(a)},_removeClass:function(b,a){b.removeClass(a)},_clickPrevNext:function(c){c.stop();var b=jindo.$Element(c.currentElement);var a=b.attr("href");if(!a){return}var d=a.replace("#","");if(b.hasClass("btn_prev")){nclk(c.$value(),"mos.prev","")}else{nclk(c.$value(),"mos.next","")}news.imagemontage.ListController.updateBy(d)},setImageMontage:function(f,b,e,d,c,a){this.cid=f;this._oImageInfoMap=jindo.$H(b);this._oArticleInfoMap=jindo.$H(e);this._nTileSize=d;this._oMontageImg.width=c;this._oMontageImg.height=a;this._oMaxPosition.x=parseInt(this._oMontageImg.width/this._nTileSize);this._oMaxPosition.y=parseInt(this._oMontageImg.height/this._nTileSize);this._imageCache={};this._oCurrent=this._INIT_CURRENT},updateContent:function(a){this.welImageInfo.html(this.tImageInfo.process(a));this.welImgArea.attr("src",a.imageMontageUrl);this.welImgArea.attr("width",a.width+"px");this.setImageMontage(a.componentId,jindo.$Json("{"+a.imageInfo+"}").toObject(),jindo.$Json("{"+a.articleInfo+"}").toObject(),a.tileSize,a.width,a.height);this.showImageInfo()},updateImagemontagePrevNext:function(){var b=news.imagemontage.ListController.getPrevImagemontage();if(b){this._setPrevNextBtnInfo(this.welPrevImgBtn,b);this.welPrevImgBtn.show();this.welPrevImgDimBtn.hide()}else{this.welPrevImgBtn.hide();this.welPrevImgDimBtn.show()}var a=news.imagemontage.ListController.getNextImagemontage();if(a){this._setPrevNextBtnInfo(this.welNextImgBtn,a);this.welNextImgBtn.show();this.welNextImgDimBtn.hide()}else{this.welNextImgBtn.hide();this.welNextImgDimBtn.show()}},_setPrevNextBtnInfo:function(b,a){b.attr("href","#"+a.componentId);b.attr("title",a.title);b.query("img").attr("src",a.imageMontageUrl+"?type=f180_210");b.query(".prev_title").html(a.title)},showImageInfo:function(){this.welImageInfo.show()},_resetVerticalAlignment:function(b){var d=this.welBody.height();var c=this.welImgArea.height();var a=d-(76+50+c);var e=a>0?a/2:0;this.welContainer.css("marginTop",e+"px")},_setupLowResolution:function(){if(this.welBody.width()<=800||this.welBody.height()<=600){this.welBody.addClass("low_resolution")}}};news.imagemontage.Aside={sTitlePrefix:"뉴스 이미지 타일 : ",sSnsTag:"네이버 뉴스 이미지 타일",sImage:"https://ssl.pstatic.net/static.news/image/navernews_200x200.jpg",commentStaticDomain:"http://static.cbox.naver.net",commentApiDomain:"http://apis.naver.com/commentBox/cbox5",commentTicket:"news",init:function(b,c,d,e,a){this._initElement();this._initEvent();this._gno=b;if(c){this.commentStaticDomain=c}if(d){this.commentApiDomain=d}if(e){this.commentTicket=e}if(a==""){this._loadCommonCommentScript(b)}},_initElement:function(){this.elIfrMemo=jindo.$("ifrMemo");this.welCommentBtn=jindo.$Element(jindo.$$.getSingle(".btn_comment",this.welContainer));this.welComment=jindo.$Element(jindo.$$.getSingle(".lyr_comment",this.welContainer));this.oLayerEffectComment=("ontouchstart" in window)?{slideRight:jindo.$Fn(function(){this.welComment.hide()},this).bind(),slideLeft:jindo.$Fn(function(){this.welComment.show()},this).bind()}:new news.imagemontage.LayerEffect(this.welComment);this.welCommentCount=jindo.$Element(jindo.$$.getSingle(".txt_cmt_num",this.welContainer));this.welCommentBox=jindo.$Element(jindo.$$.getSingle(".comment_box",this.welContainer));this.welShareBtn=jindo.$Element(jindo.$$.getSingle(".btn_share",this.welContainer));this.welShare=jindo.$Element(jindo.$$.getSingle(".lyr_share",this.welContainer));this.oLayerEffectShare=new jindo.LayerEffect(this.welShare);this.welShareBox=jindo.$Element(jindo.$$.getSingle(".share_box",this.welContainer))},_initEvent:function(){this.welCommentBtn.attach("click",jindo.$Fn(this._toggleComment,this).bind());this.welShareBtn.attach("click",jindo.$Fn(this._toggleShare,this).bind());this.welShareBtn.attach("focus",jindo.$Fn(this._focusOutCommentArea,this).bind());this.welCommentBtn.attach("focus",jindo.$Fn(this._focusOutShareArea,this).bind());this.welShare.delegate("focusout","a",jindo.$Fn(this._focusOutShareArea,this).bind());this.welShare.delegate("click","a",jindo.$Fn(this._prepareSendSNS,this).bind())},_focusOutShareArea:function(b){var a=jindo.$Element(b.element);if(a.hasClass("btn_cafe")||a.hasClass("btn_comment")){this.welShareBox.removeClass("opened");this.oLayerEffectShare.slideUp()}news.imagemontage.ArticleController.hidden()},_focusOutCommentArea:function(){if(this.welCommentBox.hasClass("opened")){this.welCommentBox.removeClass("opened");this.oLayerEffectComment.slideRight()}},_toggleComment:function(b){b.stopDefault();var a=this.welComment.parent();a.next().removeClass("opened");a.toggleClass("opened");if(a.hasClass("opened")){this.oLayerEffectComment.slideLeft();this.oLayerEffectShare.slideUp();jindo.$A(jindo.$$(".lyr_comment",this.welContainer)).forEach(function(d,f,c){if(f>2){try{jindo.$Element(d).leave()}catch(g){}}});this.welComment.css("top","0px")}else{this.oLayerEffectComment.slideRight()}},hideShareAndComment:function(){var a=this.welComment.parent();a.next().removeClass("opened");var a=this.welShare.parent();a.prev().removeClass("opened");this.oLayerEffectComment.slideRight();this.oLayerEffectShare.slideUp()},updateCommentArea:function(a){this.welCommentCount.text(a.commentCount);this.commentHeight=(a.height-30)+"px";this._loadCommonCommentScript(a.gno);this.hideShareAndComment()},_toggleShare:function(b){b.stopDefault();var a=this.welShare.parent();a.prev().removeClass("opened");a.toggleClass("opened");if(a.hasClass("opened")){this.oLayerEffectShare.slideDown();this.oLayerEffectComment.slideRight()}else{this.oLayerEffectShare.slideUp()}},_prepareSendSNS:function(d){d.stopDefault();var b=jindo.$Element(d.element);var c={};c.sTitle=this.sTitlePrefix+jindo.$Element("header").query(".title_txt").first().html();c.sUrl=location.href;if(c.sUrl.indexOf("cid=")<0){c.sUrl=c.sUrl.split("#").join("&cid=")}if(c.sUrl.indexOf("&cid=")>-1&&c.sUrl.indexOf("#")>-1){var a=c.sUrl.split("#");var e=a[1];var f=a[0].split("&");c.sUrl=f[0]+"&cid="+e}c.sImage=jindo.$("imgArea").src;c.sSnsTag=this.sSnsTag;if(b.hasClass("btn_band")){c.nSnsType=news.util.SnsPopupSender.type.NAVER_BAND}else{if(b.hasClass("btn_twitter")){c.nSnsType=news.util.SnsPopupSender.type.TWITTER}else{if(b.hasClass("btn_facebook")){c.nSnsType=news.util.SnsPopupSender.type.FACEBOOK;c.sSnsTag="포토 이슈를 한번에 모아 보는 '이미지 타일'를 만나보세요.  1천여 개의 타일 사진들이 모여 멋진 하나의 화보로 완성됩니다."}else{if(b.hasClass("btn_blog")){c.nSnsType=news.util.SnsPopupSender.type.NAVER_BLOG}else{if(b.hasClass("btn_cafe")){c.nSnsType=news.util.SnsPopupSender.type.NAVER_CAFE}}}}}news.util.SnsPopupSender.send(c.nSnsType,c.sTitle,c.sUrl,c.sSnsTag,c.sImage)},_loadCommonCommentScript:function(b){var a=false;if(jindo.$Cookie().get("NID_SES")!=null&&jindo.$Cookie().get("NID_SES")!=""){a=true}if(location.hostname!=null&&(location.hostname.split(".")[0]=="alpha3"||location.hostname.split(".")[0]=="alpha"||location.hostname.split(".")[0]=="beta")){this.commentStaticDomain="http://alpha-static-cbox.naver.net";this.commentApiDomain="https://dev.apis.naver.com/commentBox/cbox5";this.commentTicket="news"}(function(d){window.__htCboxOption=d;var c=document.createElement("script");c.type="text/javascript";c.charset="utf-8";c.src=d.sDomain+"/js/cbox.core.js?v="+Math.floor(new Date().getTime()/1200000);(document.head||document.getElementsByTagName("head")[0]).appendChild(c)})({sDomain:this.commentStaticDomain,sApiDomain:this.commentApiDomain,bLogin:a,sTicket:this.commentTicket,sTemplateId:"default_event",sObjectId:b,sLikeItId:b,bUseAgo:false,sCategoryId:"",sCategoryImage:"",sGroupId:"",sHelp:"down",sLanguage:"ko",sCountry:"",aFormation:["count","graph","write","notice","list","page"],sPageType:"more",nPageSize:20,nReplyPageSize:20,sCssId:"news",bByCountry:false,bIncludeAllComments:true,bManager:false,sCommentNo:location.search.split("commentNo=")[1]==null?"":location.search.split("commentNo=")[1].split("&")[0],sCategoryImage:"",sSort:"",sCountType:"comment",aExcludeCountry:[],sAreaCodePrefix:"",sAuthType:"naver",sCharset:"euc-kr",bSortCookie:true,bShowReply:location.search.split("showReply=")[1]==null?"":location.search.split("showReply=")[1].split("&")[0],vViewAllHandler:CommentUtils.processViewAllComments,htEventHandler:{loadList:function(d){var f=d.oJson;if(f.success){if(jindo.$Element("articleTitleCommentCount")!=null){var c=f.result.count.comment;var e=jindo.$Element(jindo.$Element("articleTitleCommentCount").query(".lo_txt"));if(e!=null){e.html(changeNumberFormat(c))}}}},loadCreate:function(d){var f=d.oJson;if(f.success){if(jindo.$Element("articleTitleCommentCount")!=null){var c=f.result.count.comment;var e=jindo.$Element(jindo.$Element("articleTitleCommentCount").query(".lo_txt"));if(e!=null){e.html(changeNumberFormat(c))}}}},afterRemove:function(d){var f=d.oJson;if(f.success){if(jindo.$Element("articleTitleCommentCount")!=null){var c=f.result.count.comment;var e=jindo.$Element(jindo.$Element("articleTitleCommentCount").query(".lo_txt"));if(e!=null){e.html(changeNumberFormat(c))}if(c==0&&jindo.$Element("cbox_module").query(".u_cbox_view_comment")){jindo.$Element(jindo.$Element("cbox_module").query(".u_cbox_view_comment")).hide()}}}}},htErrorHandler:{"3003":"고객님께서는 운영원칙에서 제한하고 있는 글을 작성하셨기 때문에 글쓰기를 포함한 일부 활동이 일정 기간 제한되었습니다. 동일 내용 댓글의 반복작성이 확인된 경우 제한기간은 1일이며, 반복이 계속되면 기간이 연장될 수 있습니다.","3004":"고객님께서는 운영원칙에서 제한하고 있는 글을 다수 작성하셨기 때문에 글쓰기를 포함한 일부 활동이 일정 기간 제한되었습니다.","3005":"고객님의 IP는 운영원칙에서 제한하고 있는 글을 작성하셨기 때문에 글쓰기를 포함한 일부 활동이 제한되었습니다.","3006":"고객님께서는 운영원칙에서 제한하고 있는 글을 작성하셨기 때문에 무기한 글쓰기를 포함한 일부 활동이 제한되었습니다.","4004":"해당되는 댓글이 없습니다.","5003":"정상적으로 반영되지 않았습니다. 화면 새로고침 후 다시 시도해 주세요.","5006":"자신의 글에 공감 할 수 없습니다.","5008":"자신의 글에 비공감 할 수 없습니다.","5010":"댓글/답글은 60초 내에 한 개만 등록하실 수 있습니다.","5026":"공감/비공감은 최근 24시간내 50회까지 가능합니다.","5027":"공감/비공감은 10초 내에 한 번만 클릭하실 수 있습니다.","5029":"기사당 허용된 댓글 수 3개를 초과하였습니다. 기사에 작성한 댓글을 삭제 후 다시 작성하실 수 있습니다."},htMessage:{alert:{min_length:"내용을 최소 {0}자 이상 입력해주세요.",max_length:"{0}자까지 입력할 수 있습니다.",login_require:"로그인을 하신 후 이용해 주시기 바랍니다."},template:{duplicate_caution_title:"동일 내용 댓글의 반복 등록이<br>확인되었습니다.",duplicate_caution_cont:"반복 등록이 계속될 경우 운영규정에 따라 <br>서비스 이용이 정지될 수 있습니다.",duplicate_caution_link_title:"운영규정 자세히 알아보기",duplicate_caution_link_address_mobile:"https://m.news.naver.com/ombudsman/index.nhn?mode=rule&open=comment",duplicate_caution_link_address_pc:"https://news.naver.com/main/principle.naver",write_placeholder:"댓글을 입력해주세요",write_long_placeholder:"저작권 등 다른 사람의 권리를 침해하거나 명예를 훼손하는 게시물은 이용약관 및 관련 법률에 의해 제재를 받을 수 있습니다. 건전한 토론문화와 양질의 댓글 문화를 위해, 타인에게 불쾌감을 주는 욕설 또는 특정 계층/민족, 종교 등을 비하하는 단어들은 표시가 제한됩니다.",help_titles:function(){return["댓글이력공개안내","댓글접기기능안내","댓글노출정책"]},help_contents:function(){return["작성자가 삭제한 댓글(작성자 삭제), 운영자가 삭제한 댓글(불법스팸), 다수 사용자들의 요청에 따라 자동으로 접힌 댓글(자동접힘), 그리고 삭제되지 않은 현재 남은 댓글의 수와 이력을 투명하게 제공합니다.","내가 접기요청한 댓글은 내가 보는 화면에서 내용이 접혀 보이지만, 댓글 분류는 현재 댓글로 유지됩니다. 다수 사용자들의 요청이 누적되면 현재 댓글에서 보이지 않고 자동접힘 댓글로 분류됩니다.","호감순은 호감수(공감수에서 일정비율의 비공감수를 뺀 수치)가 많은 댓글입니다. 비정상적인 방법으로 공감수가 증가하거나 타인에게 불쾌감을 주는 경우 제외될 수 있습니다."]},view_all:"댓글 더보기",social_login_message:CommentUtils.socialLoginMessage,user:{header:{help:{title:"뉴스댓글 도움말",content:"댓글목록을 공개한 사용자의 댓글모음이 제공됩니다. 나의 댓글 모음에서 다른 사람에게 공개 또는 비공개 설정을 할 수 있습니다. 제공되는 목록에 삭제댓글/답글은 포함하지 않습니다."}},profile:{title:"뉴스 댓글모음",help:{last:{help_desc:"최근 30일간 작성한 댓글의 정보를 요약해 보여줍니다. 작성대비 본인의 삭제비율<em>(본인삭제율)</em>과 작성글이 받은 피드백 중 공감비율<em>(받은공감률)</em>을 표기합니다. <br/>이때, 받은공감률은 댓글 삭제로 변동된 정보를 반영하지 않습니다.<br/>단, 최근 30일 활동은 댓글모음 개편의 적용 이후(2020.03.19.) 작성한 댓글부터 집계합니다."}}}}},stats:{title:"누가 댓글을 썼을까요?",user_env_title:"어디에서 댓글을 썼을까요?",view:"통계보기",fold:"접기"}},vCommentLinkHandler:CommentUtils.processCommentLanding,fCommentItemHandler:CommentUtils.itemConverter})},_popupOpen:function(b){var a=620;var c=600;if(window.screen.availHeight<a){a=window.screen.availHeight-80}window.open(b,"allcomment","width="+c+",height="+a)}};news.imagemontage.ArticleController={_pHashRead:/#r(\d+)::(\d{10}\/\d{3})/,cid:null,nCurrentIndex:0,aPrevNextArticleList:[],_bPrevUpdating:false,_bNextUpdating:false,_ARTICLE_CACHE:{},init:function(){this._initElement();this._initEvent();this._initFont();this._initContent()},_initElement:function(){this.welArticle=jindo.$Element(jindo.$$.getSingle(".lyr_article_wrp"));this.welHeader=jindo.$Element(this.welArticle.query(".article_header"));this.welScroll=jindo.$Element(this.welArticle.query(".article_scroll"));this.welTitle=jindo.$Element("articleTitle");this.welBody=jindo.$Element("articleBody");this.welPrevArticleBtn=jindo.$Element("prevArticleBtn");this.welNextArticleBtn=jindo.$Element("nextArticleBtn");this.welPrevArticleDimBtn=jindo.$Element("prevArticleDimBtn");this.welNextArticleDimBtn=jindo.$Element("nextArticleDimBtn");this.welArticleReadLcsUpdate=jindo.$Element("articleReadLcsUpdate");this.welPrintBtn=jindo.$Element("print");this.welScrapBtn=jindo.$Element("scrap");this.welCloseBtn=jindo.$Element(jindo.$$.getSingle(".btn_close",this.welArticle));this.articleHeaderTpl=jindo.$Template("articleHeaderTpl");this.officeOutlinkNewsTpl=jindo.$Template("officeOutlinkNewsTpl")},_initEvent:function(){if("ontouchstart" in window){var a=null;this.welScroll.attach("touchstart",jindo.$Fn(function(c){var b=c.$value();if(b.changedTouches&&b.changedTouches.length>0){a={x:b.changedTouches[0].pageX,y:b.changedTouches[0].pageY}}},this).bind());this.welScroll.attach("touchmove",jindo.$Fn(function(c){var b=c.$value();if(b.changedTouches&&b.changedTouches.length>0){this.welScroll.$value().scrollTop+=a.y-b.changedTouches[0].pageY}},this).bind())}else{this.welPrevArticleBtn.attach("mouseenter",jindo.$Fn(this._toogleOverClass,this).bind(true));this.welNextArticleBtn.attach("mouseenter",jindo.$Fn(this._toogleOverClass,this).bind(true));this.welPrevArticleBtn.attach("mouseleave",jindo.$Fn(this._toogleOverClass,this).bind(false));this.welNextArticleBtn.attach("mouseleave",jindo.$Fn(this._toogleOverClass,this).bind(false))}this.welPrevArticleBtn.attach("click",jindo.$Fn(this._movePrevArticle,this).bind());this.welNextArticleBtn.attach("click",jindo.$Fn(this._moveNextArticle,this).bind());this.welCloseBtn.attach("click",jindo.$Fn(this.hidden,this).bind())},_initFont:function(){var b=news.util.Cookie.get("newsFontSize");var a=news.util.Cookie.get("newsFontName");if(!b){b="size4"}if(!a){a="font4"}this.welTitle.addClass(b);this.welBody.addClass(b);this.welBody.addClass(a)},_initContent:function(){var a=location.hash;if(this._pHashRead.test(a)){var d=a.match(this._pHashRead);var b=d[1];var c=d[2];this.show(b,c);this.setHashCloseBtn(b)}},_toogleOverClass:function(a,b){jindo.$Element(b.currentElement)[a?"addClass":"removeClass"]("over")},_movePrevArticle:function(a){this.welNextArticleBtn.removeClass("over");if(!this.welPrevArticleBtn.hasClass("over")){this.welPrevArticleBtn.addClass("over");return}this.nCurrentIndex--;var b=this.aPrevNextArticleList[this.nCurrentIndex];this._updateArticleByMoving(b);this._updateArticleListBuffer("prev")},_moveNextArticle:function(a){this.welPrevArticleBtn.removeClass("over");if(!this.welNextArticleBtn.hasClass("over")){this.welNextArticleBtn.addClass("over");return}this.nCurrentIndex++;var b=this.aPrevNextArticleList[this.nCurrentIndex];this._updateArticleByMoving(b);this._updateArticleListBuffer("next")},_updateArticleByMoving:function(d){this.welPrevArticleBtn.removeClass("over");this.welNextArticleBtn.removeClass("over");if(!d||!d.officeId||!d.articleId){return}var c="/main/imagemontage/moveArticle.naver?oid="+d.officeId+"&aid="+d.articleId;var b=d.officeId+d.articleId;if(this._ARTICLE_CACHE[b]){var a=this._ARTICLE_CACHE[b];this._updateArticle(a.data,d.articleId);this._updatePrevNextArticle();this._callLcs(d.officeId,d.articleId,a.data.sectionId)}else{var e=this._getAjaxObject(c,jindo.$Fn(function(g){var f=g.json();if(!f.result){alert("데이터 갱신 실패");return}this._updateArticle(f.data,d.articleId);this._updatePrevNextArticle();this._callLcs(d.officeId,d.articleId,f.data.sectionId);this._ARTICLE_CACHE[b]=f},this).bind());e.request()}},_getAjaxObject:function(a,c,b){if(!b){b=function(){alert("Timeout!")}}return new jindo.$Ajax(a,{onload:c,timeout:10,ontimeout:b})},_updateArticleListBuffer:function(a){if((this.nCurrentIndex<10)&&!this._bPrevUpdating&&(a=="prev")){this._bPrevUpdating=true;var c=this.aPrevNextArticleList[0];if(!c||!c.officeId||!c.articleId){return}var b="/main/imagemontage/morePrevArticles.naver?cid="+this.cid+"&oid="+c.officeId+"&aid="+c.articleId;var d=this._getAjaxObject(b,jindo.$Fn(function(g){var f=g.json();if(!f.result){this._bPrevUpdating=false;alert("이전 기사정보 데이터 갱신 실패");return}var h=[];for(var e=0;e<f.data.length;e++){h.push(f.data[e])}for(var e=0;e<this.aPrevNextArticleList.length;e++){h.push(this.aPrevNextArticleList[e])}this.nCurrentIndex+=f.data.length;this.aPrevNextArticleList=h;this._bPrevUpdating=false},this).bind(),jindo.$Fn(function(e){this._bPrevUpdating=false},this).bind());d.request()}else{if((this.nCurrentIndex>=(this.aPrevNextArticleList.length-10))&&!this._bNextUpdating){this._bNextUpdating=true;var c=this.aPrevNextArticleList[this.aPrevNextArticleList.length-1];if(!c||!c.officeId||!c.articleId){return}var b="/main/imagemontage/moreNextArticles.naver?cid="+this.cid+"&oid="+c.officeId+"&aid="+c.articleId;var d=this._getAjaxObject(b,jindo.$Fn(function(g){var f=g.json();if(!f.result){this._bNextUpdating=false;alert("다음 기사정보 데이터 갱신 실패");return}for(var e=0;e<f.data.length;e++){this.aPrevNextArticleList.push(f.data[e])}this._bNextUpdating=false},this).bind(),jindo.$Fn(function(e){this._bNextUpdating=false},this).bind());d.request()}}},show:function(h,e,b){if(b){nclk(b.$value(),"mos.tile","")}if(!e){alert("기사 정보가 유효하지 않습니다.");this.hidden();return}this.cid=h;var a=e.split("/");var g=a[0];var d=a[1];this.welArticle.show();var c="/main/imagemontage/readArticle.naver?cid="+h+"&oid="+d+"&aid="+g;var f=this._getAjaxObject(c,jindo.$Fn(function(k){var j=k.json();if(!j.result){alert("기사정보 데이터 갱신 실패");this.hidden();return}this.nCurrentIndex=j.data.currentIndex;this.aPrevNextArticleList=j.data.prevNextArticleList;this._updateArticle(j.data.article,g);this._updatePrevNextArticle();this._callLcs(d,g,j.data.article.sectionId)},this).bind());f.request()},_callLcs:function(b,c,a){this.welArticleReadLcsUpdate.attr("src","/main/imagemontage/read.naver?oid="+b+"&aid="+c)},hidden:function(a){this.welArticle.hide();this.welHeader.html("");this.welBody.html("")},_updateArticle:function(e,f){var c=news.util.Cookie.get("newsFontName");if(!c){c="font4"}e.fontName=c;e.articleId=f;document.body.scrollTop=0;this.welScroll.$value().scrollTop=0;var b=this.articleHeaderTpl.process(e);this.welHeader.html(b);var d="";if(e.officeOutlinkNewsList.length>0){d=this.officeOutlinkNewsTpl.process(e)}this.welBody.html(e.content+d);if("ontouchstart" in window){var a=this.welScroll.css("overflowY");this.welScroll.css("overflowY","hidden");setTimeout(jindo.$Fn(function(){this.welScroll.css("overflowY",a)},this).bind(),0)}this.welPrintBtn.attr("href","/main/tool/print.naver?oid="+e.officeId+"&aid="+e.articleId);this.welScrapBtn.attr("href","/main/scrap/folderList.naver?scrapItem.officeId="+e.officeId+"&scrapItem.articleId="+e.articleId)},_updatePrevNextArticle:function(){var a=this._getPrevArticle();if(a){this._setPrevNextBtnInfo(this.welPrevArticleBtn,a);this.welPrevArticleBtn.css("display","block");this.welPrevArticleDimBtn.css("display","none")}else{this.welPrevArticleBtn.css("display","none");this.welPrevArticleDimBtn.css("display","block")}var b=this._getNextArticle();if(b){this._setPrevNextBtnInfo(this.welNextArticleBtn,b);this.welNextArticleBtn.css("display","block");this.welNextArticleDimBtn.css("display","none")}else{this.welNextArticleBtn.css("display","none");this.welNextArticleDimBtn.css("display","block")}},_getPrevArticle:function(){var a=this.nCurrentIndex-1;if(a<0){return null}return this.aPrevNextArticleList[a]},_getNextArticle:function(){var a=this.nCurrentIndex+1;if(a>=this.aPrevNextArticleList.length){return null}return this.aPrevNextArticleList[a]},_setPrevNextBtnInfo:function(a,b){a.attr("href","#r"+this.cid+"::"+b.articleId+"/"+b.officeId);a.query(".art_title").html(this._ellipsis(b.title,40));a.query("img").attr("src","https://mimgnews.pstatic.net/image/"+b.imgUrl+"?type=n104")},_ellipsis:function(c,a){var b=c.replace("&quot;",'"');b=jindo.$S(b).bytes(a);return(c.length==b.toString().length)?b:b+"…"},setHashCloseBtn:function(a){this.welCloseBtn.attr("href","#"+a)},clearCache:function(){this._ARTICLE_CACHE={}}};news.imagemontage.Toolbar={init:function(){this._initElement();this._initEvent()},_initElement:function(){this.welControl=jindo.$Element(jindo.$$.getSingle(".article_control"));this.welPrintBtn=jindo.$Element("print");this.welScrapBtn=jindo.$Element("scrap");this.welFontBtn=jindo.$Element(jindo.$$.getSingle(".btn_font",this.welControl));this.welFontMinusBtn=jindo.$Element(jindo.$$.getSingle(".btn_minus",this.welControl));this.welFontPlusBtn=jindo.$Element(jindo.$$.getSingle(".btn_plus",this.welControl));this.welCloseBtn=jindo.$Element(jindo.$$.getSingle(".btn_close",this.welControl));this.welFontTypeLayer=jindo.$Element(jindo.$$.getSingle(".lyr_font",this.welControl))},_initEvent:function(){this.welPrintBtn.attach("click",jindo.$Fn(this._print,this).bind());this.welScrapBtn.attach("click",jindo.$Fn(this._scrap,this).bind());this.welFontBtn.attach("click",jindo.$Fn(this._chageFont,this).bind());this.welFontMinusBtn.attach("click",jindo.$Fn(this._setFontSize,this).bind());this.welFontPlusBtn.attach("click",jindo.$Fn(this._setFontSize,this).bind());this.welCloseBtn.attach("click",jindo.$Fn(news.imagemontage.ArticleController.hidden,news.imagemontage.ArticleController).bind());var a=jindo.$$("div.lyr_font ul li a");jindo.$Fn(this._setFont,a).attach(a,"click")},_print:function(c){c.stopDefault();var b=c.element;var a=(b.tagName=="A")?b.href:b.parentNode.href;news.util.Window.popup({url:a,name:"win",features:{scrollbars:"yes",width:632,height:614}})},_scrap:function(b){b.stopDefault();var a=b.element.href;news.util.Window.popup({url:a,name:"win",features:{width:390,height:400}})},_chageFont:function(a){a.stop();this.welFontTypeLayer.toggle()},_setFontSize:function(e){e.stopDefault();var a=jindo.$Element("articleBody");var f=jindo.$Element("articleTitle");if(a){var d=parseInt(/size([0-9])/.exec(a.className())[1],10);var c=d+(/plus/.test(e.element.className)?1:-1);if(c<1){alert("가장 작은 글꼴입니다.");return}else{if(c>5){alert("가장 큰 글꼴입니다.");return}}var b="size"+c;a.removeClass("size"+d);a.addClass(b);f.removeClass("size"+d);f.addClass(b);news.util.Cookie.set("newsFontSize",b,1000)}else{alert("글꼴을 확대하거나 축소할 본문 내용이 없습니다.")}},_setFont:function(a){a.stopDefault();var b=news.imagemontage.Toolbar.welFontTypeLayer;jindo.$A(this).forEach(function(h,f,k){if(a.element==h){var c=jindo.$Element("articleBody");if(c){var j=jindo.$Element("articleBody");var e=(c)?/font[0-9]/.exec(c.className())[0]:"";var d="font"+(f+1);var g=jindo.$A([c,j]);g.forEach(function(l,n,m){if(l){l.removeClass(e);l.addClass(d)}});news.util.Cookie.set("newsFontName",d,1000)}else{alert("글꼴을 변경할 본문 내용이 없습니다.")}b.hide();return}})}};news.imagemontage.LayerEffect=jindo.$Class({$init:function(b){var a=jindo.$Element("container").queryAll(".lyr_comment");if(a!=null){if(a.lenght>1){jindo.$Element("container").query(".lyr_comment:last-child").remove(jindo.$Element("container").query(".lyr_comment:last-child"))}}},slideLeft:function(d){d=this._getOption({nFPS:30,nDuration:500},d||{});var c=this._wel.visible();if(Math.ceil(this._wel.width())<this._nLayerWidth){if(this._fireEventBefore(true)){if(!c){this._wel.css("width",0).show().width(this._nSlideMinWidth)}else{d.nDuration=Math.ceil(d.nDuration*((this._nLayerWidth-this._wel.width())/(this._nLayerWidth-this._nSlideMinWidth)))}var b=this,a=this._getTransition().fps(d.nFPS).abort().detachAll();a.attach({playing:function(e){if(e.nStep===1){this.detach("playing",arguments.callee);if(!c){b._fireEventAppear()}}},end:jindo.$Fn(this._onShowTransitionEnd,this).bind(this)}).queue(d.nDuration,this._htTransitionGetterSetter,{width:jindo.Effect.cubicEaseOut(this._nLayerWidth)});if(d.fCallback){a.queue(jindo.$Fn(d.fCallback,this).bind(this))}a.start()}}return this},slideRight:function(c){c=this._getOption({nFPS:30,nDuration:500},c||{});var b=this._wel.visible();if(b){if(this._fireEventBefore(true)){c.nDuration=Math.ceil(c.nDuration*(this._wel.width()/this._nLayerWidth));var a=this._getTransition().fps(c.nFPS).abort().detachAll();a.attach({end:jindo.$Fn(this._onHideTransitionEnd,this).bind(this)}).queue(c.nDuration,this._htTransitionGetterSetter,{width:jindo.Effect.cubicEaseOut(this._nSlideMinWidth)});if(c.fCallback){a.queue(jindo.$Fn(c.fCallback,this).bind(this))}a.start()}}return this},_afterHide:function(){this._wel.hide();this._wel.css({top:this._sLayerCSSTop,left:"auto",width:this._sLayerCSSWidth,height:this._sLayerCSSHeight,fontSize:this._sLayerCSSFontSize})},setLayer:function(b){this._el=jindo.$(b);this._wel=jindo.$Element(b);var c=this._el.cloneNode(true);var a=jindo.$Element(c);a.opacity(0);this._wel.after(a);a.show();this._sLayerCSSPosition=a.css("position");var e=a.offset();a.css({position:"absolute",top:"0px",left:"0px"});var d=a.offset();this._sLayerCSSLeft=e.left-d.left+"px";this._sLayerCSSTop=e.top-d.top+"px";this._sLayerBGColor=a.css("backgroundColor");this._nLayerWidth=a.width();this._nLayerHeight=a.height();a.width(this._nLayerWidth);a.height(this._nLayerHeight);this._sLayerCSSWidth=a.css("width");this._sLayerCSSHeight=a.css("height");this._sLayerCSSOverflowX=this._wel.css("overflowX");this._sLayerCSSOverflowY=this._wel.css("overflowY");this._sLayerCSSFontSize=this._wel.css("fontSize");this._sLayerCSSFontSizeUnit=this._sLayerCSSFontSize.match(/^\-?[0-9\.]+(%|px|pt|em)?$/i)[1];a.css({overflow:"hidden",width:0,height:0});this._nSlideMinWidth=a.width()+1;this._nSlideMinHeight=a.height()+1;return this}}).extend(jindo.LayerEffect);ReadingObserver={_NABOUT_RELATED_ARTICLE_HEIGHT:270,_NREADING_TIME_WEIGHT:0.015,_SHIT_URL:"/hit.json",_SRECORD_URL:"/read.json",sContentsId:null,oOptions:{sRecordPrefixUrl:"https://s.news.naver.com/article",sContentBottomId:"adw_da",oid:null,aid:null,sid:null,articleType:null},bHalf:false,bRecorded:false,nConnectionTime:null,nScrollCount:0,nBackgroundCount:0,nAboutReadingTime:1000000000,nContentHeight:10000,nMinimumScrollCount:100,start:function(b,a){this.sContentsId=b;for(var c in a){this.oOptions[c]=a[c]}this.nConnectionTime=this.getTime();this._initDocumentEvent();this._attachEvent();this._hit()},_initDocumentEvent:function(){if(!document.getElementsByClassName){document.getElementsByClassName=function(g){var f=new RegExp("\\b"+g+"\\b"),d=document.getElementsByTagName("*"),c=[],e=0,b;while(b=d[e++]){if(b.className&&b.className.indexOf(g)+1){if(b.className===g){c[c.length]=b;continue}f.test(b.className)?(c[c.length]=b):0}}return c}}},_attachEvent:function(){if(window.attachEvent){window.attachEvent("onscroll",this.bind(this._scrollEnd,this));window.attachEvent("onload",this.bind(this._setAboutReadingTime,this))}else{if(document.addEventListener){window.addEventListener("scroll",this.bind(this._scrollEnd,this),false);window.addEventListener("load",this.bind(this._setAboutReadingTime,this),false)}}},_scrollEnd:function(){if(this.bRecorded){return}this.nScrollCount++;this._checkReadStatus();setTimeout(this.bind(this._reconfirm,this),3000);this.nBackgroundCount++},_setAboutReadingTime:function(){this.nAboutReadingTime=this._getAboutReadingTime()},_checkReadStatus:function(){this.nContentHeight=this._getContentHeight();this.nMinimumScrollCount=this._getMinimumScrollCount();if(this._isPassedContents()&&this._isTimeOver()&&this._iscountedScroll()){this._recordingAll()}},_getAboutReadingTime:function(){var a=this.$(this.sContentsId).innerHTML.replace(/<(\/)?([a-zA-Z]*)(\s[a-zA-Z]*=[^>]*)?(\s)*(\/)?>/g,"");var c="";var b=this.$$("link_news");if(b.length>0){c=b[0].innerHTML.replace(/<(\/)?([a-zA-Z]*)(\s[a-zA-Z]*=[^>]*)?(\s)*(\/)?>/g,"")}return((a.length-c.length)*this._NREADING_TIME_WEIGHT)*1000},_getContentHeight:function(){if(this.$(this.oOptions.sContentBottomId)){return this.$(this.oOptions.sContentBottomId).offsetTop-this._NABOUT_RELATED_ARTICLE_HEIGHT-document.documentElement.clientHeight}else{return}},_getMinimumScrollCount:function(){return(this.nContentHeight/document.documentElement.clientHeight)},_hit:function(){(new Image()).src=this.oOptions.sRecordPrefixUrl+this._SHIT_URL+this._getParam()},_recordingAll:function(){(new Image()).src=this.oOptions.sRecordPrefixUrl+this._SRECORD_URL+this._getParam();this.bRecorded=true},_getParam:function(){var a=[];if(this.oOptions.oid){a.push("officeId="+this.oOptions.oid)}if(this.oOptions.aid){a.push("articleId="+this.oOptions.aid)}if(this.oOptions.sid){a.push("sectionId="+this.oOptions.sid)}if(this.oOptions.articleType){a.push("articleType="+this.oOptions.articleType)}if(this.oOptions.hitRefererType){a.push("hitRefererType="+this.oOptions.hitRefererType)}if(this.oOptions.gdid){a.push("gdid="+this.oOptions.gdid)}return"?"+a.join("&")},_reconfirm:function(){this.nBackgroundCount--;if(this.bRecorded||this.nBackgroundCount>0){return}this._checkReadStatus()},_isPassedContents:function(){return this.getScrollTop()>=this.nContentHeight},_isTimeOver:function(){return(this.nConnectionTime+this.nAboutReadingTime)<=this.getTime()},_iscountedScroll:function(){return this.nScrollCount>=this.nMinimumScrollCount},$:function(a){return document.getElementById(a)},$$:function(a){return document.getElementsByClassName(a)},bind:function(a,b){return function(){a.apply(b,arguments)}},getScrollTop:function(){return document.all?(!document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop):(window.pageYOffset?window.pageYOffset:window.scrollY)},getTime:function(){return(new Date()).getTime()}};var AutoSummary=jindo.$Class({$static:{_OPEN_CSS_CLASS:"autosummary_active",_SUMMARY_LOAD_ERROR:"자동 요약문을 불러오는데 실패했습니다."},$init:function(){this._oLayerAutoCloseManager=LayerAutoCloseManager.get_instance();this._oLayerForAutoCloseManager={close:jindo.$Fn(function(){this._closeLayer()},this).bind(),isAutoCloseExceptionEl:jindo.$Fn(function(a){var b=this._$wrapper;return(b.$value()===a)||b.isParentOf(a)},this).bind()};this._oLayerHeightAdjuster=new _AutoSummaryHeightAdjuster();this._fnOnClickToggleBtn=jindo.$Fn(this._onClickToggleBtn,this).bind();this._fnOnClickCloseButton=jindo.$Fn(this._onClickCloseButton,this).bind()},init:function(a){this.deactivate();this._apiUrl=a.apiUrl;this._abortAjax();this._$ajax=null;this._$wrapper=jindo.$Element(jindo.$$.getSingle("._auto_summary_wrapper"));this._$summaryContents=jindo.$Element(this._$wrapper.query("._auto_summary_contents"));this._$contentsBody=jindo.$Element(this._$wrapper.query("._contents_body"));this._oLayerHeightAdjuster.init(this._$summaryContents,this._$contentsBody.parent());this.activate();return this},_onActivate:function(){this._$wrapper.delegate("click","._toggle_btn",this._fnOnClickToggleBtn);this._$summaryContents.delegate("click","._close_button",this._fnOnClickCloseButton)},_onDeactivate:function(){this._$wrapper.undelegate("click","._toggle_btn",this._fnOnClickToggleBtn);this._$summaryContents.undelegate("click","._close_button",this._fnOnClickCloseButton)},_onClickToggleBtn:function(a){a.stopDefault();if(this._isClosedLayer()){this._openLayer();return}this._closeLayer()},_onClickCloseButton:function(a){a.stopDefault();this._closeLayer()},_paintSummary:function(){Loading.paintTo(this._$contentsBody,"10%");this._oLayerHeightAdjuster.initStyle();this._abortAjax();this._$ajax=new jindo.$Ajax(this._apiUrl,{type:"jsonp",method:"get",timeout:15,callbackname:"callback",onload:jindo.$Fn(function(b){var c=b.json();var a=c.summary;if(a===undefined){return}this._$contentsBody.html(a);this._oLayerHeightAdjuster.adjustHeight()},this).bind(),ontimeout:jindo.$Fn(function(){this._$contentsBody.html(this.constructor._SUMMARY_LOAD_ERROR)},this).bind(),onerror:jindo.$Fn(function(){this._$contentsBody.html(this.constructor._SUMMARY_LOAD_ERROR)},this).bind()}).request()},_openLayer:function(){this._paintSummary();jindo.$Element(jindo.$$.getSingle("body")).addClass(this.constructor._OPEN_CSS_CLASS);this._oLayerAutoCloseManager.setCurrentVisibleLayer(this._oLayerForAutoCloseManager)},_closeLayer:function(){jindo.$Element(jindo.$$.getSingle("body")).removeClass(this.constructor._OPEN_CSS_CLASS)},_isClosedLayer:function(){return false===this._$summaryContents.visible()},_abortAjax:function(){if(this._$ajax&&this._$ajax.isIdle()===false){this._$ajax.abort()}}}).extend(jindo.UIComponent);var _AutoSummaryHeightAdjuster=jindo.$Class({$static:{_SCROLL_CLASS:"media_end_head_autosummary_layer_scroll"},$init:function(){},init:function(b,a){this._welSummaryLayer=b;this._welContents=a},initStyle:function(){this._welSummaryLayer.css("height","");this._removeScroll()},adjustHeight:function(){var b=this._welContents;var a=jindo.$Element(b.outerHTML());b.parent().append(a.css({visibility:"hidden",bottom:"auto"}));if(a.height()<=b.height()){this._welSummaryLayer.height(this._welSummaryLayer.height()-(b.height()-a.height()))}else{this._applyScroll()}a.leave()},_applyScroll:function(){this._welSummaryLayer.addClass(this.constructor._SCROLL_CLASS)},_removeScroll:function(){this._welSummaryLayer.removeClass(this.constructor._SCROLL_CLASS)}});var _AutoSummaryFeedbackUIAssistor=jindo.$Class({$static:{_FEEDBACK_CONFIRM_MESSAGE:"선택하신 의견을 반영하겠습니까?"},$init:function(){},init:function(b,a){this._isAlreadyFeedback=(function(){var c=jindo.$A(a).filter(function(d){return d.isReacted}).$value()[0];return Boolean(c)})();this._$FeedbackWrapper=jindo.$Element(jindo.$Element(b).query("._autosummary_feedback"));this._$FeedbackUi=jindo.$Element(this._$FeedbackWrapper.query("._feedback_ui"));this._$DoneMessage=jindo.$Element(this._$FeedbackWrapper.query("._done_message"));if(this._isAlreadyFeedback){this._destroy()}else{this.hide();this._showFeedbackUI()}return this},confirmApplyFeedback:function(){if(confirm(this.constructor._FEEDBACK_CONFIRM_MESSAGE)){this._showDoneMessage();return true}return false},show:function(){if(this._$FeedbackWrapper){this._$FeedbackWrapper.css("display","block")}},hide:function(){if(this._$FeedbackWrapper){this._$FeedbackWrapper.css("display","none")}},_showDoneMessage:function(){this._hideFeedbackUI();this._$DoneMessage.css("display","block")},_showFeedbackUI:function(){this._hideDoneMessage();this._$FeedbackUi.css("display","block")},_hideFeedbackUI:function(){this._$FeedbackUi.css("display","none")},_hideDoneMessage:function(){this._$DoneMessage.css("display","none")},_destroy:function(){this._$FeedbackWrapper.leave();this._$FeedbackWrapper=null;this._$FeedbackUi=null;this._$DoneMessage=null}});var LoginAssistor={_COOKIE:"NID_SES",isLoginUser:function(){return Boolean(jindo.$Cookie().get(this._COOKIE))}};var Loading={_LOADING_SELECTOR:"._loading",_HTML:['<img class="_loading"','src="https://ssl.pstatic.net/static.news/image/news/m/2016/02/24/loading.gif"','alt="로딩중" width="32" height="8"','style="position:absolute;top:50%;left:50%;margin-left:-16px;margin-top:-8px;">'].join(" "),paintTo:function(b,c){var a=jindo.$Element(this._HTML);this.removeFrom(b);if(c){this._setTop(a,c)}jindo.$Element(b).$value().innerHTML="";jindo.$Element(b).append(a)},appendTo:function(c,d,a){if(false===Boolean(a)){this.removeFrom(c)}var b=jindo.$Element(this._HTML).appendTo(c);if(d){this._setTop(b,d)}},removeFrom:function(a){var b=(a.$value)?a.$value():a;jindo.$ElementList(jindo.$$(this._LOADING_SELECTOR,b)).leave()},_setTop:function(b,a){jindo.$Element(b).css("top",a)}};var LayerAutoCloseManager=jindo.$Class({$static:{_INSTANCE:null,get_instance:function(){if(null===this._INSTANCE){this._INSTANCE=new this()._$init()}return this._INSTANCE}},$init:function(){},_$init:function(){this._oCurrentVisibleLayer=null;jindo.$Fn(this._onClickDocument,this).attach(document,"click");return this},setCurrentVisibleLayer:function(a){if(this._isDifferentCurrentVisibleLayer(a)){this._closeCurrentVisibleLayer()}this._oCurrentVisibleLayer=a},_onClickDocument:function(b){var a=b.element;if(false===this._hasCurrentVisibleLayer()){return}if(this._oCurrentVisibleLayer.isAutoCloseExceptionEl(a)){return}this._closeCurrentVisibleLayer();this._unsetCurrentVisibleLayer()},_closeCurrentVisibleLayer:function(){if(this._hasCurrentVisibleLayer()){this._oCurrentVisibleLayer.close()}},_hasCurrentVisibleLayer:function(){return Boolean(this._oCurrentVisibleLayer)},_isDifferentCurrentVisibleLayer:function(a){return this._oCurrentVisibleLayer&&this._oCurrentVisibleLayer!==a},_unsetCurrentVisibleLayer:function(){this._oCurrentVisibleLayer=null}});var FontSettingMenu=jindo.$Class({$static:{_FONT_SIZE_COOKIE_DOMAIN:".news.naver.com",_COOKIE_KEY:"newsFontSize",_COOKIE_EXPIRE_DAY:1000,_FONT_SIZE_CLASS_PREFIX:"size",_CONFIG_ON_CLASS:"media_end_head_fontsize_is_on",_OPTION_SELECTED_CLASS:"media_end_head_fontsize_option_is_on",_OPTION_VALUE_DATA_ATTR:"data-value",_OPTION_SELECTOR:"._opt",_FONT_SIZE_OPTION_SELECTOR:"._font_size_option"},$init:function(){this._welWrapper=jindo.$Element(jindo.$$.getSingle("._font_setting_menu_wrapper"));this._welFontSizeOption=jindo.$Element(this._welWrapper.query(this.constructor._FONT_SIZE_OPTION_SELECTOR));this._welConfigToggleBtn=jindo.$Element(this._welWrapper.query("._toggle_btn"));this._welCloseBtn=jindo.$Element(this._welWrapper.query("._close_btn"));this._welFontSizeSettingTarget=jindo.$Element(jindo.$$.getSingle("._font_setting_target"));this._oCookie=jindo.$Cookie();this._oLayerAutoCloseManager=LayerAutoCloseManager.get_instance();this._oFontFamilyOption=new _FontSettingMenuFamilyOption();jindo.$Fn(this._onClickConfigToggleBtn,this).attach(this._welConfigToggleBtn,"click");jindo.$Fn(this._onClickCloseBtn,this).attach(this._welCloseBtn,"click");this._welFontSizeOption.delegate("click",this.constructor._OPTION_SELECTOR,jindo.$Fn(this._onClickFontSizeOption,this).bind());this._selectOption(this._getDefaultOptionWel());this._oFontFamilyOption.init({welSettingTarget:this._welFontSizeSettingTarget})},close:function(){this._hideConfig()},isAutoCloseExceptionEl:function(a){var b=this._welWrapper;return(b.$value()===a)||b.isParentOf(a)},_onClickConfigToggleBtn:function(a){a.stopDefault();if(this._isOnConfig()){this._hideConfig();return}this._showConfig();this._oFontFamilyOption.init({welSettingTarget:this._welFontSizeSettingTarget})},_onClickFontSizeOption:function(a){a.stopDefault();this._selectOption(a.element,true)},_onClickCloseBtn:function(a){a.stopDefault();this._hideConfig()},_selectOption:function(b,a){var c=jindo.$Element(b);var d=this._getOptionValue(c);this._deselectPrevSelectedOptions();c.addClass(this.constructor._OPTION_SELECTED_CLASS);this._applyFontSize(d);if(a===true){this._saveFontSize(d)}},_deselectPrevSelectedOptions:function(){var a=this._welWrapper.queryAll("."+this.constructor._OPTION_SELECTED_CLASS);jindo.$ElementList(a).removeClass(this.constructor._OPTION_SELECTED_CLASS)},_applyFontSize:function(b){var a=this._welFontSizeSettingTarget.attr("class").replace(new RegExp(this.constructor._FONT_SIZE_CLASS_PREFIX+"\\d"),"");this._welFontSizeSettingTarget.attr("class",a);this._welFontSizeSettingTarget.addClass(b)},_saveFontSize:function(a){this._oCookie.set(this.constructor._COOKIE_KEY,a,this.constructor._COOKIE_EXPIRE_DAY,this.constructor._FONT_SIZE_COOKIE_DOMAIN)},_getDefaultOptionWel:function(){var a=this._welFontSizeSettingTarget.attr("class").match(new RegExp(this.constructor._FONT_SIZE_CLASS_PREFIX+"\\d"))||[];var b=a[0];return this._getSafelyOptionWelByValue(b)},_isOnConfig:function(){return this._welWrapper.hasClass(this.constructor._CONFIG_ON_CLASS)},_showConfig:function(){this._welWrapper.addClass(this.constructor._CONFIG_ON_CLASS);this._oLayerAutoCloseManager.setCurrentVisibleLayer(this)},_hideConfig:function(){this._welWrapper.removeClass(this.constructor._CONFIG_ON_CLASS)},_getOptionValue:function(a){return jindo.$Element(a).attr(this.constructor._OPTION_VALUE_DATA_ATTR)},_getSafelyOptionWelByValue:function(b){var a=this._getOptionWelByValue(b);return(a)?a:this._getFirstOptionWel()},_getFirstOptionWel:function(){return jindo.$Element(this._welWrapper.query(this.constructor._OPTION_SELECTOR))},_getOptionWelByValue:function(b){var a=this.constructor._FONT_SIZE_OPTION_SELECTOR+" "+this.constructor._OPTION_SELECTOR+"["+this.constructor._OPTION_VALUE_DATA_ATTR+'="'+b+'"]';return jindo.$Element(jindo.$$.getSingle(a))}});var _FontSettingMenuFamilyOption=jindo.$Class({$static:{_COOKIE_DOMAIN:".news.naver.com",_COOKIE_KEY:"newsFontName",_COOKIE_EXPIRE_DAY:1000,_FONT_FAMILY_CLASS_PREFIX:"font",_INSTALL_GUIDE_SHOW_CLASS:"media_end_head_fontsize_linklayer_is_on",_OPTION_SELECTED_CLASS:"media_end_head_fontstyle_option_is_on",_OPTION_VALUE_DATA_ATTR:"data-value",_OPTION_SELECTOR:"._opt",_NANUM_FONT_OPTION_ATTR:"data-nanum-font",_NANUM_FONT_FAMILY_NAMES:["나눔고딕","nanumgothic","Nanum Gothic"],_WRAPPER_SELECTOR:"._font_family_option"},$init:function(){this._oCookie=jindo.$Cookie();this._fnOnClickFontFamilyOption=jindo.$Fn(this._onClickFontFamilyOption,this).bind();this._wfnOnClickInstallGuideYesBtn=jindo.$Fn(this._onClickInstallGuideYesBtn,this);this._wfnOnClickInstallGuideNoBtn=jindo.$Fn(this._onClickInstallGuideNoBtn,this);this._wfnOnClickInstallGuideCloseBtn=jindo.$Fn(this._onClickInstallGuideCloseBtn,this);this._fontFamilyOptValueRegExp=new RegExp(this.constructor._FONT_FAMILY_CLASS_PREFIX+"\\d")},init:function(a){this.deactivate();if(this._welWrapper){this._closeInstallGuideLayer()}this._welSettingTarget=a.welSettingTarget;if(this._isUsableOption()===false){return}this._welWrapper=jindo.$Element(jindo.$$.getSingle(this.constructor._WRAPPER_SELECTOR));this._welInstallGuide=jindo.$Element(jindo.$$.getSingle("._font_family_install_guide"));this._welInstallGuideCloseBtn=jindo.$Element(this._welInstallGuide.query("._close_btn"));this._welInstallGuideYesBtn=jindo.$Element(this._welInstallGuide.query("._yes_btn"));this._welInstallGuideNoBtn=jindo.$Element(this._welInstallGuide.query("._no_btn"));this._welWrapper.css("display","");this._selectOption(this._getDefaultOptionWel());this.activate();return this},_onActivate:function(){try{this._welWrapper.delegate("click",this.constructor._OPTION_SELECTOR,this._fnOnClickFontFamilyOption);this._wfnOnClickInstallGuideYesBtn.attach(this._welInstallGuideYesBtn,"click");this._wfnOnClickInstallGuideNoBtn.attach(this._welInstallGuideNoBtn,"click");this._wfnOnClickInstallGuideCloseBtn.attach(this._welInstallGuideCloseBtn,"click")}catch(a){}},_onDeactivate:function(){try{this._welWrapper.undelegate("click",this.constructor._OPTION_SELECTOR,this._fnOnClickFontFamilyOption);this._wfnOnClickInstallGuideYesBtn.detach(this._welInstallGuideYesBtn,"click");this._wfnOnClickInstallGuideNoBtn.detach(this._welInstallGuideNoBtn,"click");this._wfnOnClickInstallGuideCloseBtn.detach(this._welInstallGuideCloseBtn,"click")}catch(a){}},_onClickFontFamilyOption:function(a){a.stopDefault();this._selectOption(a.element,true)},_onClickInstallGuideYesBtn:function(a){this._closeInstallGuideLayer()},_onClickInstallGuideNoBtn:function(a){a.stopDefault();this._closeInstallGuideLayer()},_onClickInstallGuideCloseBtn:function(a){a.stopDefault();this._closeInstallGuideLayer()},_selectOption:function(b,a){var c=jindo.$Element(b);var d=this._getOptionValue(c);if(Boolean(d)===false){return}if(this._isNanumFontOption(c)&&this._isNotInstalled(this.constructor._NANUM_FONT_FAMILY_NAMES)){this._openInstallGuideLayer();return}this._deselectPrevSelectedOptions();c.addClass(this.constructor._OPTION_SELECTED_CLASS);this._applySelectedOption(d);if(a===true){this._saveSelectedOption(d)}},_deselectPrevSelectedOptions:function(){var a=this._welWrapper.queryAll("."+this.constructor._OPTION_SELECTED_CLASS);jindo.$ElementList(a).removeClass(this.constructor._OPTION_SELECTED_CLASS)},_applySelectedOption:function(b){var a=this._welSettingTarget.attr("class").replace(this._fontFamilyOptValueRegExp,"");this._welSettingTarget.attr("class",a);this._welSettingTarget.addClass(b)},_saveSelectedOption:function(a){this._oCookie.set(this.constructor._COOKIE_KEY,a,this.constructor._COOKIE_EXPIRE_DAY,this.constructor._COOKIE_DOMAIN)},_openInstallGuideLayer:function(){this._welInstallGuide.addClass(this.constructor._INSTALL_GUIDE_SHOW_CLASS)},_closeInstallGuideLayer:function(){this._welInstallGuide.removeClass(this.constructor._INSTALL_GUIDE_SHOW_CLASS)},_getDefaultOptionWel:function(){var a=this._welSettingTarget.attr("class").match(this._fontFamilyOptValueRegExp)||[];var b=a[0];return this._getOptionWelByValue(b)},_getOptionValue:function(b){var a=jindo.$Element(b);return(a)?a.attr(this.constructor._OPTION_VALUE_DATA_ATTR):null},_getOptionWelByValue:function(b){var a=this.constructor._WRAPPER_SELECTOR+" "+this.constructor._OPTION_SELECTOR+"["+this.constructor._OPTION_VALUE_DATA_ATTR+'="'+b+'"]';return jindo.$Element(jindo.$$.getSingle(a))},_isUsableOption:function(){var a=this._welSettingTarget.attr("class");return this._fontFamilyOptValueRegExp.test(a)},_isNanumFontOption:function(a){return a.attr(this.constructor._NANUM_FONT_OPTION_ATTR)==="true"},_isNotInstalled:function(b){var a=jindo.$A(b).some(jindo.$Fn(function(c){return this._performIsInstalledFont(c)},this).bind());return a===false},_performIsInstalledFont:function(b){var c=document.createElement("div");var d=(b==="Comic Sans MS")?"Courier New":"Comic Sans MS";var f="position:absolute !important; font-size:200px !important; left:-9999px !important; top:-9999px !important;";var e=null;var a=null;c.innerHTML="mmmmiiiii\uD55C\uAE00-\uD6C4\uB9AC\uC790";c.style.cssText=f+'font-family:"'+d+'" !important';document.body.insertBefore(c,document.body.firstChild);e=c.offsetWidth+"-"+c.offsetHeight;c.style.cssText=f+'font-family:"'+b+'", "'+d+'" !important';a=c.offsetWidth+"-"+c.offsetHeight;document.body.removeChild(c);return e!==a}}).extend(jindo.UIComponent);var Persist=(function(a){return new a()})(jindo.$Class({$init:function(){this._waEventListenerPool=jindo.$A([]);jindo.$Fn(this._onLoad,this).attach(window,"load");jindo.$Element(document).delegate("click","a",jindo.$Fn(this._onClickLink,this).bind())},addOnClickLinkListener:function(a){this._waEventListenerPool.push(a)},removeOnClickLinkListener:function(a){this._waEventListenerPool=this._waEventListenerPool.refuse(a)},getPersistedData:function(a){return _PersistModel.get(a)},_onClickLink:function(){this._waEventListenerPool.forEach(function(a){a(_PersistModel)});this._saveScrollTop()},_onLoad:function(){this._restoreScrollTop()},_saveScrollTop:function(){_PersistModel.set("scrollTop",jindo.$Document().scrollPosition().top)},_restoreScrollTop:function(){var a=_PersistModel.get("scrollTop");if(a>0){window.scrollTo(0,a)}}}));var _PersistModel=(function(a){return new a()})(jindo.$Class({$init:function(){this._storage=this._getStorage();if(this._isHistoryBackForward()===false){this._clear()}},set:function(b,c){var a=this._storage.get(this._getRootKey())||{};a[b]=c;this._storage.set(this._getRootKey(),a)},get:function(b){var a=this._storage.get(this._getRootKey());if(a===null){return a}return(b)?a[b]:a},_clear:function(){this._storage.remove(this._getRootKey())},_getStorage:function(){var b={set:function(){},get:function(){return{}},remove:function(){}};var c=null;try{c={set:function(d,e){if(typeof e==="object"){e=JSON.stringify(e)}sessionStorage.setItem(d,e)},get:function(d){return JSON.parse(sessionStorage.getItem(d))},remove:function(d){sessionStorage.removeItem(d)}};c.set("test",1);if(c.get("test")===1){c.remove("test");return c}}catch(a){}return b},_getRootKey:function(){return"___news_persist___::"+location.href},_isHistoryBackForward:function(){try{var a=(window.performance.navigation.TYPE_BACK_FORWARD||2);var c=window.performance.navigation.type;return c===a}catch(b){return false}}}));